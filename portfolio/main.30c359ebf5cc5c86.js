(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{200:(yr,Ge,E)=>{"use strict";E.d(Ge,{$:()=>$m,A:()=>te,G:()=>ft,K:()=>km,L:()=>xo,N:()=>ps,P:()=>uw,R:()=>aw,U:()=>gt,V:()=>tl,W:()=>Bu,X:()=>Df,Y:()=>Af,Z:()=>Yt,_:()=>dc,a:()=>Si,a0:()=>Wm,a1:()=>qu,a2:()=>pn,a3:()=>Km,a4:()=>Zm,a5:()=>Qm,a6:()=>Ku,a7:()=>Gb,a8:()=>Ye,a9:()=>qn,aA:()=>nc,aB:()=>kt,aC:()=>ce,aD:()=>va,aE:()=>Se,aF:()=>Zt,aG:()=>I_,aH:()=>__,aI:()=>_w,aJ:()=>nn,aN:()=>Fo,aQ:()=>wr,aa:()=>hc,ab:()=>il,ac:()=>_i,ad:()=>rl,ae:()=>Ot,af:()=>yi,ag:()=>sl,ah:()=>fc,ak:()=>pc,al:()=>Kt,am:()=>y1,ap:()=>qb,aq:()=>cr,as:()=>E1,at:()=>n_,au:()=>Ut,av:()=>tc,aw:()=>wt,ax:()=>ot,ay:()=>Ac,az:()=>C_,b:()=>Qb,c:()=>fw,d:()=>pw,e:()=>m_,f:()=>Oe,g:()=>Ec,h:()=>Xt,i:()=>vc,j:()=>Qf,k:()=>hl,l:()=>cw,m:()=>ip,p:()=>B,r:()=>p_,s:()=>lw,u:()=>od});var C=E(861),g=E(534),d=E(58),y=E(879),I=E(582),S=E(537);const B={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ft=function be(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},_n=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Nt=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yt=new y.Yd("@firebase/auth");function fn(m,...u){yt.logLevel<=y.in.ERROR&&yt.error(`Auth (${g.SDK_VERSION}): ${m}`,...u)}function ot(m,...u){throw vt(m,...u)}function kt(m,...u){return vt(m,...u)}function Jn(m,u,h){const v=Object.assign(Object.assign({},_n()),{[u]:h});return new d.LL("auth","Firebase",v).create(u,{appName:m.name})}function He(m){return Jn(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ne(m,u,h){if(!(u instanceof h))throw h.name!==u.constructor.name&&ot(m,"argument-error"),Jn(m,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(m,...u){if("string"!=typeof m){const h=u[0],v=[...u.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(h,...v)}return Nt.create(m,...u)}function ce(m,u,...h){if(!m)throw vt(u,...h)}function Ft(m){const u="INTERNAL ASSERTION FAILED: "+m;throw fn(u),new Error(u)}function Ut(m,u){m||Ft(u)}function dn(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function ci(){return"http:"===mi()||"https:"===mi()}function mi(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ui{constructor(u,h){this.shortDelay=u,this.longDelay=h,Ut(h>u,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ci()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(m,u){Ut(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return u?`${h}${u.startsWith("/")?u.slice(1):u}`:h}class ue{static initialize(u,h,v){this.fetchImpl=u,h&&(this.headersImpl=h),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Ui(3e4,6e4);function we(m,u){return m.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:m.tenantId}):u}function ae(m,u,h,v){return Le.apply(this,arguments)}function Le(){return(Le=(0,C.Z)(function*(m,u,h,v,A={}){return Tt(m,A,(0,C.Z)(function*(){let M={},Y={};v&&("GET"===u?Y=v:M={body:JSON.stringify(v)});const de=(0,d.xO)(Object.assign({key:m.config.apiKey},Y)).slice(1),Re=yield m._getAdditionalHeaders();Re["Content-Type"]="application/json",m.languageCode&&(Re["X-Firebase-Locale"]=m.languageCode);const Xe=Object.assign({method:u,headers:Re},M);return(0,d.L_)()||(Xe.referrerPolicy="no-referrer"),ue.fetch()(_t(m,m.config.apiHost,h,de),Xe)}))})).apply(this,arguments)}function Tt(m,u,h){return $e.apply(this,arguments)}function $e(){return($e=(0,C.Z)(function*(m,u,h){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},oe),u);try{const A=new Cn(m),M=yield Promise.race([h(),A.promise]);A.clearNetworkTimeout();const Y=yield M.json();if("needConfirmation"in Y)throw Vn(m,"account-exists-with-different-credential",Y);if(M.ok&&!("errorMessage"in Y))return Y;{const de=M.ok?Y.errorMessage:Y.error.message,[Re,Xe]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw Vn(m,"credential-already-in-use",Y);if("EMAIL_EXISTS"===Re)throw Vn(m,"email-already-in-use",Y);if("USER_DISABLED"===Re)throw Vn(m,"user-disabled",Y);const ht=v[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Jn(m,ht,Xe);ot(m,ht)}}catch(A){if(A instanceof d.ZR)throw A;ot(m,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function Je(m,u,h,v){return ut.apply(this,arguments)}function ut(){return(ut=(0,C.Z)(function*(m,u,h,v,A={}){const M=yield ae(m,u,h,v,A);return"mfaPendingCredential"in M&&ot(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function _t(m,u,h,v){const A=`${u}${h}?${v}`;return m.config.emulator?le(m.config,A):`${m.config.apiScheme}://${A}`}function At(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Cn{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((h,v)=>{this.timer=setTimeout(()=>v(kt(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vn(m,u,h){const v={appName:m.name};h.email&&(v.email=h.email),h.phoneNumber&&(v.phoneNumber=h.phoneNumber);const A=kt(m,u,v);return A.customData._tokenResponse=h,A}function Mi(m){return void 0!==m&&void 0!==m.getResponse}function Hi(m){return void 0!==m&&void 0!==m.enterprise}class or{constructor(u){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===u.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=u.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=u.recaptchaEnforcementState}getProviderEnforcementState(u){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===u)return At(h.enforcementState);return null}isProviderEnabled(u){return"ENFORCE"===this.getProviderEnforcementState(u)||"AUDIT"===this.getProviderEnforcementState(u)}}function Ms(){return(Ms=(0,C.Z)(function*(m){return(yield ae(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ln(m,u){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,C.Z)(function*(m,u){return ae(m,"GET","/v2/recaptchaConfig",we(m,u))})).apply(this,arguments)}function So(){return(So=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Ki(){return(Ki=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Do(m,u){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function $n(m){if(m)try{const u=new Date(Number(m));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function br(){return(br=(0,C.Z)(function*(m,u=!1){const h=(0,d.m9)(m),v=yield h.getIdToken(u),A=so(v);ce(A&&A.exp&&A.auth_time&&A.iat,h.auth,"internal-error");const M="object"==typeof A.firebase?A.firebase:void 0,Y=M?.sign_in_provider;return{claims:A,token:v,authTime:$n(Xn(A.auth_time)),issuedAtTime:$n(Xn(A.iat)),expirationTime:$n(Xn(A.exp)),signInProvider:Y||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Xn(m){return 1e3*Number(m)}function so(m){const[u,h,v]=m.split(".");if(void 0===u||void 0===h||void 0===v)return fn("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,d.tV)(h);return A?JSON.parse(A):(fn("Failed to decode base64 JWT payload"),null)}catch(A){return fn("Caught error parsing JWT payload as JSON",A?.toString()),null}}function fs(m){const u=so(m);return ce(u,"internal-error"),ce(typeof u.exp<"u","internal-error"),ce(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}function yn(m,u){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,C.Z)(function*(m,u,h=!1){if(h)return u;try{return yield u}catch(v){throw v instanceof d.ZR&&function oo({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}class Ns{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var h;if(u){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(u=!1){var h=this;if(!this.isRunning)return;const v=this.getInterval(u);this.timerId=setTimeout((0,C.Z)(function*(){yield h.iteration()}),v)}iteration(){var u=this;return(0,C.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&u.schedule(!0))}u.schedule()})()}}class xn{constructor(u,h){this.createdAt=u,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=$n(this.lastLoginAt),this.creationTime=$n(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ui(m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,C.Z)(function*(m){var u;const h=m.auth,v=yield m.getIdToken(),A=yield yn(m,Do(h,{idToken:v}));ce(A?.users.length,h,"internal-error");const M=A.users[0];m._notifyReloadListener(M);const Y=null!==(u=M.providerUserInfo)&&void 0!==u&&u.length?la(M.providerUserInfo):[],de=function ao(m,u){return[...m.filter(v=>!u.some(A=>A.providerId===v.providerId)),...u]}(m.providerData,Y),ht=!!m.isAnonymous&&!(m.email&&M.passwordHash||de?.length),Wt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:de,metadata:new xn(M.createdAt,M.lastLoginAt),isAnonymous:ht};Object.assign(m,Wt)})).apply(this,arguments)}function ks(){return(ks=(0,C.Z)(function*(m){const u=(0,d.m9)(m);yield ui(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function la(m){return m.map(u=>{var{providerId:h}=u,v=(0,I._T)(u,["providerId"]);return{providerId:h,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Fs(){return(Fs=(0,C.Z)(function*(m,u){const h=yield Tt(m,{},(0,C.Z)(function*(){const v=(0,d.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:A,apiKey:M}=m.config,Y=_t(m,A,"/v1/token",`key=${M}`),de=yield m._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(Y,{method:"POST",headers:de,body:v})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function O(){return(O=(0,C.Z)(function*(m,u){return ae(m,"POST","/v2/accounts:revokeToken",we(m,u))})).apply(this,arguments)}class x{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){ce(u.idToken,"internal-error"),ce(typeof u.idToken<"u","internal-error"),ce(typeof u.refreshToken<"u","internal-error");const h="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):fs(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,h)}updateFromIdToken(u){ce(0!==u.length,"internal-error");const h=fs(u);this.updateTokensAndExpiration(u,null,h)}getToken(u,h=!1){var v=this;return(0,C.Z)(function*(){return h||!v.accessToken||v.isExpired?(ce(v.refreshToken,u,"user-token-expired"),v.refreshToken?(yield v.refresh(u,v.refreshToken),v.accessToken):null):v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,h){var v=this;return(0,C.Z)(function*(){const{accessToken:A,refreshToken:M,expiresIn:Y}=yield function ca(m,u){return Fs.apply(this,arguments)}(u,h);v.updateTokensAndExpiration(A,M,Number(Y))})()}updateTokensAndExpiration(u,h,v){this.refreshToken=h||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(u,h){const{refreshToken:v,accessToken:A,expirationTime:M}=h,Y=new x;return v&&(ce("string"==typeof v,"internal-error",{appName:u}),Y.refreshToken=v),A&&(ce("string"==typeof A,"internal-error",{appName:u}),Y.accessToken=A),M&&(ce("number"==typeof M,"internal-error",{appName:u}),Y.expirationTime=M),Y}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new x,this.toJSON())}_performRefresh(){return Ft("not implemented")}}function R(m,u){ce("string"==typeof m||typeof m>"u","internal-error",{appName:u})}class V{constructor(u){var{uid:h,auth:v,stsTokenManager:A}=u,M=(0,I._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new xn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(u){var h=this;return(0,C.Z)(function*(){const v=yield yn(h,h.stsTokenManager.getToken(h.auth,u));return ce(v,h.auth,"internal-error"),h.accessToken!==v&&(h.accessToken=v,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),v})()}getIdTokenResult(u){return function An(m){return br.apply(this,arguments)}(this,u)}reload(){return function Ao(m){return ks.apply(this,arguments)}(this)}_assign(u){this!==u&&(ce(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(h=>Object.assign({},h)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){const h=new V(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(u){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,h=!1){var v=this;return(0,C.Z)(function*(){let A=!1;u.idToken&&u.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(u),A=!0),h&&(yield ui(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var u=this;return(0,C.Z)(function*(){if((0,g._isFirebaseServerApp)(u.auth.app))return Promise.reject(He(u.auth));const h=yield u.getIdToken();return yield yn(u,function io(m,u){return So.apply(this,arguments)}(u.auth,{idToken:h})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,h){var v,A,M,Y,de,Re,Xe,ht;const Wt=null!==(v=h.displayName)&&void 0!==v?v:void 0,Cr=null!==(A=h.email)&&void 0!==A?A:void 0,ys=null!==(M=h.phoneNumber)&&void 0!==M?M:void 0,js=null!==(Y=h.photoURL)&&void 0!==Y?Y:void 0,F_=null!==(de=h.tenantId)&&void 0!==de?de:void 0,Id=null!==(Re=h._redirectEventId)&&void 0!==Re?Re:void 0,ap=null!==(Xe=h.createdAt)&&void 0!==Xe?Xe:void 0,fl=null!==(ht=h.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:lp,emailVerified:tr,isAnonymous:L_,providerData:Dn,stsTokenManager:bd}=h;ce(lp&&bd,u,"internal-error");const Pw=x.fromJSON(this.name,bd);ce("string"==typeof lp,u,"internal-error"),R(Wt,u.name),R(Cr,u.name),ce("boolean"==typeof tr,u,"internal-error"),ce("boolean"==typeof L_,u,"internal-error"),R(ys,u.name),R(js,u.name),R(F_,u.name),R(Id,u.name),R(ap,u.name),R(fl,u.name);const wd=new V({uid:lp,auth:u,email:Cr,emailVerified:tr,displayName:Wt,isAnonymous:L_,photoURL:js,phoneNumber:ys,tenantId:F_,stsTokenManager:Pw,createdAt:ap,lastLoginAt:fl});return Dn&&Array.isArray(Dn)&&(wd.providerData=Dn.map(Ed=>Object.assign({},Ed))),Id&&(wd._redirectEventId=Id),wd}static _fromIdTokenResponse(u,h,v=!1){return(0,C.Z)(function*(){const A=new x;A.updateFromServerResponse(h);const M=new V({uid:h.localId,auth:u,stsTokenManager:A,isAnonymous:v});return yield ui(M),M})()}static _fromGetAccountInfoResponse(u,h,v){return(0,C.Z)(function*(){const A=h.users[0];ce(void 0!==A.localId,"internal-error");const M=void 0!==A.providerUserInfo?la(A.providerUserInfo):[],Y=!(A.email&&A.passwordHash||M?.length),de=new x;de.updateFromIdToken(v);const Re=new V({uid:A.localId,auth:u,stsTokenManager:de,isAnonymous:Y}),Xe={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:M,metadata:new xn(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash||M?.length)};return Object.assign(Re,Xe),Re})()}}const G=new Map;function Se(m){Ut(m instanceof Function,"Expected a class definition");let u=G.get(m);return u?(Ut(u instanceof m,"Instance stored in cache mismatched with class"),u):(u=new m,G.set(m,u),u)}const gt=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,C.Z)(function*(){return!0})()}_set(h,v){var A=this;return(0,C.Z)(function*(){A.storage[h]=v})()}_get(h){var v=this;return(0,C.Z)(function*(){const A=v.storage[h];return void 0===A?null:A})()}_remove(h){var v=this;return(0,C.Z)(function*(){delete v.storage[h]})()}_addListener(h,v){}_removeListener(h,v){}}return m.type="NONE",m})();function Zt(m,u,h){return`firebase:${m}:${u}:${h}`}class it{constructor(u,h,v){this.persistence=u,this.auth=h,this.userKey=v;const{config:A,name:M}=this.auth;this.fullUserKey=Zt(this.userKey,A.apiKey,M),this.fullPersistenceKey=Zt("persistence",A.apiKey,M),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,C.Z)(function*(){const h=yield u.persistence._get(u.fullUserKey);return h?V._fromJSON(u.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var h=this;return(0,C.Z)(function*(){if(h.persistence===u)return;const v=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=u,v?h.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,h,v="authUser"){return(0,C.Z)(function*(){if(!h.length)return new it(Se(gt),u,v);const A=(yield Promise.all(h.map(function(){var Xe=(0,C.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let M=A[0]||Se(gt);const Y=Zt(v,u.config.apiKey,u.name);let de=null;for(const Xe of h)try{const ht=yield Xe._get(Y);if(ht){const Wt=V._fromJSON(u,ht);Xe!==M&&(de=Wt),M=Xe;break}}catch{}const Re=A.filter(Xe=>Xe._shouldAllowMigration);return M._shouldAllowMigration&&Re.length?(M=Re[0],de&&(yield M._set(Y,de.toJSON())),yield Promise.all(h.map(function(){var Xe=(0,C.Z)(function*(ht){if(ht!==M)try{yield ht._remove(Y)}catch{}});return function(ht){return Xe.apply(this,arguments)}}())),new it(M,u,v)):new it(M,u,v)})()}}function Tn(m){const u=m.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(rn(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(Be(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(ua(u))return"Blackberry";if(Xa(u))return"Webos";if(Nn(u))return"Safari";if((u.includes("chrome/")||es(u))&&!u.includes("edge/"))return"Chrome";if(wt(u))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function Be(m=(0,d.z$)()){return/firefox\//i.test(m)}function Nn(m=(0,d.z$)()){const u=m.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function es(m=(0,d.z$)()){return/crios\//i.test(m)}function rn(m=(0,d.z$)()){return/iemobile/i.test(m)}function wt(m=(0,d.z$)()){return/android/i.test(m)}function ua(m=(0,d.z$)()){return/blackberry/i.test(m)}function Xa(m=(0,d.z$)()){return/webos/i.test(m)}function tc(m=(0,d.z$)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function nc(m=(0,d.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function Q(m=(0,d.z$)()){return tc(m)||wt(m)||Xa(m)||ua(m)||/windows phone/i.test(m)||rn(m)}function he(m,u=[]){let h;switch(m){case"Browser":h=Tn((0,d.z$)());break;case"Worker":h=`${Tn((0,d.z$)())}-${m}`;break;default:h=m}const v=u.length?u.join(","):"FirebaseCore-web";return`${h}/JsCore/${g.SDK_VERSION}/${v}`}class Ze{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,h){const v=M=>new Promise((Y,de)=>{try{Y(u(M))}catch(Re){de(Re)}});v.onAbort=h,this.queue.push(v);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(u){var h=this;return(0,C.Z)(function*(){if(h.auth.currentUser===u)return;const v=[];try{for(const A of h.queue)yield A(u),A.onAbort&&v.push(A.onAbort)}catch(A){v.reverse();for(const M of v)try{M()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}function Rt(){return(Rt=(0,C.Z)(function*(m,u={}){return ae(m,"GET","/v2/passwordPolicy",we(m,u))})).apply(this,arguments)}class Qt{constructor(u){var h,v,A,M;const Y=u.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=Y.minPasswordLength)&&void 0!==h?h:6,Y.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Y.maxPasswordLength),void 0!==Y.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Y.containsLowercaseCharacter),void 0!==Y.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Y.containsUppercaseCharacter),void 0!==Y.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Y.containsNumericCharacter),void 0!==Y.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Y.containsNonAlphanumericCharacter),this.enforcementState=u.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(A=null===(v=u.allowedNonAlphanumericCharacters)||void 0===v?void 0:v.join(""))&&void 0!==A?A:"",this.forceUpgradeOnSignin=null!==(M=u.forceUpgradeOnSignin)&&void 0!==M&&M,this.schemaVersion=u.schemaVersion}validatePassword(u){var h,v,A,M,Y,de;const Re={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(u,Re),this.validatePasswordCharacterOptions(u,Re),Re.isValid&&(Re.isValid=null===(h=Re.meetsMinPasswordLength)||void 0===h||h),Re.isValid&&(Re.isValid=null===(v=Re.meetsMaxPasswordLength)||void 0===v||v),Re.isValid&&(Re.isValid=null===(A=Re.containsLowercaseLetter)||void 0===A||A),Re.isValid&&(Re.isValid=null===(M=Re.containsUppercaseLetter)||void 0===M||M),Re.isValid&&(Re.isValid=null===(Y=Re.containsNumericCharacter)||void 0===Y||Y),Re.isValid&&(Re.isValid=null===(de=Re.containsNonAlphanumericCharacter)||void 0===de||de),Re}validatePasswordLengthOptions(u,h){const v=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;v&&(h.meetsMinPasswordLength=u.length>=v),A&&(h.meetsMaxPasswordLength=u.length<=A)}validatePasswordCharacterOptions(u,h){let v;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let A=0;A<u.length;A++)v=u.charAt(A),this.updatePasswordCharacterOptionsStatuses(h,v>="a"&&v<="z",v>="A"&&v<="Z",v>="0"&&v<="9",this.allowedNonAlphanumericCharacters.includes(v))}updatePasswordCharacterOptionsStatuses(u,h,v,A,M){this.customStrengthOptions.containsLowercaseLetter&&(u.containsLowercaseLetter||(u.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(u.containsUppercaseLetter||(u.containsUppercaseLetter=v)),this.customStrengthOptions.containsNumericCharacter&&(u.containsNumericCharacter||(u.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(u.containsNonAlphanumericCharacter||(u.containsNonAlphanumericCharacter=M))}}class ei{constructor(u,h,v,A){this.app=u,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new da(this),this.idTokenSubscription=new da(this),this.beforeStateQueue=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(u,h){var v=this;return h&&(this._popupRedirectResolver=Se(h)),this._initializationPromise=this.queue((0,C.Z)(function*(){var A,M;if(!v._deleted&&(v.persistenceManager=yield it.create(v,u),!v._deleted)){if(null!==(A=v._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(h),v.lastNotifiedUid=(null===(M=v.currentUser)||void 0===M?void 0:M.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,C.Z)(function*(){if(u._deleted)return;const h=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||h){if(u.currentUser&&h&&u.currentUser.uid===h.uid)return u._currentUser._assign(h),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(u){var h=this;return(0,C.Z)(function*(){try{const v=yield Do(h,{idToken:u}),A=yield V._fromGetAccountInfoResponse(h,v,u);yield h.directlySetCurrentUser(A)}catch(v){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",v),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(u){var h=this;return(0,C.Z)(function*(){var v;if((0,g._isFirebaseServerApp)(h.app)){const de=h.app.settings.authIdToken;return de?new Promise(Re=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(de).then(Re,Re))}):h.directlySetCurrentUser(null)}const A=yield h.assertedPersistence.getCurrentUser();let M=A,Y=!1;if(u&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const de=null===(v=h.redirectUser)||void 0===v?void 0:v._redirectEventId,Re=M?._redirectEventId,Xe=yield h.tryRedirectSignIn(u);(!de||de===Re)&&Xe?.user&&(M=Xe.user,Y=!0)}if(!M)return h.directlySetCurrentUser(null);if(!M._redirectEventId){if(Y)try{yield h.beforeStateQueue.runMiddleware(M)}catch(de){M=A,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(de))}return M?h.reloadAndSetCurrentUserOrClear(M):h.directlySetCurrentUser(null)}return ce(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===M._redirectEventId?h.directlySetCurrentUser(M):h.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(u){var h=this;return(0,C.Z)(function*(){let v=null;try{v=yield h._popupRedirectResolver._completeRedirectFn(h,u,!0)}catch{yield h._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(u){var h=this;return(0,C.Z)(function*(){try{yield ui(u)}catch(v){if("auth/network-request-failed"!==v?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function vr(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var u=this;return(0,C.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var h=this;return(0,C.Z)(function*(){if((0,g._isFirebaseServerApp)(h.app))return Promise.reject(He(h));const v=u?(0,d.m9)(u):null;return v&&ce(v.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(v&&v._clone(h))})()}_updateCurrentUser(u,h=!1){var v=this;return(0,C.Z)(function*(){if(!v._deleted)return u&&ce(v.tenantId===u.tenantId,v,"tenant-id-mismatch"),h||(yield v.beforeStateQueue.runMiddleware(u)),v.queue((0,C.Z)(function*(){yield v.directlySetCurrentUser(u),v.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,C.Z)(function*(){return(0,g._isFirebaseServerApp)(u.app)?Promise.reject(He(u)):(yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0))})()}setPersistence(u){var h=this;return(0,g._isFirebaseServerApp)(this.app)?Promise.reject(He(this)):this.queue((0,C.Z)(function*(){yield h.assertedPersistence.setPersistence(Se(u))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(u){var h=this;return(0,C.Z)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const v=h._getPasswordPolicyInternal();return v.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):v.validatePassword(u)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var u=this;return(0,C.Z)(function*(){const h=yield function xt(m){return Rt.apply(this,arguments)}(u),v=new Qt(h);null===u.tenantId?u._projectPasswordPolicy=v:u._tenantPasswordPolicies[u.tenantId]=v})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new d.LL("auth","Firebase",u())}onAuthStateChanged(u,h,v){return this.registerStateListener(this.authStateSubscription,u,h,v)}beforeAuthStateChanged(u,h){return this.beforeStateQueue.pushCallback(u,h)}onIdTokenChanged(u,h,v){return this.registerStateListener(this.idTokenSubscription,u,h,v)}authStateReady(){return new Promise((u,h)=>{if(this.currentUser)u();else{const v=this.onAuthStateChanged(()=>{v(),u()},h)}})}revokeAccessToken(u){var h=this;return(0,C.Z)(function*(){if(h.currentUser){const v=yield h.currentUser.getIdToken(),A={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:u,idToken:v};null!=h.tenantId&&(A.tenantId=h.tenantId),yield function lo(m,u){return O.apply(this,arguments)}(h,A)}})()}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,h){var v=this;return(0,C.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(h);return null===u?A.removeCurrentUser():A.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var h=this;return(0,C.Z)(function*(){if(!h.redirectPersistenceManager){const v=u&&Se(u)||h._popupRedirectResolver;ce(v,h,"argument-error"),h.redirectPersistenceManager=yield it.create(h,[Se(v._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(u){var h=this;return(0,C.Z)(function*(){var v,A;return h._isInitialized&&(yield h.queue((0,C.Z)(function*(){}))),(null===(v=h._currentUser)||void 0===v?void 0:v._redirectEventId)===u?h._currentUser:(null===(A=h.redirectUser)||void 0===A?void 0:A._redirectEventId)===u?h.redirectUser:null})()}_persistUserIfCurrent(u){var h=this;return(0,C.Z)(function*(){if(u===h.currentUser)return h.queue((0,C.Z)(function*(){return h.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(h=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,h,v,A){if(this._deleted)return()=>{};const M="function"==typeof h?h:h.next.bind(h);let Y=!1;const de=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(de,this,"internal-error"),de.then(()=>{Y||M(this.currentUser)}),"function"==typeof h){const Re=u.addObserver(h,v,A);return()=>{Y=!0,Re()}}{const Re=u.addObserver(h);return()=>{Y=!0,Re()}}}directlySetCurrentUser(u){var h=this;return(0,C.Z)(function*(){h.currentUser&&h.currentUser!==u&&h._currentUser._stopProactiveRefresh(),u&&h.isProactiveRefreshEnabled&&u._startProactiveRefresh(),h.currentUser=u,u?yield h.assertedPersistence.setCurrentUser(u):yield h.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,C.Z)(function*(){var h;const v={"X-Client-Version":u.clientVersion};u.app.options.appId&&(v["X-Firebase-gmpid"]=u.app.options.appId);const A=yield null===(h=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();A&&(v["X-Firebase-Client"]=A);const M=yield u._getAppCheckToken();return M&&(v["X-Firebase-AppCheck"]=M),v})()}_getAppCheckToken(){var u=this;return(0,C.Z)(function*(){var h;const v=yield null===(h=u.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return v?.error&&function un(m,...u){yt.logLevel<=y.in.WARN&&yt.warn(`Auth (${g.SDK_VERSION}): ${m}`,...u)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function nn(m){return(0,d.m9)(m)}class da{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,d.ne)(h=>this.observer=h)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lr={loadJS:()=>(0,C.Z)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pm(m){return Lr.loadJS(m)}function Ub(m){return`__${m}${Math.floor(1e6*Math.random())}`}class Vr{constructor(u){this.type="recaptcha-enterprise",this.auth=nn(u)}verify(u="verify",h=!1){var v=this;return(0,C.Z)(function*(){function M(){return M=(0,C.Z)(function*(de){if(!h){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var Re=(0,C.Z)(function*(Xe,ht){ln(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wt=>{if(void 0!==Wt.recaptchaKey){const Cr=new or(Wt);return null==de.tenantId?de._agentRecaptchaConfig=Cr:de._tenantRecaptchaConfigs[de.tenantId]=Cr,Xe(Cr.siteKey)}ht(new Error("recaptcha Enterprise site key undefined"))}).catch(Wt=>{ht(Wt)})});return function(Xe,ht){return Re.apply(this,arguments)}}())}),M.apply(this,arguments)}function Y(de,Re,Xe){const ht=window.grecaptcha;Hi(ht)?ht.enterprise.ready(()=>{ht.enterprise.execute(de,{action:u}).then(Wt=>{Re(Wt)}).catch(()=>{Re("NO_RECAPTCHA")})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,Re)=>{(function A(de){return M.apply(this,arguments)})(v.auth).then(Xe=>{if(!h&&Hi(window.grecaptcha))Y(Xe,de,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));let ht=function p1(){return Lr.recaptchaEnterpriseScript}();0!==ht.length&&(ht+=Xe),Pm(ht).then(()=>{Y(Xe,de,Re)}).catch(Wt=>{Re(Wt)})}}).catch(Xe=>{Re(Xe)})})})()}}function Ct(m,u,h){return Om.apply(this,arguments)}function Om(){return(Om=(0,C.Z)(function*(m,u,h,v=!1){const A=new Vr(m);let M;try{M=yield A.verify(h)}catch{M=yield A.verify(h,!0)}const Y=Object.assign({},u);return Object.assign(Y,v?{captchaResp:M}:{captchaResponse:M}),Object.assign(Y,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Y,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Y})).apply(this,arguments)}function Mu(m,u,h,v){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,C.Z)(function*(m,u,h,v){var A;if(null!==(A=m._getRecaptchaConfig())&&void 0!==A&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const M=yield Ct(m,u,h,"getOobCode"===h);return v(m,M)}return v(m,u).catch(function(){var M=(0,C.Z)(function*(Y){if("auth/missing-recaptcha-token"===Y.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const de=yield Ct(m,u,h,"getOobCode"===h);return v(m,de)}return Promise.reject(Y)});return function(Y){return M.apply(this,arguments)}}())}),Mm.apply(this,arguments)}function km(m,u,h){const v=nn(m);ce(v._canInitEmulator,v,"emulator-config-failed"),ce(/^https?:\/\//.test(u),v,"invalid-emulator-scheme");const A=!!h?.disableWarnings,M=mf(u),{host:Y,port:de}=function jb(m){const u=mf(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(u.length));if(!h)return{host:"",port:null};const v=h[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const M=A[1];return{host:M,port:ic(v.substr(M.length+1))}}{const[M,Y]=v.split(":");return{host:M,port:ic(Y)}}}(u);v.config.emulator={url:`${M}//${Y}${null===de?"":`:${de}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Y,port:de,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ku(){function m(){const u=document.createElement("p"),h=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function mf(m){const u=m.indexOf(":");return u<0?"":m.substr(0,u+1)}function ic(m){if(!m)return null;const u=Number(m);return isNaN(u)?null:u}class xo{constructor(u,h){this.providerId=u,this.signInMethod=h}toJSON(){return Ft("not implemented")}_getIdTokenResponse(u){return Ft("not implemented")}_linkToIdToken(u,h){return Ft("not implemented")}_getReauthenticationResolver(u){return Ft("not implemented")}}function _f(m,u){return yf.apply(this,arguments)}function yf(){return(yf=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:resetPassword",we(m,u))})).apply(this,arguments)}function rc(){return(rc=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Fm(m,u){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:signUp",u)})).apply(this,arguments)}function Vm(){return(Vm=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:update",we(m,u))})).apply(this,arguments)}function kn(m,u){return Bm.apply(this,arguments)}function Bm(){return(Bm=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithPassword",we(m,u))})).apply(this,arguments)}function vf(m,u){return sc.apply(this,arguments)}function sc(){return(sc=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:sendOobCode",we(m,u))})).apply(this,arguments)}function Fu(){return(Fu=(0,C.Z)(function*(m,u){return vf(m,u)})).apply(this,arguments)}function bf(m,u){return wf.apply(this,arguments)}function wf(){return(wf=(0,C.Z)(function*(m,u){return vf(m,u)})).apply(this,arguments)}function Ef(m,u){return Um.apply(this,arguments)}function Um(){return(Um=(0,C.Z)(function*(m,u){return vf(m,u)})).apply(this,arguments)}function Hm(){return(Hm=(0,C.Z)(function*(m,u){return vf(m,u)})).apply(this,arguments)}function jm(){return(jm=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithEmailLink",we(m,u))})).apply(this,arguments)}function ac(){return(ac=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithEmailLink",we(m,u))})).apply(this,arguments)}class Ro extends xo{constructor(u,h,v,A=null){super("password",v),this._email=u,this._password=h,this._tenantId=A}static _fromEmailAndPassword(u,h){return new Ro(u,h,"password")}static _fromEmailAndCode(u,h,v=null){return new Ro(u,h,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(u){var h=this;return(0,C.Z)(function*(){switch(h.signInMethod){case"password":return Mu(u,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",kn);case"emailLink":return function _1(m,u){return jm.apply(this,arguments)}(u,{email:h._email,oobCode:h._password});default:ot(u,"internal-error")}})()}_linkToIdToken(u,h){var v=this;return(0,C.Z)(function*(){switch(v.signInMethod){case"password":return Mu(u,{idToken:h,returnSecureToken:!0,email:v._email,password:v._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fm);case"emailLink":return function oc(m,u){return ac.apply(this,arguments)}(u,{idToken:h,email:v._email,oobCode:v._password});default:ot(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function co(m,u){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithIdp",we(m,u))})).apply(this,arguments)}class ps extends xo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const h=new ps(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(h.idToken=u.idToken),u.accessToken&&(h.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(h.nonce=u.nonce),u.pendingToken&&(h.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(h.accessToken=u.oauthToken,h.secret=u.oauthTokenSecret):ot("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:A}=h,M=(0,I._T)(h,["providerId","signInMethod"]);if(!v||!A)return null;const Y=new ps(v,A);return Y.idToken=M.idToken||void 0,Y.accessToken=M.accessToken||void 0,Y.secret=M.secret,Y.nonce=M.nonce,Y.pendingToken=M.pendingToken||null,Y}_getIdTokenResponse(u){return co(u,this.buildRequest())}_linkToIdToken(u,h){const v=this.buildRequest();return v.idToken=h,co(u,v)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,co(u,h)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),u.postBody=(0,d.xO)(h)}return u}}function Tf(){return(Tf=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:sendVerificationCode",we(m,u))})).apply(this,arguments)}function Sf(){return(Sf=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithPhoneNumber",we(m,u))})).apply(this,arguments)}function Lu(){return(Lu=(0,C.Z)(function*(m,u){const h=yield Je(m,"POST","/v1/accounts:signInWithPhoneNumber",we(m,u));if(h.temporaryProof)throw Vn(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const et={USER_NOT_FOUND:"user-not-found"};function lc(){return(lc=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithPhoneNumber",we(m,Object.assign(Object.assign({},u),{operation:"REAUTH"})),et)})).apply(this,arguments)}class gs extends xo{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,h){return new gs({verificationId:u,verificationCode:h})}static _fromTokenResponse(u,h){return new gs({phoneNumber:u,temporaryProof:h})}_getIdTokenResponse(u){return function Po(m,u){return Sf.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,h){return function De(m,u){return Lu.apply(this,arguments)}(u,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Vu(m,u){return lc.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:h,verificationId:v,verificationCode:A}=this.params;return u&&h?{temporaryProof:u,phoneNumber:h}:{sessionInfo:v,code:A}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:h,verificationCode:v,phoneNumber:A,temporaryProof:M}=u;return v||h||A||M?new gs({verificationId:h,verificationCode:v,phoneNumber:A,temporaryProof:M}):null}}class cc{constructor(u){var h,v,A,M,Y,de;const Re=(0,d.zd)((0,d.pd)(u)),Xe=null!==(h=Re.apiKey)&&void 0!==h?h:null,ht=null!==(v=Re.oobCode)&&void 0!==v?v:null,Wt=function $b(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Re.mode)&&void 0!==A?A:null);ce(Xe&&ht&&Wt,"argument-error"),this.apiKey=Xe,this.operation=Wt,this.code=ht,this.continueUrl=null!==(M=Re.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(Y=Re.languageCode)&&void 0!==Y?Y:null,this.tenantId=null!==(de=Re.tenantId)&&void 0!==de?de:null}static parseLink(u){const h=function Wb(m){const u=(0,d.zd)((0,d.pd)(m)).link,h=u?(0,d.zd)((0,d.pd)(u)).deep_link_id:null,v=(0,d.zd)((0,d.pd)(m)).deep_link_id;return(v?(0,d.zd)((0,d.pd)(v)).link:null)||v||h||u||m}(u);try{return new cc(h)}catch{return null}}}let tl=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,v){return Ro._fromEmailAndPassword(h,v)}static credentialWithLink(h,v){const A=cc.parseLink(v);return ce(A,"argument-error"),Ro._fromEmailAndCode(h,A.code,A.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Ii{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class ar extends Ii{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class Yt extends ar{static credentialFromJSON(u){const h="string"==typeof u?JSON.parse(u):u;return ce("providerId"in h&&"signInMethod"in h,"argument-error"),ps._fromParams(h)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return ce(u.idToken||u.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return Yt.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return Yt.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:h,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:M,nonce:Y,providerId:de}=u;if(!v&&!A&&!h&&!M||!de)return null;try{return new Yt(de)._credential({idToken:h,accessToken:v,nonce:Y,pendingToken:M})}catch{return null}}}let Bu=(()=>{class m extends ar{constructor(){super("facebook.com")}static credential(h){return ps._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Df=(()=>{class m extends ar{constructor(){super("google.com"),this.addScope("profile")}static credential(h,v){return ps._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:v,oauthAccessToken:A}=h;if(!v&&!A)return null;try{return m.credential(v,A)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Af=(()=>{class m extends ar{constructor(){super("github.com")}static credential(h){return ps._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class wr extends xo{constructor(u,h){super(u,u),this.pendingToken=h}_getIdTokenResponse(u){return co(u,this.buildRequest())}_linkToIdToken(u,h){const v=this.buildRequest();return v.idToken=h,co(u,v)}_getReauthenticationResolver(u){const h=this.buildRequest();return h.autoCreate=!1,co(u,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const h="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:A,pendingToken:M}=h;return v&&A&&M&&v===A?new wr(v,M):null}static _create(u,h){return new wr(u,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dc extends Ii{constructor(u){ce(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return dc.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return dc.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const h=wr.fromJSON(u);return ce(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:h,providerId:v}=u;if(!h||!v)return null;try{return wr._create(v,h)}catch{return null}}}let $m=(()=>{class m extends ar{constructor(){super("twitter.com")}static credential(h,v){return ps._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:v})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=h;if(!v||!A)return null;try{return m.credential(v,A)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Uu(m,u){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signUp",we(m,u))})).apply(this,arguments)}class Br{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,h,v,A=!1){return(0,C.Z)(function*(){const M=yield V._fromIdTokenResponse(u,v,A),Y=nl(v);return new Br({user:M,providerId:Y,_tokenResponse:v,operationType:h})})()}static _forOperation(u,h,v){return(0,C.Z)(function*(){yield u._updateTokensIfNecessary(v,!0);const A=nl(v);return new Br({user:u,providerId:A,_tokenResponse:v,operationType:h})})()}}function nl(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Wm(m){return ju.apply(this,arguments)}function ju(){return(ju=(0,C.Z)(function*(m){var u;if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const h=nn(m);if(yield h._initializationPromise,null!==(u=h.currentUser)&&void 0!==u&&u.isAnonymous)return new Br({user:h.currentUser,providerId:null,operationType:"signIn"});const v=yield Uu(h,{returnSecureToken:!0}),A=yield Br._fromIdTokenResponse(h,"signIn",v,!0);return yield h._updateCurrentUser(A.user),A})).apply(this,arguments)}class zu extends d.ZR{constructor(u,h,v,A){var M;super(h.code,h.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,zu.prototype),this.customData={appName:u.name,tenantId:null!==(M=u.tenantId)&&void 0!==M?M:void 0,_serverResponse:h.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(u,h,v,A){return new zu(u,h,v,A)}}function xf(m,u,h,v){return("reauthenticate"===u?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?zu._fromErrorAndOperation(m,M,u,v):M})}function qm(m){return new Set(m.map(({providerId:u})=>u).filter(u=>!!u))}function qb(m,u){return Ur.apply(this,arguments)}function Ur(){return Ur=(0,C.Z)(function*(m,u){const h=(0,d.m9)(m);yield Wu(!0,h,u);const{providerUserInfo:v}=yield function ro(m,u){return Ki.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[u]}),A=qm(v||[]);return h.providerData=h.providerData.filter(M=>A.has(M.providerId)),A.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Ur.apply(this,arguments)}function Rf(m,u){return $u.apply(this,arguments)}function $u(){return($u=(0,C.Z)(function*(m,u,h=!1){const v=yield yn(m,u._linkToIdToken(m.auth,yield m.getIdToken()),h);return Br._forOperation(m,"link",v)})).apply(this,arguments)}function Wu(m,u,h){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,C.Z)(function*(m,u,h){yield ui(u);const A=!1===m?"provider-already-linked":"no-such-provider";ce(qm(u.providerData).has(h)===m,u.auth,A)})).apply(this,arguments)}function Gm(m,u){return Of.apply(this,arguments)}function Of(){return(Of=(0,C.Z)(function*(m,u,h=!1){const{auth:v}=m;if((0,g._isFirebaseServerApp)(v.app))return Promise.reject(He(v));const A="reauthenticate";try{const M=yield yn(m,xf(v,A,u,m),h);ce(M.idToken,v,"internal-error");const Y=so(M.idToken);ce(Y,v,"internal-error");const{sub:de}=Y;return ce(m.uid===de,v,"user-mismatch"),Br._forOperation(m,A,M)}catch(M){throw"auth/user-not-found"===M?.code&&ot(v,"user-mismatch"),M}})).apply(this,arguments)}function Mf(m,u){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,C.Z)(function*(m,u,h=!1){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const v="signIn",A=yield xf(m,v,u),M=yield Br._fromIdTokenResponse(m,v,A);return h||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function qu(m,u){return kf.apply(this,arguments)}function kf(){return(kf=(0,C.Z)(function*(m,u){return Mf(nn(m),u)})).apply(this,arguments)}function pn(m,u){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,C.Z)(function*(m,u){const h=(0,d.m9)(m);return yield Wu(!1,h,u.providerId),Rf(h,u)})).apply(this,arguments)}function Km(m,u){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,C.Z)(function*(m,u){return Gm((0,d.m9)(m),u)})).apply(this,arguments)}function Vf(){return(Vf=(0,C.Z)(function*(m,u){return Je(m,"POST","/v1/accounts:signInWithCustomToken",we(m,u))})).apply(this,arguments)}function Zm(m,u){return dt.apply(this,arguments)}function dt(){return dt=(0,C.Z)(function*(m,u){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const h=nn(m),v=yield function Sn(m,u){return Vf.apply(this,arguments)}(h,{token:u,returnSecureToken:!0}),A=yield Br._fromIdTokenResponse(h,"signIn",v);return yield h._updateCurrentUser(A.user),A}),dt.apply(this,arguments)}class ki{constructor(u,h){this.factorId=u,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(u,h){return"phoneInfo"in h?Jt._fromServerResponse(u,h):"totpInfo"in h?Ti._fromServerResponse(u,h):ot(u,"internal-error")}}class Jt extends ki{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,h){return new Jt(h)}}class Ti extends ki{constructor(u){super("totp",u)}static _fromServerResponse(u,h){return new Ti(h)}}function Fi(m,u,h){var v;ce((null===(v=h.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),ce(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),u.continueUrl=h.url,u.dynamicLinkDomain=h.dynamicLinkDomain,u.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(ce(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),u.iOSBundleId=h.iOS.bundleId),h.android&&(ce(h.android.packageName.length>0,m,"missing-android-pkg-name"),u.androidInstallApp=h.android.installApp,u.androidMinimumVersionCode=h.android.minimumVersion,u.androidPackageName=h.android.packageName)}function Mo(m){return lr.apply(this,arguments)}function lr(){return(lr=(0,C.Z)(function*(m){const u=nn(m);u._getPasswordPolicyInternal()&&(yield u._updatePasswordPolicy())})).apply(this,arguments)}function Qm(m,u,h){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,C.Z)(function*(m,u,h){const v=nn(m),A={requestType:"PASSWORD_RESET",email:u,clientType:"CLIENT_TYPE_WEB"};h&&Fi(v,A,h),yield Mu(v,A,"getOobCode",bf)})).apply(this,arguments)}function Ku(m,u,h){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,C.Z)(function*(m,u,h){yield _f((0,d.m9)(m),{oobCode:u,newPassword:h}).catch(function(){var v=(0,C.Z)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&Mo(m),A});return function(A){return v.apply(this,arguments)}}())}),Bf.apply(this,arguments)}function Gb(m,u){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,C.Z)(function*(m,u){yield function Lm(m,u){return Vm.apply(this,arguments)}((0,d.m9)(m),{oobCode:u})}),Wn.apply(this,arguments)}function Ye(m,u){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,C.Z)(function*(m,u){const h=(0,d.m9)(m),v=yield _f(h,{oobCode:u}),A=v.requestType;switch(ce(A,h,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(v.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(v.mfaInfo,h,"internal-error");default:ce(v.email,h,"internal-error")}let M=null;return v.mfaInfo&&(M=ki._fromServerResponse(nn(h),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:M},operation:A}})).apply(this,arguments)}function qn(m,u){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,C.Z)(function*(m,u){const{data:h}=yield Ye((0,d.m9)(m),u);return h.email})).apply(this,arguments)}function hc(m,u,h){return Li.apply(this,arguments)}function Li(){return(Li=(0,C.Z)(function*(m,u,h){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const v=nn(m),Y=yield Mu(v,{returnSecureToken:!0,email:u,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Uu).catch(Re=>{throw"auth/password-does-not-meet-requirements"===Re.code&&Mo(m),Re}),de=yield Br._fromIdTokenResponse(v,"signIn",Y);return yield v._updateCurrentUser(de.user),de})).apply(this,arguments)}function il(m,u,h){return(0,g._isFirebaseServerApp)(m.app)?Promise.reject(He(m)):qu((0,d.m9)(m),tl.credential(u,h)).catch(function(){var v=(0,C.Z)(function*(A){throw"auth/password-does-not-meet-requirements"===A.code&&Mo(m),A});return function(A){return v.apply(this,arguments)}}())}function _i(m,u,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,C.Z)(function*(m,u,h){const v=nn(m),A={requestType:"EMAIL_SIGNIN",email:u,clientType:"CLIENT_TYPE_WEB"};(function M(Y,de){ce(de.handleCodeInApp,v,"argument-error"),de&&Fi(v,Y,de)})(A,h),yield Mu(v,A,"getOobCode",Ef)})).apply(this,arguments)}function rl(m,u){const h=cc.parseLink(u);return"EMAIL_SIGNIN"===h?.operation}function Ot(m,u,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,C.Z)(function*(m,u,h){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const v=(0,d.m9)(m),A=tl.credentialWithLink(u,h||dn());return ce(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),qu(v,A)})).apply(this,arguments)}function No(){return(No=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:createAuthUri",we(m,u))})).apply(this,arguments)}function yi(m,u){return fa.apply(this,arguments)}function fa(){return fa=(0,C.Z)(function*(m,u){const v={identifier:u,continueUri:ci()?dn():"http://localhost"},{signinMethods:A}=yield function Ym(m,u){return No.apply(this,arguments)}((0,d.m9)(m),v);return A||[]}),fa.apply(this,arguments)}function sl(m,u){return ts.apply(this,arguments)}function ts(){return ts=(0,C.Z)(function*(m,u){const h=(0,d.m9)(m),A={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};u&&Fi(h.auth,A,u);const{email:M}=yield function If(m,u){return Fu.apply(this,arguments)}(h.auth,A);M!==m.email&&(yield m.reload())}),ts.apply(this,arguments)}function fc(m,u,h){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:u};h&&Fi(v.auth,M,h);const{email:Y}=yield function m1(m,u){return Hm.apply(this,arguments)}(v.auth,M);Y!==m.email&&(yield m.reload())}),Zu.apply(this,arguments)}function ms(){return(ms=(0,C.Z)(function*(m,u){return ae(m,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function pc(m,u){return pa.apply(this,arguments)}function pa(){return pa=(0,C.Z)(function*(m,{displayName:u,photoURL:h}){if(void 0===u&&void 0===h)return;const v=(0,d.m9)(m),M={idToken:yield v.getIdToken(),displayName:u,photoUrl:h,returnSecureToken:!0},Y=yield yn(v,function ko(m,u){return ms.apply(this,arguments)}(v.auth,M));v.displayName=Y.displayName||null,v.photoURL=Y.photoUrl||null;const de=v.providerData.find(({providerId:Re})=>"password"===Re);de&&(de.displayName=v.displayName,de.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Y)}),pa.apply(this,arguments)}function Kt(m,u){const h=(0,d.m9)(m);return(0,g._isFirebaseServerApp)(h.auth.app)?Promise.reject(He(h.auth)):Qu(h,u,null)}function y1(m,u){return Qu((0,d.m9)(m),null,u)}function Qu(m,u,h){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,C.Z)(function*(m,u,h){const{auth:v}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};u&&(M.email=u),h&&(M.password=h);const Y=yield yn(m,function Gt(m,u){return rc.apply(this,arguments)}(v,M));yield m._updateTokensIfNecessary(Y,!0)}),Yu.apply(this,arguments)}class uo{constructor(u,h,v={}){this.isNewUser=u,this.providerId=h,this.profile=v}}class ga extends uo{constructor(u,h,v,A){super(u,h,v),this.username=A}}class gc extends uo{constructor(u,h){super(u,"facebook.com",h)}}class ji extends ga{constructor(u,h){super(u,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class v1 extends uo{constructor(u,h){super(u,"google.com",h)}}class Er extends ga{constructor(u,h,v){super(u,"twitter.com",h,v)}}function cr(m){const{user:u,_tokenResponse:h}=m;return u.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Vs(m){var u,h;if(!m)return null;const{providerId:v}=m,A=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&m?.idToken){const Y=null===(h=null===(u=so(m.idToken))||void 0===u?void 0:u.firebase)||void 0===h?void 0:h.sign_in_provider;if(Y)return new uo(M,"anonymous"!==Y&&"custom"!==Y?Y:null)}if(!v)return null;switch(v){case"facebook.com":return new gc(M,A);case"github.com":return new ji(M,A);case"google.com":return new v1(M,A);case"twitter.com":return new Er(M,A,m.screenName||null);case"custom":case"anonymous":return new uo(M,null);default:return new uo(M,v,A)}}(h)}class al{constructor(u,h,v){this.type=u,this.credential=h,this.user=v}static _fromIdtoken(u,h){return new al("enroll",u,h)}static _fromMfaPendingCredential(u){return new al("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var h,v;if(u?.multiFactorSession){if(null!==(h=u.multiFactorSession)&&void 0!==h&&h.pendingCredential)return al._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(v=u.multiFactorSession)&&void 0!==v&&v.idToken)return al._fromIdtoken(u.multiFactorSession.idToken)}return null}}class e_{constructor(u,h,v){this.session=u,this.hints=h,this.signInResolver=v}static _fromError(u,h){const v=nn(u),A=h.customData._serverResponse,M=(A.mfaInfo||[]).map(de=>ki._fromServerResponse(v,de));ce(A.mfaPendingCredential,v,"internal-error");const Y=al._fromMfaPendingCredential(A.mfaPendingCredential);return new e_(Y,M,function(){var de=(0,C.Z)(function*(Re){const Xe=yield Re._process(v,Y);delete A.mfaInfo,delete A.mfaPendingCredential;const ht=Object.assign(Object.assign({},A),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(h.operationType){case"signIn":const Wt=yield Br._fromIdTokenResponse(v,h.operationType,ht);return yield v._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return ce(h.user,v,"internal-error"),Br._forOperation(h.user,h.operationType,ht);default:ot(v,"internal-error")}});return function(Re){return de.apply(this,arguments)}}())}resolveSignIn(u){var h=this;return(0,C.Z)(function*(){return h.signInResolver(u)})()}}function E1(m,u){var h;const v=(0,d.m9)(m),A=u;return ce(u.customData.operationType,v,"argument-error"),ce(null===(h=A.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,v,"argument-error"),e_._fromError(v,A)}class t_{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(v=>ki._fromServerResponse(u.auth,v)))})}static _fromUser(u){return new t_(u)}getSession(){var u=this;return(0,C.Z)(function*(){return al._fromIdtoken(yield u.user.getIdToken(),u.user)})()}enroll(u,h){var v=this;return(0,C.Z)(function*(){const A=u,M=yield v.getSession(),Y=yield yn(v.user,A._process(v.user.auth,M,h));return yield v.user._updateTokensIfNecessary(Y),v.user.reload()})()}unenroll(u){var h=this;return(0,C.Z)(function*(){const v="string"==typeof u?u:u.uid,A=yield h.user.getIdToken();try{const M=yield yn(h.user,function D1(m,u){return ae(m,"POST","/v2/accounts/mfaEnrollment:withdraw",we(m,u))}(h.user.auth,{idToken:A,mfaEnrollmentId:v}));h.enrolledFactors=h.enrolledFactors.filter(({uid:Y})=>Y!==v),yield h.user._updateTokensIfNecessary(M),yield h.user.reload()}catch(M){throw M}})()}}const Ju=new WeakMap;function n_(m){const u=(0,d.m9)(m);return Ju.has(u)||Ju.set(u,t_._fromUser(u)),Ju.get(u)}const jf="__sak";class Zb{constructor(u,h){this.storageRetriever=u,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,h){return this.storage.setItem(u,JSON.stringify(h)),Promise.resolve()}_get(u){const h=this.storage.getItem(u);return Promise.resolve(h?JSON.parse(h):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const Qb=(()=>{class m extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,v)=>this.onStorageEvent(h,v),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),M=this.localCache[v];A!==M&&h(v,M,A)}}onStorageEvent(h,v=!1){if(!h.key)return void this.forAllChangedKeys((de,Re,Xe)=>{this.notifyListeners(de,Xe)});const A=h.key;v?this.detachListener():this.stopPolling();const M=()=>{const de=this.storage.getItem(A);!v&&this.localCache[A]===de||this.notifyListeners(A,de)},Y=this.storage.getItem(A);!function fe(){return(0,d.w1)()&&10===document.documentMode}()||Y===h.newValue||h.newValue===h.oldValue?M():setTimeout(M,10)}notifyListeners(h,v){this.localCache[h]=v;const A=this.listeners[h];if(A)for(const M of Array.from(A))M(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,v){var A=()=>super._set,M=this;return(0,C.Z)(function*(){yield A().call(M,h,v),M.localCache[h]=JSON.stringify(v)})()}_get(h){var v=()=>super._get,A=this;return(0,C.Z)(function*(){const M=yield v().call(A,h);return A.localCache[h]=JSON.stringify(M),M})()}_remove(h){var v=()=>super._remove,A=this;return(0,C.Z)(function*(){yield v().call(A,h),delete A.localCache[h]})()}}return m.type="LOCAL",m})(),Si=(()=>{class m extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,v){}_removeListener(h,v){}}return m.type="SESSION",m})();let ns=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const v=this.receivers.find(M=>M.isListeningto(h));if(v)return v;const A=new m(h);return this.receivers.push(A),A}isListeningto(h){return this.eventTarget===h}handleEvent(h){var v=this;return(0,C.Z)(function*(){const A=h,{eventId:M,eventType:Y,data:de}=A.data,Re=v.handlersMap[Y];if(!Re?.size)return;A.ports[0].postMessage({status:"ack",eventId:M,eventType:Y});const Xe=Array.from(Re).map(function(){var Wt=(0,C.Z)(function*(Cr){return Cr(A.origin,de)});return function(Cr){return Wt.apply(this,arguments)}}()),ht=yield function Xu(m){return Promise.all(m.map(function(){var u=(0,C.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(v){return{fulfilled:!1,reason:v}}});return function(h){return u.apply(this,arguments)}}()))}(Xe);A.ports[0].postMessage({status:"done",eventId:M,eventType:Y,response:ht})})()}_subscribe(h,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(v)}_unsubscribe(h,v){this.handlersMap[h]&&v&&this.handlersMap[h].delete(v),(!v||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Fo(m="",u=10){let h="";for(let v=0;v<u;v++)h+=Math.floor(10*Math.random());return m+h}class i_{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,h,v=50){var A=this;return(0,C.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let Y,de;return new Promise((Re,Xe)=>{const ht=Fo("",20);M.port1.start();const Wt=setTimeout(()=>{Xe(new Error("unsupported_event"))},v);de={messageChannel:M,onMessage(Cr){const ys=Cr;if(ys.data.eventId===ht)switch(ys.data.status){case"ack":clearTimeout(Wt),Y=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(Y),Re(ys.data.response);break;default:clearTimeout(Wt),clearTimeout(Y),Xe(new Error("invalid_response"))}}},A.handlers.add(de),M.port1.addEventListener("message",de.onMessage),A.target.postMessage({eventType:u,eventId:ht,data:h},[M.port2])}).finally(()=>{de&&A.removeMessageHandler(de)})})()}}function vi(){return window}function mc(){return typeof vi().WorkerGlobalScope<"u"&&"function"==typeof vi().importScripts}function ll(){return(ll=(0,C.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zf="firebaseLocalStorageDb",ya="firebaseLocalStorage",cl="fbase_key";class Bs{constructor(u){this.request=u}toPromise(){return new Promise((u,h)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function _c(m,u){return m.transaction([ya],u?"readwrite":"readonly").objectStore(ya)}function yc(){const m=indexedDB.open(zf,1);return new Promise((u,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(ya,{keyPath:cl})}catch(A){h(A)}}),m.addEventListener("success",(0,C.Z)(function*(){const v=m.result;v.objectStoreNames.contains(ya)?u(v):(v.close(),yield function l_(){const m=indexedDB.deleteDatabase(zf);return new Bs(m).toPromise()}(),u(yield yc()))}))})}function td(m,u,h){return ul.apply(this,arguments)}function ul(){return(ul=(0,C.Z)(function*(m,u,h){const v=_c(m,!0).put({[cl]:u,value:h});return new Bs(v).toPromise()})).apply(this,arguments)}function $f(){return($f=(0,C.Z)(function*(m,u){const h=_c(m,!1).get(u),v=yield new Bs(h).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Wf(m,u){const h=_c(m,!0).delete(u);return new Bs(h).toPromise()}const vc=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,C.Z)(function*(){return h.db||(h.db=yield yc()),h.db})()}_withRetries(h){var v=this;return(0,C.Z)(function*(){let A=0;for(;;)try{const M=yield v._openDb();return yield h(M)}catch(M){if(A++>3)throw M;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,C.Z)(function*(){return mc()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,C.Z)(function*(){h.receiver=ns._getInstance(function o_(){return mc()?self:null}()),h.receiver._subscribe("keyChanged",function(){var v=(0,C.Z)(function*(A,M){return{keyProcessed:(yield h._poll()).includes(M.key)}});return function(A,M){return v.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var v=(0,C.Z)(function*(A,M){return["keyChanged"]});return function(A,M){return v.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,C.Z)(function*(){var v,A;if(h.activeServiceWorker=yield function s_(){return ll.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new i_(h.activeServiceWorker);const M=yield h.sender._send("ping",{},800);M&&null!==(v=M[0])&&void 0!==v&&v.fulfilled&&null!==(A=M[0])&&void 0!==A&&A.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var v=this;return(0,C.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function ed(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:h},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,C.Z)(function*(){try{if(!indexedDB)return!1;const h=yield yc();return yield td(h,jf,"1"),yield Wf(h,jf),!0}catch{}return!1})()}_withPendingWrite(h){var v=this;return(0,C.Z)(function*(){v.pendingWrites++;try{yield h()}finally{v.pendingWrites--}})()}_set(h,v){var A=this;return(0,C.Z)(function*(){return A._withPendingWrite((0,C.Z)(function*(){return yield A._withRetries(M=>td(M,h,v)),A.localCache[h]=v,A.notifyServiceWorker(h)}))})()}_get(h){var v=this;return(0,C.Z)(function*(){const A=yield v._withRetries(M=>function Jb(m,u){return $f.apply(this,arguments)}(M,h));return v.localCache[h]=A,A})()}_remove(h){var v=this;return(0,C.Z)(function*(){return v._withPendingWrite((0,C.Z)(function*(){return yield v._withRetries(A=>Wf(A,h)),delete v.localCache[h],v.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,C.Z)(function*(){const v=yield h._withRetries(Y=>{const de=_c(Y,!1).getAll();return new Bs(de).toPromise()});if(!v)return[];if(0!==h.pendingWrites)return[];const A=[],M=new Set;if(0!==v.length)for(const{fbase_key:Y,value:de}of v)M.add(Y),JSON.stringify(h.localCache[Y])!==JSON.stringify(de)&&(h.notifyListeners(Y,de),A.push(Y));for(const Y of Object.keys(h.localCache))h.localCache[Y]&&!M.has(Y)&&(h.notifyListeners(Y,null),A.push(Y));return A})()}notifyListeners(h,v){this.localCache[h]=v;const A=this.listeners[h];if(A)for(const M of Array.from(A))M(v)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,C.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(v)}_removeListener(h,v){this.listeners[h]&&(this.listeners[h].delete(v),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),nd=1e12;class nw{constructor(u){this.auth=u,this.counter=nd,this._widgets=new Map}render(u,h){const v=this.counter;return this._widgets.set(v,new h_(u,this.auth.name,h||{})),this.counter++,v}reset(u){var h;const v=u||nd;null===(h=this._widgets.get(v))||void 0===h||h.delete(),this._widgets.delete(v)}getResponse(u){var h;return(null===(h=this._widgets.get(u||nd))||void 0===h?void 0:h.getResponse())||""}execute(u){var h=this;return(0,C.Z)(function*(){var v;return null===(v=h._widgets.get(u||nd))||void 0===v||v.execute(),""})()}}class h_{constructor(u,h,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof u?document.getElementById(u):u;ce(A,"argument-error",{appName:h}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function iw(m){const u=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)u.push(h.charAt(Math.floor(62*Math.random())));return u.join("")}(50);const{callback:u,"expired-callback":h}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const id=Ub("rcb"),rw=new Ui(3e4,6e4);class R1{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=vi().grecaptcha)||void 0===u||!u.render)}load(u,h=""){return ce(function sw(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),u,"argument-error"),this.shouldResolveImmediately(h)&&Mi(vi().grecaptcha)?Promise.resolve(vi().grecaptcha):new Promise((v,A)=>{const M=vi().setTimeout(()=>{A(kt(u,"network-request-failed"))},rw.get());vi()[id]=()=>{vi().clearTimeout(M),delete vi()[id];const de=vi().grecaptcha;if(!de||!Mi(de))return void A(kt(u,"internal-error"));const Re=de.render;de.render=(Xe,ht)=>{const Wt=Re(Xe,ht);return this.counter++,Wt},this.hostLanguage=h,v(de)},Pm(`${function f1(){return Lr.recaptchaV2Script}()}?${(0,d.xO)({onload:id,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(M),A(kt(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var h;return!(null===(h=vi().grecaptcha)||void 0===h||!h.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ji{load(u){return(0,C.Z)(function*(){return new nw(u)})()}clearedOneInstance(){}}const Gf="recaptcha",ow={theme:"light",type:"image"};class aw{constructor(u,h,v=Object.assign({},ow)){this.parameters=v,this.type=Gf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nn(u),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof h?document.getElementById(h):h;ce(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ji:new R1,this.validateStartingState()}verify(){var u=this;return(0,C.Z)(function*(){u.assertNotDestroyed();const h=yield u.render(),v=u.getAssertedRecaptcha();return v.getResponse(h)||new Promise(M=>{const Y=de=>{de&&(u.tokenChangeListeners.delete(Y),M(de))};u.tokenChangeListeners.add(Y),u.isInvisible&&v.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return h=>{if(this.tokenChangeListeners.forEach(v=>v(h)),"function"==typeof u)u(h);else if("string"==typeof u){const v=vi()[u];"function"==typeof v&&v(h)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,C.Z)(function*(){if(yield u.init(),!u.widgetId){let h=u.container;if(!u.isInvisible){const v=document.createElement("div");h.appendChild(v),h=v}u.widgetId=u.getAssertedRecaptcha().render(h,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,C.Z)(function*(){ce(ci()&&!mc(),u.auth,"internal-error"),yield function f_(){let m=null;return new Promise(u=>{"complete"!==document.readyState?(m=()=>u(),window.addEventListener("load",m)):u()}).catch(u=>{throw m&&window.removeEventListener("load",m),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const h=yield function no(m){return Ms.apply(this,arguments)}(u.auth);ce(h,u.auth,"internal-error"),u.parameters.sitekey=h})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rd{constructor(u,h){this.verificationId=u,this.onConfirmation=h}confirm(u){const h=gs._fromVerification(this.verificationId,u);return this.onConfirmation(h)}}function lw(m,u,h){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,C.Z)(function*(m,u,h){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const v=nn(m),A=yield In(v,u,(0,d.m9)(h));return new rd(A,M=>qu(v,M))})).apply(this,arguments)}function cw(m,u,h){return is.apply(this,arguments)}function is(){return(is=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m);yield Wu(!1,v,"phone");const A=yield In(v.auth,u,(0,d.m9)(h));return new rd(A,M=>pn(v,M))})).apply(this,arguments)}function p_(m,u,h){return sd.apply(this,arguments)}function sd(){return(sd=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m);if((0,g._isFirebaseServerApp)(v.auth.app))return Promise.reject(He(v.auth));const A=yield In(v.auth,u,(0,d.m9)(h));return new rd(A,M=>Km(v,M))})).apply(this,arguments)}function In(m,u,h){return bc.apply(this,arguments)}function bc(){return bc=(0,C.Z)(function*(m,u,h){var v;const A=yield h.verify();try{let M;if(ce("string"==typeof A,m,"argument-error"),ce(h.type===Gf,m,"argument-error"),M="string"==typeof u?{phoneNumber:u}:u,"session"in M){const Y=M.session;if("phoneNumber"in M)return ce("enroll"===Y.type,m,"internal-error"),(yield function C1(m,u){return ae(m,"POST","/v2/accounts/mfaEnrollment:start",we(m,u))}(m,{idToken:Y.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ce("signin"===Y.type,m,"internal-error");const de=(null===(v=M.multiFactorHint)||void 0===v?void 0:v.uid)||M.multiFactorUid;return ce(de,m,"missing-multi-factor-info"),(yield function x1(m,u){return ae(m,"POST","/v2/accounts/mfaSignIn:start",we(m,u))}(m,{mfaPendingCredential:Y.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Y}=yield function el(m,u){return Tf.apply(this,arguments)}(m,{phoneNumber:M.phoneNumber,recaptchaToken:A});return Y}}finally{h._reset()}}),bc.apply(this,arguments)}function od(m,u){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,C.Z)(function*(m,u){const h=(0,d.m9)(m);if((0,g._isFirebaseServerApp)(h.auth.app))return Promise.reject(He(h.auth));yield Rf(h,u)})).apply(this,arguments)}let uw=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=nn(h)}verifyPhoneNumber(h,v){return In(this.auth,h,(0,d.m9)(v))}static credential(h,v){return gs._fromVerification(h,v)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:v,temporaryProof:A}=h;return v&&A?gs._fromTokenResponse(v,A):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Lo(m,u){return u?Se(u):(ce(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Vo extends xo{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return co(u,this._buildIdpRequest())}_linkToIdToken(u,h){return co(u,this._buildIdpRequest(h))}_getReauthenticationResolver(u){return co(u,this._buildIdpRequest())}_buildIdpRequest(u){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(h.idToken=u),h}}function zr(m){return Mf(m.auth,new Vo(m),m.bypassAuthState)}function dw(m){const{auth:u,user:h}=m;return ce(h,u,"internal-error"),Gm(h,new Vo(m),m.bypassAuthState)}function hw(m){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,C.Z)(function*(m){const{auth:u,user:h}=m;return ce(h,u,"internal-error"),Rf(h,new Vo(m),m.bypassAuthState)})).apply(this,arguments)}class ho{constructor(u,h,v,A,M=!1){this.auth=u,this.resolver=v,this.user=A,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var u=this;return new Promise(function(){var h=(0,C.Z)(function*(v,A){u.pendingPromise={resolve:v,reject:A};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(M){u.reject(M)}});return function(v,A){return h.apply(this,arguments)}}())}onAuthEvent(u){var h=this;return(0,C.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:M,tenantId:Y,error:de,type:Re}=u;if(de)return void h.reject(de);const Xe={auth:h.auth,requestUri:v,sessionId:A,tenantId:Y||void 0,postBody:M||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Re)(Xe))}catch(ht){h.reject(ht)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return zr;case"linkViaPopup":case"linkViaRedirect":return hw;case"reauthViaPopup":case"reauthViaRedirect":return dw;default:ot(this.auth,"internal-error")}}resolve(u){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){Ut(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const g_=new Ui(2e3,1e4);function fw(m,u,h){return ad.apply(this,arguments)}function ad(){return(ad=(0,C.Z)(function*(m,u,h){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(kt(m,"operation-not-supported-in-this-environment"));const v=nn(m);Ne(m,u,Ii);const A=Lo(v,h);return new cd(v,"signInViaPopup",u,A).executeNotNull()})).apply(this,arguments)}function m_(m,u,h){return ld.apply(this,arguments)}function ld(){return(ld=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m);if((0,g._isFirebaseServerApp)(v.auth.app))return Promise.reject(kt(v.auth,"operation-not-supported-in-this-environment"));Ne(v.auth,u,Ii);const A=Lo(v.auth,h);return new cd(v.auth,"reauthViaPopup",u,A,v).executeNotNull()})).apply(this,arguments)}function pw(m,u,h){return Et.apply(this,arguments)}function Et(){return(Et=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m);Ne(v.auth,u,Ii);const A=Lo(v.auth,h);return new cd(v.auth,"linkViaPopup",u,A,v).executeNotNull()})).apply(this,arguments)}let cd=(()=>{class m extends ho{constructor(h,v,A,M,Y){super(h,v,M,Y),this.provider=A,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,C.Z)(function*(){const v=yield h.execute();return ce(v,h.auth,"internal-error"),v})()}onExecution(){var h=this;return(0,C.Z)(function*(){Ut(1===h.filter.length,"Popup operations only handle one event");const v=Fo();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],v),h.authWindow.associatedEvent=v,h.resolver._originValidation(h.auth).catch(A=>{h.reject(A)}),h.resolver._isIframeWebStorageSupported(h.auth,A=>{A||h.reject(kt(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var v,A;this.pollId=null!==(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(kt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,g_.get())};h()}}return m.currentPopupAction=null,m})();const P1="pendingRedirect",wc=new Map;class gw extends ho{constructor(u,h,v=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,v),this.eventId=null}execute(){var u=()=>super.execute,h=this;return(0,C.Z)(function*(){let v=wc.get(h.auth._key());if(!v){try{const M=(yield function mw(m,u){return ud.apply(this,arguments)}(h.resolver,h.auth))?yield u().call(h):null;v=()=>Promise.resolve(M)}catch(A){v=()=>Promise.reject(A)}wc.set(h.auth._key(),v)}return h.bypassAuthState||wc.set(h.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(u){var h=()=>super.onAuthEvent,v=this;return(0,C.Z)(function*(){if("signInViaRedirect"===u.type)return h().call(v,u);if("unknown"!==u.type){if(u.eventId){const A=yield v.auth._redirectUserForId(u.eventId);if(A)return v.user=A,h().call(v,u);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,C.Z)(function*(){})()}cleanUp(){}}function ud(){return(ud=(0,C.Z)(function*(m,u){const h=v_(u),v=y_(m);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(h));return yield v._remove(h),A})).apply(this,arguments)}function Bo(m,u){return Zf.apply(this,arguments)}function Zf(){return(Zf=(0,C.Z)(function*(m,u){return y_(m)._set(v_(u),"true")})).apply(this,arguments)}function _w(){wc.clear()}function __(m,u){wc.set(m._key(),u)}function y_(m){return Se(m._redirectPersistence)}function v_(m){return Zt(P1,m.config.apiKey,m.name)}function Oe(m,u,h){return function sn(m,u,h){return $t.apply(this,arguments)}(m,u,h)}function $t(){return($t=(0,C.Z)(function*(m,u,h){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const v=nn(m);Ne(m,u,Ii),yield v._initializationPromise;const A=Lo(v,h);return yield Bo(A,v),A._openRedirect(v,u,"signInViaRedirect")})).apply(this,arguments)}function Xt(m,u,h){return function zi(m,u,h){return dd.apply(this,arguments)}(m,u,h)}function dd(){return(dd=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m);if(Ne(v.auth,u,Ii),(0,g._isFirebaseServerApp)(v.auth.app))return Promise.reject(He(v.auth));yield v.auth._initializationPromise;const A=Lo(v.auth,h);yield Bo(A,v.auth);const M=yield er(v);return A._openRedirect(v.auth,u,"reauthViaRedirect",M)})).apply(this,arguments)}function Ec(m,u,h){return function Us(m,u,h){return Cc.apply(this,arguments)}(m,u,h)}function Cc(){return(Cc=(0,C.Z)(function*(m,u,h){const v=(0,d.m9)(m);Ne(v.auth,u,Ii),yield v.auth._initializationPromise;const A=Lo(v.auth,h);yield Wu(!1,v,u.providerId),yield Bo(A,v.auth);const M=yield er(v);return A._openRedirect(v.auth,u,"linkViaRedirect",M)})).apply(this,arguments)}function Qf(m,u){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,C.Z)(function*(m,u){return yield nn(m)._initializationPromise,I_(m,u,!1)})).apply(this,arguments)}function I_(m,u){return hd.apply(this,arguments)}function hd(){return(hd=(0,C.Z)(function*(m,u,h=!1){if((0,g._isFirebaseServerApp)(m.app))return Promise.reject(He(m));const v=nn(m),A=Lo(v,u),Y=yield new gw(v,A,h).execute();return Y&&!h&&(delete Y.user._redirectEventId,yield v._persistUserIfCurrent(Y.user),yield v._setRedirectUser(null,u)),Y})).apply(this,arguments)}function er(m){return _s.apply(this,arguments)}function _s(){return(_s=(0,C.Z)(function*(m){const u=Fo(`${m.uid}:::`);return m._redirectEventId=u,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),u})).apply(this,arguments)}class va{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let h=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(u,v)&&(h=!0,this.sendToConsumer(u,v),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function E_(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w_(m);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=u,h=!0)),h}sendToConsumer(u,h){var v;if(u.error&&!w_(u)){const A=(null===(v=u.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";h.onError(kt(this.auth,A))}else h.onAuthEvent(u)}isEventForConsumer(u,h){const v=null===h.eventId||!!u.eventId&&u.eventId===h.eventId;return h.filter.includes(u.type)&&v}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hs(u))}saveEventToCache(u){this.cachedEventUids.add(Hs(u)),this.lastProcessedEventTime=Date.now()}}function Hs(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(u=>u).join("-")}function w_({type:m,error:u}){return"unknown"===m&&"auth/no-auth-event"===u?.code}function C_(m){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,C.Z)(function*(m,u={}){return ae(m,"GET","/v1/projects",u)})).apply(this,arguments)}const Xf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ep=/^https?/;function Tc(){return(Tc=(0,C.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:u}=yield C_(m);for(const h of u)try{if(yw(h))return}catch{}ot(m,"unauthorized-domain")})).apply(this,arguments)}function yw(m){const u=dn(),{protocol:h,hostname:v}=new URL(u);if(m.startsWith("chrome-extension://")){const Y=new URL(m);return""===Y.hostname&&""===v?"chrome-extension:"===h&&m.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===h&&Y.hostname===v}if(!ep.test(h))return!1;if(Xf.test(m))return v===m;const A=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const S_=new Ui(3e4,6e4);function fd(){const m=vi().___jsl;if(m?.H)for(const u of Object.keys(m.H))if(m.H[u].r=m.H[u].r||[],m.H[u].L=m.H[u].L||[],m.H[u].r=[...m.H[u].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let Sc=null;const x_=new Ui(5e3,15e3),tp="__/auth/iframe",vw="emulator/auth/iframe",Iw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ur=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ia(m){const u=m.config;ce(u.authDomain,m,"auth-domain-config-required");const h=u.emulator?le(u,vw):`https://${m.config.authDomain}/${tp}`,v={apiKey:u.apiKey,appName:m.name,v:g.SDK_VERSION},A=ur.get(m.config.apiHost);A&&(v.eid=A);const M=m._getFrameworks();return M.length&&(v.fw=M.join(",")),`${h}?${(0,d.xO)(v).slice(1)}`}function rs(){return rs=(0,C.Z)(function*(m){const u=yield function A_(m){return Sc=Sc||function D_(m){return new Promise((u,h)=>{var v,A,M;function Y(){fd(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{fd(),h(kt(m,"network-request-failed"))},timeout:S_.get()})}if(null!==(A=null===(v=vi().gapi)||void 0===v?void 0:v.iframes)&&void 0!==A&&A.Iframe)u(gapi.iframes.getContext());else{if(null===(M=vi().gapi)||void 0===M||!M.load){const de=Ub("iframefcb");return vi()[de]=()=>{gapi.load?Y():h(kt(m,"network-request-failed"))},Pm(`${function Bb(){return Lr.gapiScript}()}?onload=${de}`).catch(Re=>h(Re))}Y()}}).catch(u=>{throw Sc=null,u})}(m),Sc}(m),h=vi().gapi;return ce(h,m,"internal-error"),u.open({where:document.body,url:Ia(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iw,dontclear:!0},v=>new Promise(function(){var A=(0,C.Z)(function*(M,Y){yield v.restyle({setHideOnLeave:!1});const de=kt(m,"network-request-failed"),Re=vi().setTimeout(()=>{Y(de)},x_.get());function Xe(){vi().clearTimeout(Re),M(v)}v.ping(Xe).then(Xe,()=>{Y(de)})});return function(M,Y){return A.apply(this,arguments)}}()))}),rs.apply(this,arguments)}const bw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dc{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pd="__/auth/handler",gd="emulator/auth/handler",md=encodeURIComponent("fac");function Ac(m,u,h,v,A,M){return _d.apply(this,arguments)}function _d(){return(_d=(0,C.Z)(function*(m,u,h,v,A,M){ce(m.config.authDomain,m,"auth-domain-config-required"),ce(m.config.apiKey,m,"invalid-api-key");const Y={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:v,v:g.SDK_VERSION,eventId:A};if(u instanceof Ii){u.setDefaultLanguage(m.languageCode),Y.providerId=u.providerId||"",(0,d.xb)(u.getCustomParameters())||(Y.customParameters=JSON.stringify(u.getCustomParameters()));for(const[ht,Wt]of Object.entries(M||{}))Y[ht]=Wt}if(u instanceof ar){const ht=u.getScopes().filter(Wt=>""!==Wt);ht.length>0&&(Y.scopes=ht.join(","))}m.tenantId&&(Y.tid=m.tenantId);const de=Y;for(const ht of Object.keys(de))void 0===de[ht]&&delete de[ht];const Re=yield m._getAppCheckToken(),Xe=Re?`#${md}=${encodeURIComponent(Re)}`:"";return`${function O_({config:m}){return m.emulator?le(m,gd):`https://${m.authDomain}/${pd}`}(m)}?${(0,d.xO)(de).slice(1)}${Xe}`})).apply(this,arguments)}const np="webStorageSupport",hl=class dl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Si,this._completeRedirectFn=I_,this._overrideRedirectResult=__}_openPopup(u,h,v,A){var M=this;return(0,C.Z)(function*(){var Y;Ut(null===(Y=M.eventManagers[u._key()])||void 0===Y?void 0:Y.manager,"_initialize() not called before _openPopup()");const de=yield Ac(u,h,v,dn(),A);return function Uo(m,u,h,v=500,A=600){const M=Math.max((window.screen.availHeight-A)/2,0).toString(),Y=Math.max((window.screen.availWidth-v)/2,0).toString();let de="";const Re=Object.assign(Object.assign({},bw),{width:v.toString(),height:A.toString(),top:M,left:Y}),Xe=(0,d.z$)().toLowerCase();h&&(de=es(Xe)?"_blank":h),Be(Xe)&&(u=u||"http://localhost",Re.scrollbars="yes");const ht=Object.entries(Re).reduce((Cr,[ys,js])=>`${Cr}${ys}=${js},`,"");if(function ve(m=(0,d.z$)()){var u;return tc(m)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Xe)&&"_self"!==de)return function Cw(m,u){const h=document.createElement("a");h.href=m,h.target=u;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(v)}(u||"",de),new Dc(null);const Wt=window.open(u||"",de,ht);ce(Wt,m,"popup-blocked");try{Wt.focus()}catch{}return new Dc(Wt)}(u,de,Fo())})()}_openRedirect(u,h,v,A){var M=this;return(0,C.Z)(function*(){return yield M._originValidation(u),function r_(m){vi().location.href=m}(yield Ac(u,h,v,dn(),A)),new Promise(()=>{})})()}_initialize(u){const h=u._key();if(this.eventManagers[h]){const{manager:A,promise:M}=this.eventManagers[h];return A?Promise.resolve(A):(Ut(M,"If manager is not set, promise should be"),M)}const v=this.initAndGetManager(u);return this.eventManagers[h]={promise:v},v.catch(()=>{delete this.eventManagers[h]}),v}initAndGetManager(u){var h=this;return(0,C.Z)(function*(){const v=yield function ti(m){return rs.apply(this,arguments)}(u),A=new va(u);return v.register("authEvent",M=>(ce(M?.authEvent,u,"invalid-auth-event"),{status:A.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[u._key()]={manager:A},h.iframes[u._key()]=v,A})()}_isIframeWebStorageSupported(u,h){this.iframes[u._key()].send(np,{type:np},A=>{var M;const Y=null===(M=A?.[0])||void 0===M?void 0:M[np];void 0!==Y&&h(!!Y),ot(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const h=u._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function T_(m){return Tc.apply(this,arguments)}(u)),this.originValidationPromises[h]}get _shouldInitProactively(){return Q()||Nn()||tc()}};class Tw{constructor(u){this.factorId=u}_process(u,h,v){switch(h.type){case"enroll":return this._finalizeEnroll(u,h.credential,v);case"signin":return this._finalizeSignIn(u,h.credential);default:return Ft("unexpected MultiFactorSessionType")}}}class M_ extends Tw{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new M_(u)}_finalizeEnroll(u,h,v){return function T1(m,u){return ae(m,"POST","/v2/accounts/mfaEnrollment:finalize",we(m,u))}(u,{idToken:h,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,h){return function ew(m,u){return ae(m,"POST","/v2/accounts/mfaSignIn:finalize",we(m,u))}(u,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ip=(()=>{class m{constructor(){}static assertion(h){return M_._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Sw="@firebase/auth";class xc{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var h=this;return(0,C.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const h=this.auth.onIdTokenChanged(v=>{u(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,h),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const h=this.internalListeners.get(u);h&&(this.internalListeners.delete(u),h(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,d.Pz)("authIdTokenMaxAge"),function h1(m){Lr=m}({loadJS:m=>new Promise((u,h)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=u,v.onerror=A=>{const M=kt("internal-error");M.customData=A,h(M)},v.type="text/javascript",v.charset="UTF-8",function Rw(){var m,u;return null!==(u=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==u?u:document}().appendChild(v)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Rc(m){(0,g._registerComponent)(new S.wA("auth",(u,{options:h})=>{const v=u.getProvider("app").getImmediate(),A=u.getProvider("heartbeat"),M=u.getProvider("app-check-internal"),{apiKey:Y,authDomain:de}=v.options;ce(Y&&!Y.includes(":"),"invalid-api-key",{appName:v.name});const Re={apiKey:Y,authDomain:de,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(m)},Xe=new ei(v,A,M,Re);return function Nu(m,u){const h=u?.persistence||[],v=(Array.isArray(h)?h:[h]).map(Se);u?.errorMap&&m._updateErrorMap(u.errorMap),m._initializeWithPersistence(v,u?.popupRedirectResolver)}(Xe,h),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,h,v)=>{u.getProvider("auth-internal").initialize()})),(0,g._registerComponent)(new S.wA("auth-internal",u=>{const h=nn(u.getProvider("auth").getImmediate());return new xc(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,g.registerVersion)(Sw,"1.7.9",function Dw(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,g.registerVersion)(Sw,"1.7.9","esm2017")}("Browser")},58:(yr,Ge,E)=>{"use strict";E.d(Ge,{BH:()=>Jn,G6:()=>ue,L:()=>Z,LL:()=>Tt,L_:()=>dn,P0:()=>fn,Pz:()=>kt,Rd:()=>ft,Sg:()=>He,UG:()=>ce,ZB:()=>be,ZR:()=>Le,aH:()=>ot,b$:()=>mi,eu:()=>Ie,hl:()=>oe,jU:()=>Ft,m9:()=>lo,n2:()=>Ut,ne:()=>$n,pd:()=>Do,r3:()=>or,ru:()=>ci,tV:()=>K,uI:()=>vt,vZ:()=>Ir,w1:()=>vr,xO:()=>ro,xb:()=>Ms,z$:()=>Ne,zd:()=>Ki});const y=function(O){const x=[];let R=0;for(let V=0;V<O.length;V++){let G=O.charCodeAt(V);G<128?x[R++]=G:G<2048?(x[R++]=G>>6|192,x[R++]=63&G|128):55296==(64512&G)&&V+1<O.length&&56320==(64512&O.charCodeAt(V+1))?(G=65536+((1023&G)<<10)+(1023&O.charCodeAt(++V)),x[R++]=G>>18|240,x[R++]=G>>12&63|128,x[R++]=G>>6&63|128,x[R++]=63&G|128):(x[R++]=G>>12|224,x[R++]=G>>6&63|128,x[R++]=63&G|128)}return x},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(O,x){if(!Array.isArray(O))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=x?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let G=0;G<O.length;G+=3){const Se=O[G],Fe=G+1<O.length,gt=Fe?O[G+1]:0,Zt=G+2<O.length,it=Zt?O[G+2]:0;let Nn=(15&gt)<<2|it>>6,es=63&it;Zt||(es=64,Fe||(Nn=64)),V.push(R[Se>>2],R[(3&Se)<<4|gt>>4],R[Nn],R[es])}return V.join("")},encodeString(O,x){return this.HAS_NATIVE_SUPPORT&&!x?btoa(O):this.encodeByteArray(y(O),x)},decodeString(O,x){return this.HAS_NATIVE_SUPPORT&&!x?atob(O):function(O){const x=[];let R=0,V=0;for(;R<O.length;){const G=O[R++];if(G<128)x[V++]=String.fromCharCode(G);else if(G>191&&G<224){const Se=O[R++];x[V++]=String.fromCharCode((31&G)<<6|63&Se)}else if(G>239&&G<365){const Zt=((7&G)<<18|(63&O[R++])<<12|(63&O[R++])<<6|63&O[R++])-65536;x[V++]=String.fromCharCode(55296+(Zt>>10)),x[V++]=String.fromCharCode(56320+(1023&Zt))}else{const Se=O[R++],Fe=O[R++];x[V++]=String.fromCharCode((15&G)<<12|(63&Se)<<6|63&Fe)}}return x.join("")}(this.decodeStringToByteArray(O,x))},decodeStringToByteArray(O,x){this.init_();const R=x?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let G=0;G<O.length;){const Se=R[O.charAt(G++)],gt=G<O.length?R[O.charAt(G)]:0;++G;const it=G<O.length?R[O.charAt(G)]:64;++G;const Be=G<O.length?R[O.charAt(G)]:64;if(++G,null==Se||null==gt||null==it||null==Be)throw new k;V.push(Se<<2|gt>>4),64!==it&&(V.push(gt<<4&240|it>>2),64!==Be&&V.push(it<<6&192|Be))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let O=0;O<this.ENCODED_VALS.length;O++)this.byteToCharMap_[O]=this.ENCODED_VALS.charAt(O),this.charToByteMap_[this.byteToCharMap_[O]]=O,this.byteToCharMapWebSafe_[O]=this.ENCODED_VALS_WEBSAFE.charAt(O),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[O]]=O,O>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(O)]=O,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(O)]=O)}}};class k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Z=function(O){return function(O){const x=y(O);return S.encodeByteArray(x,!0)}(O).replace(/\./g,"")},K=function(O){try{return S.decodeString(O,!0)}catch(x){console.error("base64Decode failed: ",x)}return null};function be(O,x){if(!(x instanceof Object))return x;switch(x.constructor){case Date:return new Date(x.getTime());case Object:void 0===O&&(O={});break;case Array:O=[];break;default:return x}for(const R in x)!x.hasOwnProperty(R)||!Ke(R)||(O[R]=be(O[R],x[R]));return O}function Ke(O){return"__proto__"!==O}function ft(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const yt=()=>{try{return ft().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const O=process.env.__FIREBASE_DEFAULTS__;return O?JSON.parse(O):void 0})()||(()=>{if(typeof document>"u")return;let O;try{O=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const x=O&&K(O[1]);return x&&JSON.parse(x)})()}catch(O){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${O}`)}},fn=O=>{const x=(O=>{var x,R;return null===(R=null===(x=yt())||void 0===x?void 0:x.emulatorHosts)||void 0===R?void 0:R[O]})(O);if(!x)return;const R=x.lastIndexOf(":");if(R<=0||R+1===x.length)throw new Error(`Invalid host ${x} with no separate hostname and port!`);const V=parseInt(x.substring(R+1),10);return"["===x[0]?[x.substring(1,R-1),V]:[x.substring(0,R),V]},ot=()=>{var O;return null===(O=yt())||void 0===O?void 0:O.config},kt=O=>{var x;return null===(x=yt())||void 0===x?void 0:x[`_${O}`]};class Jn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((x,R)=>{this.resolve=x,this.reject=R})}wrapCallback(x){return(R,V)=>{R?this.reject(R):this.resolve(V),"function"==typeof x&&(this.promise.catch(()=>{}),1===x.length?x(R):x(R,V))}}}function He(O,x){if(O.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=x||"demo-project",G=O.iat||0,Se=O.sub||O.user_id;if(!Se)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Fe=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:G,exp:G+3600,auth_time:G,sub:Se,user_id:Se,firebase:{sign_in_provider:"custom",identities:{}}},O);return[Z(JSON.stringify({alg:"none",type:"JWT"})),Z(JSON.stringify(Fe)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ce(){var O;const x=null===(O=yt())||void 0===O?void 0:O.forceEnvironment;if("node"===x)return!0;if("browser"===x)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ft(){return typeof window<"u"||Ut()}function Ut(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function dn(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function ci(){const O="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof O&&void 0!==O.id}function mi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function vr(){const O=Ne();return O.indexOf("MSIE ")>=0||O.indexOf("Trident/")>=0}function ue(){return!ce()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ie(){return new Promise((O,x)=>{try{let R=!0;const V="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(V);G.onsuccess=()=>{G.result.close(),R||self.indexedDB.deleteDatabase(V),O(!0)},G.onupgradeneeded=()=>{R=!1},G.onerror=()=>{var Se;x((null===(Se=G.error)||void 0===Se?void 0:Se.message)||"")}}catch(R){x(R)}})}class Le extends Error{constructor(x,R,V){super(R),this.code=x,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tt.prototype.create)}}class Tt{constructor(x,R,V){this.service=x,this.serviceName=R,this.errors=V}create(x,...R){const V=R[0]||{},G=`${this.service}/${x}`,Se=this.errors[x],Fe=Se?function $e(O,x){return O.replace(Je,(R,V)=>{const G=x[V];return null!=G?String(G):`<${V}?>`})}(Se,V):"Error";return new Le(G,`${this.serviceName}: ${Fe} (${G}).`,V)}}const Je=/\{\$([^}]+)}/g;function or(O,x){return Object.prototype.hasOwnProperty.call(O,x)}function Ms(O){for(const x in O)if(Object.prototype.hasOwnProperty.call(O,x))return!1;return!0}function Ir(O,x){if(O===x)return!0;const R=Object.keys(O),V=Object.keys(x);for(const G of R){if(!V.includes(G))return!1;const Se=O[G],Fe=x[G];if(io(Se)&&io(Fe)){if(!Ir(Se,Fe))return!1}else if(Se!==Fe)return!1}for(const G of V)if(!R.includes(G))return!1;return!0}function io(O){return null!==O&&"object"==typeof O}function ro(O){const x=[];for(const[R,V]of Object.entries(O))Array.isArray(V)?V.forEach(G=>{x.push(encodeURIComponent(R)+"="+encodeURIComponent(G))}):x.push(encodeURIComponent(R)+"="+encodeURIComponent(V));return x.length?"&"+x.join("&"):""}function Ki(O){const x={};return O.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[G,Se]=V.split("=");x[decodeURIComponent(G)]=decodeURIComponent(Se)}}),x}function Do(O){const x=O.indexOf("?");if(!x)return"";const R=O.indexOf("#",x);return O.substring(x,R>0?R:void 0)}function $n(O,x){const R=new Ni(O,x);return R.subscribe.bind(R)}class Ni{constructor(x,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{x(this)}).catch(V=>{this.error(V)})}next(x){this.forEachObserver(R=>{R.next(x)})}error(x){this.forEachObserver(R=>{R.error(x)}),this.close(x)}complete(){this.forEachObserver(x=>{x.complete()}),this.close()}subscribe(x,R,V){let G;if(void 0===x&&void 0===R&&void 0===V)throw new Error("Missing Observer.");G=function br(O,x){if("object"!=typeof O||null===O)return!1;for(const R of x)if(R in O&&"function"==typeof O[R])return!0;return!1}(x,["next","error","complete"])?x:{next:x,error:R,complete:V},void 0===G.next&&(G.next=Xn),void 0===G.error&&(G.error=Xn),void 0===G.complete&&(G.complete=Xn);const Se=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Se}unsubscribeOne(x){void 0===this.observers||void 0===this.observers[x]||(delete this.observers[x],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(x){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,x)}sendOne(x,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[x])try{R(this.observers[x])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(x){this.finalized||(this.finalized=!0,void 0!==x&&(this.finalError=x),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function lo(O){return O&&O._delegate?O._delegate:O}},299:(yr,Ge,E)=>{"use strict";function C(n){return"function"==typeof n}function g(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const d=g(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function y(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class I{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(C(i))try{i()}catch(s){t=s instanceof d?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{B(s)}catch(o){t=t??[],o instanceof d?t=[...t,...o.errors]:t.push(o)}}if(t)throw new d(t)}}add(t){var e;if(t&&t!==this)if(this.closed)B(t);else{if(t instanceof I){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&y(e,t)}remove(t){const{_finalizers:e}=this;e&&y(e,t),t instanceof I&&t._removeParent(this)}}I.EMPTY=(()=>{const n=new I;return n.closed=!0,n})();const S=I.EMPTY;function k(n){return n instanceof I||n&&"closed"in n&&C(n.remove)&&C(n.add)&&C(n.unsubscribe)}function B(n){C(n)?n():n.unsubscribe()}const Z={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},K={setTimeout(n,t,...e){const{delegate:i}=K;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=K;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function te(n){K.setTimeout(()=>{const{onUnhandledError:t}=Z;if(!t)throw n;t(n)})}function be(){}const Ke=Nt("C",void 0,void 0);function Nt(n,t,e){return{kind:n,value:t,error:e}}let mt=null;function yt(n){if(Z.useDeprecatedSynchronousErrorHandling){const t=!mt;if(t&&(mt={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=mt;if(mt=null,e)throw i}}else n()}class fn extends I{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,k(t)&&t.add(this)):this.destination=Ft}static create(t,e,i){return new He(t,e,i)}next(t){this.isStopped?ce(function _n(n){return Nt("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ce(function ft(n){return Nt("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ce(Ke,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ot=Function.prototype.bind;function kt(n,t){return ot.call(n,t)}class Jn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ne(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ne(i)}else Ne(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ne(e)}}}class He extends fn{constructor(t,e,i){let r;if(super(),C(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Z.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&kt(t.next,s),error:t.error&&kt(t.error,s),complete:t.complete&&kt(t.complete,s)}):r=t}this.destination=new Jn(r)}}function Ne(n){Z.useDeprecatedSynchronousErrorHandling?function un(n){Z.useDeprecatedSynchronousErrorHandling&&mt&&(mt.errorThrown=!0,mt.error=n)}(n):te(n)}function ce(n,t){const{onStoppedNotification:e}=Z;e&&K.setTimeout(()=>e(n,t))}const Ft={closed:!0,next:be,error:function vt(n){throw n},complete:be},Ut="function"==typeof Symbol&&Symbol.observable||"@@observable";function dn(n){return n}function mi(n){return 0===n.length?dn:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let bt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function le(n){return n&&n instanceof fn||function Ui(n){return n&&C(n.next)&&C(n.error)&&C(n.complete)}(n)&&k(n)}(e)?e:new He(e,i,r);return yt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=vr(i))((r,s)=>{const o=new He({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ut](){return this}pipe(...e){return mi(e)(this)}toPromise(e){return new(e=vr(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function vr(n){var t;return null!==(t=n??Z.Promise)&&void 0!==t?t:Promise}const ue=g(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let oe=(()=>{class n extends bt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ie(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ue}next(e){yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){yt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?S:(this.currentObservers=null,s.push(e),new I(()=>{this.currentObservers=null,y(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new bt;return e.source=this,e}}return n.create=(t,e)=>new Ie(t,e),n})();class Ie extends oe{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:S}}function we(n){return C(n?.lift)}function ae(n){return t=>{if(we(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(n,t,e,i,r){return new Tt(n,t,e,i,r)}class Tt extends fn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function $e(n,t){return ae((e,i)=>{let r=0;e.subscribe(Le(i,s=>{i.next(n.call(t,s,r++))}))})}var Je=E(582);const ut=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function _t(n){return C(n?.then)}function At(n){return C(n[Ut])}function Cn(n){return Symbol.asyncIterator&&C(n?.[Symbol.asyncIterator])}function Vn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Hi=function Mi(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function or(n){return C(n?.[Hi])}function no(n){return(0,Je.FC)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,Je.qq)(e.read());if(r)return yield(0,Je.qq)(void 0);yield yield(0,Je.qq)(i)}}finally{e.releaseLock()}})}function Ms(n){return C(n?.getReader)}function ln(n){if(n instanceof bt)return n;if(null!=n){if(At(n))return function Ir(n){return new bt(t=>{const e=n[Ut]();if(C(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ut(n))return function io(n){return new bt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(_t(n))return function So(n){return new bt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,te)})}(n);if(Cn(n))return Ki(n);if(or(n))return function ro(n){return new bt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Ms(n))return function Do(n){return Ki(no(n))}(n)}throw Vn(n)}function Ki(n){return new bt(t=>{(function Zi(n,t){var e,i,r,s;return(0,Je.mG)(this,void 0,void 0,function*(){try{for(e=(0,Je.KL)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function $n(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function An(n,t,e=1/0){return C(t)?An((i,r)=>$e((s,o)=>t(i,s,r,o))(ln(n(i,r))),e):("number"==typeof t&&(e=t),ae((i,r)=>function Ni(n,t,e,i,r,s,o,a){const l=[];let c=0,p=0,_=!1;const b=()=>{_&&!l.length&&!c&&t.complete()},T=N=>c<i?P(N):l.push(N),P=N=>{s&&t.next(N),c++;let L=!1;ln(e(N,p++)).subscribe(Le(t,W=>{r?.(W),s?T(W):t.next(W)},()=>{L=!0},void 0,()=>{if(L)try{for(c--;l.length&&c<i;){const W=l.shift();o?$n(t,o,()=>P(W)):P(W)}b()}catch(W){t.error(W)}}))};return n.subscribe(Le(t,T,()=>{_=!0,b()})),()=>{a?.()}}(i,r,n,e)))}function br(n=1/0){return An(dn,n)}const Xn=new bt(n=>n.complete());function yn(n){return n&&C(n.schedule)}function Xr(n){return n[n.length-1]}function oo(n){return C(Xr(n))?n.pop():void 0}function Ns(n){return yn(Xr(n))?n.pop():void 0}function ui(n,t=0){return ae((e,i)=>{e.subscribe(Le(i,r=>$n(i,n,()=>i.next(r),t),()=>$n(i,n,()=>i.complete(),t),r=>$n(i,n,()=>i.error(r),t)))})}function Qi(n,t=0){return ae((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ca(n,t){if(!n)throw new Error("Iterable cannot be null");return new bt(e=>{$n(e,t,()=>{const i=n[Symbol.asyncIterator]();$n(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function O(n,t){return t?function lo(n,t){if(null!=n){if(At(n))return function Ao(n,t){return ln(n).pipe(Qi(t),ui(t))}(n,t);if(ut(n))return function ao(n,t){return new bt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(_t(n))return function ks(n,t){return ln(n).pipe(Qi(t),ui(t))}(n,t);if(Cn(n))return ca(n,t);if(or(n))return function la(n,t){return new bt(e=>{let i;return $n(e,t,()=>{i=n[Hi](),$n(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>C(i?.return)&&i.return()})}(n,t);if(Ms(n))return function Fs(n,t){return ca(no(n),t)}(n,t)}throw Vn(n)}(n,t):ln(n)}function x(...n){const t=Ns(n),e=function xn(n,t){return"number"==typeof Xr(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ln(i[0]):br(e)(O(i,t)):Xn}class R extends oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function V(...n){return O(n,Ns(n))}function G(n={}){const{connector:t=(()=>new oe),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,p=!1,_=!1;const b=()=>{a?.unsubscribe(),a=void 0},T=()=>{b(),o=l=void 0,p=_=!1},P=()=>{const N=o;T(),N?.unsubscribe()};return ae((N,L)=>{c++,!_&&!p&&b();const W=l=l??t();L.add(()=>{c--,0===c&&!_&&!p&&(a=Se(P,r))}),W.subscribe(L),!o&&c>0&&(o=new He({next:H=>W.next(H),error:H=>{_=!0,b(),a=Se(T,e,H),W.error(H)},complete:()=>{p=!0,b(),a=Se(T,i),W.complete()}}),ln(N).subscribe(o))})(s)}}function Se(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new He({next:()=>{i.unsubscribe(),n()}});return ln(t(...e)).subscribe(i)}function Fe(n,t){return ae((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(Le(i,l=>{r?.unsubscribe();let c=0;const p=s++;ln(n(l,p)).subscribe(r=Le(i,_=>i.next(t?t(l,_,p,c++):_),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function gt(n,t=dn){return n=n??Zt,ae((e,i)=>{let r,s=!0;e.subscribe(Le(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function Zt(n,t){return n===t}function it(n){for(let t in n)if(n[t]===it)return t;throw Error("Could not find renamed property on target object.")}function Tn(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Be(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Be).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Nn(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const es=it({__forward_ref__:it});function rn(n){return n.__forward_ref__=rn,n.toString=function(){return Be(this())},n}function wt(n){return ua(n)?n():n}function ua(n){return"function"==typeof n&&n.hasOwnProperty(es)&&n.__forward_ref__===rn}function Xa(n){return n&&!!n.\u0275providers}const nc="https://g.co/ng/security#xss";class ve extends Error{constructor(t,e){super(function fe(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Q(n){return"string"==typeof n?n:null==n?"":String(n)}function Vt(n,t){throw new ve(-201,!1)}function Vr(n,t){null==n&&function Ct(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Qe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function vn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Nu(n){return mf(n,ku)||mf(n,_f)}function mf(n,t){return n.hasOwnProperty(t)?n[t]:null}function ic(n){return n&&(n.hasOwnProperty(xo)||n.hasOwnProperty(yf))?n[xo]:null}const ku=it({\u0275prov:it}),xo=it({\u0275inj:it}),_f=it({ngInjectableDef:it}),yf=it({ngInjectorDef:it});var Gt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Gt||{});let rc;function Fm(){return rc}function Yi(n){const t=rc;return rc=n,t}function Lm(n,t,e){const i=Nu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Gt.Optional?null:void 0!==t?t:void Vt(Be(n))}const kn=globalThis,oc={},ac="__NG_DI_FLAG__",Ro="ngTempTokenPath",Cf=/\n/gm,ps="__source";let el;function Po(n){const t=el;return el=n,t}function Sf(n,t=Gt.Default){if(void 0===el)throw new ve(-203,!1);return null===el?Lm(n,void 0,t):el.get(n,t&Gt.Optional?null:void 0,t)}function De(n,t=Gt.Default){return(Fm()||Sf)(wt(n),t)}function et(n,t=Gt.Default){return De(n,Vu(t))}function Vu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function lc(n){const t=[];for(let e=0;e<n.length;e++){const i=wt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ve(900,!1);let r,s=Gt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=$b(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(De(r,s))}else t.push(De(i))}return t}function gs(n,t){return n[ac]=t,n.prototype[ac]=t,n}function $b(n){return n[ac]}function Oo(n){return{toString:n}.toString()}var tl=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(tl||{}),Ii=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ii||{});const ar={},Yt=[],Bu=it({\u0275cmp:it}),Df=it({\u0275dir:it}),Af=it({\u0275pipe:it}),zm=it({\u0275mod:it}),wr=it({\u0275fac:it}),uc=it({__NG_ELEMENT_ID__:it}),dc=it({__NG_ENV_ID__:it});function $m(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function Uu(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];Br(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Hu(n){return 3===n||4===n||6===n}function Br(n){return 64===n.charCodeAt(0)}function nl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Wm(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Wm(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const ju="ng-template";function zu(n,t,e){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(e&&"class"===s&&-1!==$m(o.toLowerCase(),t,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function xf(n){return 4===n.type&&n.value!==ju}function qm(n,t,e){return t===(4!==n.type||e?n.value:ju)}function qb(n,t,e){let i=4;const r=n.attrs||[],s=function Pf(n){for(let t=0;t<n.length;t++)if(Hu(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!qm(n,l,e)||""===l&&1===t.length){if(Ur(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!zu(n.attrs,c,e)){if(Ur(i))return!1;o=!0}continue}const _=Rf(8&i?"class":l,r,xf(n),e);if(-1===_){if(Ur(i))return!1;o=!0;continue}if(""!==c){let b;b=_>s?"":r[_+1].toLowerCase();const T=8&i?b:null;if(T&&-1!==$m(T,c,0)||2&i&&c!==b){if(Ur(i))return!1;o=!0}}}}else{if(!o&&!Ur(i)&&!Ur(l))return!1;if(o&&Ur(l))continue;o=!1,i=l|1&i}}return Ur(i)||o}function Ur(n){return 0==(1&n)}function Rf(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Gm(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function $u(n,t,e=!1){for(let i=0;i<t.length;i++)if(qb(n,t[i],e))return!0;return!1}function Of(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Mf(n,t){return n?":not("+t.trim()+")":t}function Nf(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Ur(o)&&(t+=Mf(s,r),r=""),i=o,s=s||!Ur(i);e++}return""!==r&&(t+=Mf(s,r)),t}function pn(n){return Oo(()=>{const t=Qm(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===tl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ii.Emulated,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null,id:""};Gu(e);const i=n.dependencies;return e.directiveDefs=Ku(i,!1),e.pipeDefs=Ku(i,!0),e.id=function Gb(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function Km(n){return Jt(n)||Ti(n)}function Lf(n){return null!==n}function Sn(n){return Oo(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Zm(n,t){if(null==n)return ar;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}function dt(n){return Oo(()=>{const t=Qm(n);return Gu(t),t})}function Jt(n){return n[Bu]||null}function Ti(n){return n[Df]||null}function Fi(n){return n[Af]||null}function lr(n,t){const e=n[zm]||null;if(!e&&!0===t)throw new Error(`Type ${Be(n)} does not have '\u0275mod' property.`);return e}function Qm(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||ar,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Zm(n.inputs,t),outputs:Zm(n.outputs)}}function Gu(n){n.features?.forEach(t=>t(n))}function Ku(n,t){if(!n)return null;const e=t?Fi:Km;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Lf)}const Wn=0,Ye=1,Pt=2,qn=3,Hr=4,hc=5,Li=6,il=7,_i=8,Ls=9,rl=10,Ot=11,ha=12,Ym=13,No=14,yi=15,fa=16,sl=17,ts=18,fc=19,Zu=20,ko=21,ms=22,pc=23,pa=24,Kt=25,Qu=1,Yu=2,Vs=7,ga=9,ji=11;function Er(n){return Array.isArray(n)&&"object"==typeof n[Qu]}function cr(n){return Array.isArray(n)&&!0===n[Qu]}function Jm(n){return 0!=(4&n.flags)}function ol(n){return n.componentOffset>-1}function Uf(n){return 1==(1&n.flags)}function jr(n){return!!n.template}function Hf(n){return 0!=(512&n[Pt])}function ma(n,t){return n.hasOwnProperty(wr)?n[wr]:null}const _a=Symbol("SIGNAL");function Yb(n,t){return(null===n||"object"!=typeof n)&&Object.is(n,t)}let Si=null,Xu=!1;function ns(n){const t=Si;return Si=n,t}const Fo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function i_(n){if(Xu)throw new Error("");if(null===Si)return;const t=Si.nextProducerIndex++;Bs(Si),t<Si.producerNode.length&&Si.producerNode[t]!==n&&cl(Si)&&ya(Si.producerNode[t],Si.producerIndexOfThis[t]),Si.producerNode[t]!==n&&(Si.producerNode[t]=n,Si.producerIndexOfThis[t]=cl(Si)?a_(n,Si,t):0),Si.producerLastReadVersion[t]=n.version}function vi(n){if(!cl(n)||n.dirty){if(!n.producerMustRecompute(n)&&!o_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function r_(n){if(void 0===n.liveConsumerNode)return;const t=Xu;Xu=!0;try{for(const e of n.liveConsumerNode)e.dirty||s_(e)}finally{Xu=t}}function mc(){return!1!==Si?.consumerAllowSignalWrites}function s_(n){n.dirty=!0,r_(n),n.consumerMarkedDirty?.(n)}function ll(n){return n&&(n.nextProducerIndex=0),ns(n)}function ed(n,t){if(ns(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(cl(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)ya(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function o_(n){Bs(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(vi(e),i!==e.version))return!0}return!1}function zf(n){if(Bs(n),cl(n))for(let t=0;t<n.producerNode.length;t++)ya(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function a_(n,t,e){if(_c(n),Bs(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=a_(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function ya(n,t){if(_c(n),Bs(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)ya(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Bs(r),r.producerIndexOfThis[i]=t}}function cl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bs(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function _c(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function l_(n,t){const e=Object.create(Jb);e.computation=n,t?.equal&&(e.equal=t.equal);const i=()=>{if(vi(e),i_(e),e.value===ul)throw e.error;return e.value};return i[_a]=e,i}const yc=Symbol("UNSET"),td=Symbol("COMPUTING"),ul=Symbol("ERRORED"),Jb=(()=>({...Fo,value:yc,dirty:!0,error:null,equal:Yb,producerMustRecompute:n=>n.value===yc||n.value===td,producerRecomputeValue(n){if(n.value===td)throw new Error("Detected cycle in computations.");const t=n.value;n.value=td;const e=ll(n);let i;try{i=n.computation()}catch(r){i=ul,n.error=r}finally{ed(n,e)}t!==yc&&t!==ul&&i!==ul&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}}))();let Wf=function $f(){throw new Error};function qf(){Wf()}let c_=null;function vc(n,t){const e=Object.create(ew);function i(){return i_(e),e.value}return e.value=n,t?.equal&&(e.equal=t.equal),i.set=d_,i.update=tw,i.mutate=nd,i.asReadonly=nw,i[_a]=e,i}const ew=(()=>({...Fo,equal:Yb,readonlyFn:void 0}))();function u_(n){n.version++,r_(n),c_?.()}function d_(n){const t=this[_a];mc()||qf(),t.equal(t.value,n)||(t.value=n,u_(t))}function tw(n){mc()||qf(),d_.call(this,n(this[_a].value))}function nd(n){const t=this[_a];mc()||qf(),n(t.value),u_(t)}function nw(){const n=this[_a];if(void 0===n.readonlyFn){const t=()=>this();t[_a]=n,n.readonlyFn=t}return n.readonlyFn}const id=()=>{},rw=(()=>({...Fo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:id}))();class sw{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ji(){return Gf}function Gf(n){return n.type.prototype.ngOnChanges&&(n.setInput=aw),ow}function ow(){const n=rd(this),t=n?.current;if(t){const e=n.previous;if(e===ar)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function aw(n,t,e,i){const r=this.declaredInputs[e],s=rd(n)||function lw(n,t){return n[f_]=t}(n,{previous:ar,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new sw(l&&l.currentValue,t,a===ar),n[i]=t}Ji.ngInherit=!0;const f_="__ngSimpleChanges__";function rd(n){return n[f_]||null}const is=function(n,t,e){};function In(n){for(;Array.isArray(n);)n=n[Wn];return n}function od(n,t){return In(t[n])}function Xi(n,t){return In(t[n.index])}function Lo(n,t){return n.data[t]}function zr(n,t){const e=t[n];return Er(e)?e:e[Wn]}function ho(n,t){return null==t?null:n[t]}function g_(n){n[sl]=0}function fw(n){1024&n[Pt]||(n[Pt]|=1024,m_(n,1))}function ad(n){1024&n[Pt]&&(n[Pt]&=-1025,m_(n,-1))}function m_(n,t){let e=n[qn];if(null===e)return;e[hc]+=t;let i=e;for(e=e[qn];null!==e&&(1===t&&1===i[hc]||-1===t&&0===i[hc]);)e[hc]+=t,i=e,e=e[qn]}function ld(n,t){if(256==(256&n[Pt]))throw new ve(911,!1);null===n[ko]&&(n[ko]=[]),n[ko].push(t)}const Et={lFrame:Sc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ud(){return Et.bindingsEnabled}function Bo(){return null!==Et.skipHydrationRootTNode}function Oe(){return Et.lFrame.lView}function sn(){return Et.lFrame.tView}function $t(n){return Et.lFrame.contextLView=n,n[_i]}function Xt(n){return Et.lFrame.contextLView=null,n}function zi(){let n=dd();for(;null!==n&&64===n.type;)n=n.parent;return n}function dd(){return Et.lFrame.currentTNode}function Us(n,t){const e=Et.lFrame;e.currentTNode=n,e.isParent=t}function Cc(){return Et.lFrame.isParent}function Qf(){Et.lFrame.isParent=!1}function er(){const n=Et.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function va(){return Et.lFrame.bindingIndex++}function Hs(n){const t=Et.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function C_(n,t){const e=Et.lFrame;e.bindingIndex=e.bindingRootIndex=n,Xf(t)}function Xf(n){Et.lFrame.currentDirectiveIndex=n}function T_(){return Et.lFrame.currentQueryIndex}function Tc(n){Et.lFrame.currentQueryIndex=n}function yw(n){const t=n[Ye];return 2===t.type?t.declTNode:1===t.type?n[Li]:null}function S_(n,t,e){if(e&Gt.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Gt.Host||(r=yw(s),null===r||(s=s[No],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Et.lFrame=D_();return i.currentTNode=t,i.lView=n,!0}function fd(n){const t=D_(),e=n[Ye];Et.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function D_(){const n=Et.lFrame,t=null===n?null:n.child;return null===t?Sc(n):t}function Sc(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function A_(){const n=Et.lFrame;return Et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const x_=A_;function tp(){const n=A_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ur(){return Et.lFrame.selectedIndex}function Ia(n){Et.lFrame.selectedIndex=n}function ti(){const n=Et.lFrame;return Lo(n.tView,n.selectedIndex)}function rs(){Et.lFrame.currentNamespace="svg"}let P_=!0;function Dc(){return P_}function Uo(n){P_=n}function pd(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=p&&(n.destroyHooks??=[]).push(e,p)}}function gd(n,t,e){_d(n,t,3,e)}function md(n,t,e,i){(3&n[Pt])===e&&_d(n,t,e,i)}function Ac(n,t){let e=n[Pt];(3&e)===t&&(e&=8191,e+=1,n[Pt]=e)}function _d(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[sl]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[sl]+=65536),(a<s||-1==s)&&(np(n,e,t,l),n[sl]=(4294901760&n[sl])+l+2),l++}function O_(n,t){is(4,n,t);const e=ns(null);try{t.call(n)}finally{ns(e),is(5,n,t)}}function np(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[Pt]>>13<n[sl]>>16&&(3&n[Pt])===t&&(n[Pt]+=8192,O_(a,s)):O_(a,s)}const dl=-1;class hl{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function yd(n){return n!==dl}function xc(n){return 32767&n}function Rc(n,t){let e=function Dw(n){return n>>16}(n),i=t;for(;e>0;)i=i[No],e--;return i}let op=!0;function vd(n){const t=op;return op=n,t}const k_=255,xw=5;let Rw=0;const m={};function h(n,t){const e=A(n,t);if(-1!==e)return e;const i=t[Ye];i.firstCreatePass&&(n.injectorIndex=t.length,v(i.data,n),v(t,null),v(i.blueprint,null));const r=M(n,t),s=n.injectorIndex;if(yd(r)){const o=xc(r),a=Rc(r,t),l=a[Ye].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function v(n,t){n.push(0,0,0,0,0,0,0,0,t)}function A(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function M(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=wd(r),null===i)return dl;if(e++,r=r[No],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return dl}function Y(n,t,e){!function u(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(uc)&&(i=e[uc]),null==i&&(i=e[uc]=Rw++);const r=i&k_;t.data[n+(r>>xw)]|=1<<r}(n,t,e)}function Re(n,t,e){if(e&Gt.Optional||void 0!==n)return n;Vt()}function Xe(n,t,e,i){if(e&Gt.Optional&&void 0===i&&(i=null),!(e&(Gt.Self|Gt.Host))){const r=n[Ls],s=Yi(void 0);try{return r?r.get(t,i,e&Gt.Optional):Lm(t,i,e&Gt.Optional)}finally{Yi(s)}}return Re(i,0,e)}function ht(n,t,e,i=Gt.Default,r){if(null!==n){if(2048&t[Pt]&&!(i&Gt.Self)){const o=function Pw(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[Pt]&&!(512&o[Pt]);){const a=Wt(s,o,e,i|Gt.Self,m);if(a!==m)return a;let l=s.parent;if(!l){const c=o[Zu];if(c){const p=c.get(e,m,i);if(p!==m)return p}l=wd(o),o=o[No]}s=l}return r}(n,t,e,i,m);if(o!==m)return o}const s=Wt(n,t,e,i,m);if(s!==m)return s}return Xe(t,e,i,r)}function Wt(n,t,e,i,r){const s=function F_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(uc)?n[uc]:void 0;return"number"==typeof t?t>=0?t&k_:L_:t}(e);if("function"==typeof s){if(!S_(t,n,i))return i&Gt.Host?Re(r,0,i):Xe(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Gt.Optional)return o;Vt()}finally{x_()}}else if("number"==typeof s){let o=null,a=A(n,t),l=dl,c=i&Gt.Host?t[yi][Li]:null;for((-1===a||i&Gt.SkipSelf)&&(l=-1===a?M(n,t):t[a+8],l!==dl&&ap(i,!1)?(o=t[Ye],a=xc(l),t=Rc(l,t)):a=-1);-1!==a;){const p=t[Ye];if(Id(s,a,p.data)){const _=Cr(a,t,e,o,i,c);if(_!==m)return _}l=t[a+8],l!==dl&&ap(i,t[Ye].data[a+8]===c)&&Id(s,a,t)?(o=p,a=xc(l),t=Rc(l,t)):a=-1}}return r}function Cr(n,t,e,i,r,s){const o=t[Ye],a=o.data[n+8],p=ys(a,o,e,null==i?ol(a)&&op:i!=o&&0!=(3&a.type),r&Gt.Host&&s===a);return null!==p?js(t,o,p,a):m}function ys(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,p=s>>20,b=r?a+p:n.directiveEnd;for(let T=i?a:a+p;T<b;T++){const P=o[T];if(T<l&&e===P||T>=l&&P.type===e)return T}if(r){const T=o[l];if(T&&jr(T)&&T.type===e)return l}return null}function js(n,t,e,i){let r=n[e];const s=t.data;if(function Tw(n){return n instanceof hl}(r)){const o=r;o.resolving&&function Ze(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ve(-200,`Circular dependency in DI detected for ${n}${e}`)}(function he(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Q(n)}(s[e]));const a=vd(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Yi(o.injectImpl):null;S_(n,i,Gt.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Cw(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Gf(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&Yi(c),vd(a),o.resolving=!1,x_()}}return r}function Id(n,t,e){return!!(e[t+(n>>xw)]&1<<n)}function ap(n,t){return!(n&Gt.Self||n&Gt.Host&&t)}class tr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return ht(this._tNode,this._lView,t,Vu(i),e)}}function L_(){return new tr(zi(),Oe())}function Dn(n){return Oo(()=>{const t=n.prototype.constructor,e=t[wr]||bd(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[wr]||bd(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function bd(n){return ua(n)?()=>{const t=bd(wt(n));return t&&t()}:ma(n)}function wd(n){const t=n[Ye],e=t.type;return 2===e?t.declTNode:1===e?n[Li]:null}const Td="__parameters__";function Dd(n,t,e){return Oo(()=>{const i=function Ow(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,p){const _=l.hasOwnProperty(Td)?l[Td]:Object.defineProperty(l,Td,{value:[]})[Td];for(;_.length<=p;)_.push(null);return(_[p]=_[p]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function xd(n,t){n.forEach(e=>Array.isArray(e)?xd(e,t):t(e))}function M1(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function V_(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function up(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function vs(n,t,e){let i=Rd(n,t);return i>=0?n[1|i]=e:(i=~i,function jH(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Mw(n,t){const e=Rd(n,t);if(e>=0)return n[1|e]}function Rd(n,t){return function N1(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Is=gs(Dd("Optional"),8),U_=gs(Dd("SkipSelf"),4);function W_(n){return 128==(128&n.flags)}var pl=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(pl||{});const cj=/^>|^->|<!--|-->|--!>|<!-$/g,uj=/(<|>)/g,dj="\u200b$1\u200b";const Vw=new Map;let hj=0;const Uw="__ngContext__";function Tr(n,t){Er(t)?(n[Uw]=t[fc],function pj(n){Vw.set(n[fc],n)}(t)):n[Uw]=t}let Hw;function jw(n,t){return Hw(n,t)}function fp(n){const t=n[qn];return cr(t)?t[qn]:t}function ex(n){return nx(n[ha])}function tx(n){return nx(n[Hr])}function nx(n){for(;null!==n&&!cr(n);)n=n[Hr];return n}function Md(n,t,e,i,r){if(null!=i){let s,o=!1;cr(i)?s=i:Er(i)&&(o=!0,i=i[Wn]);const a=In(i);0===n&&null!==e?null==r?ox(t,e,a):Pc(t,e,a,r||null,!0):1===n&&null!==e?Pc(t,e,a,r||null,!0):2===n?function J_(n,t,e){const i=Q_(n,t);i&&function Mj(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function Fj(n,t,e,i,r){const s=e[Vs];s!==In(e)&&Md(t,n,i,s,r);for(let a=ji;a<e.length;a++){const l=e[a];gp(l[Ye],l,n,t,i,s)}}(t,n,s,e,r)}}function zw(n,t){return n.createComment(function q1(n){return n.replace(cj,t=>t.replace(uj,dj))}(t))}function K_(n,t,e){return n.createElement(t,e)}function rx(n,t){const e=n[ga],i=e.indexOf(t);ad(t),e.splice(i,1)}function Z_(n,t){if(n.length<=ji)return;const e=ji+t,i=n[e];if(i){const r=i[fa];null!==r&&r!==n&&rx(r,i),t>0&&(n[e-1][Hr]=i[Hr]);const s=V_(n,ji+t);!function Tj(n,t){gp(n,t,t[Ot],2,null,null),t[Wn]=null,t[Li]=null}(i[Ye],i);const o=s[ts];null!==o&&o.detachView(s[Ye]),i[qn]=null,i[Hr]=null,i[Pt]&=-129}return i}function $w(n,t){if(!(256&t[Pt])){const e=t[Ot];t[pc]&&zf(t[pc]),t[pa]&&zf(t[pa]),e.destroyNode&&gp(n,t,e,3,null,null),function Aj(n){let t=n[ha];if(!t)return Ww(n[Ye],n);for(;t;){let e=null;if(Er(t))e=t[ha];else{const i=t[ji];i&&(e=i)}if(!e){for(;t&&!t[Hr]&&t!==n;)Er(t)&&Ww(t[Ye],t),t=t[qn];null===t&&(t=n),Er(t)&&Ww(t[Ye],t),e=t&&t[Hr]}t=e}}(t)}}function Ww(n,t){if(!(256&t[Pt])){t[Pt]&=-129,t[Pt]|=256,function Oj(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof hl)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];is(4,a,l);try{l.call(a)}finally{is(5,a,l)}}else{is(4,r,s);try{s.call(r)}finally{is(5,r,s)}}}}}(n,t),function Pj(n,t){const e=n.cleanup,i=t[il];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[il]=null);const r=t[ko];if(null!==r){t[ko]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[Ye].type&&t[Ot].destroy();const e=t[fa];if(null!==e&&cr(t[qn])){e!==t[qn]&&rx(e,t);const i=t[ts];null!==i&&i.detachView(n)}!function gj(n){Vw.delete(n[fc])}(t)}}function qw(n,t,e){return function sx(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Wn];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ii.None||s===Ii.Emulated)return null}return Xi(i,e)}}(n,t.parent,e)}function Pc(n,t,e,i,r){n.insertBefore(t,e,i,r)}function ox(n,t,e){n.appendChild(t,e)}function ax(n,t,e,i,r){null!==i?Pc(n,t,e,i,r):ox(n,t,e)}function Q_(n,t){return n.parentNode(t)}function lx(n,t,e){return ux(n,t,e)}let Gw,X_,Yw,ey,ux=function cx(n,t,e){return 40&n.type?Xi(n,e):null};function Y_(n,t,e,i){const r=qw(n,i,t),s=t[Ot],a=lx(i.parent||t[Li],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)ax(s,r,e[l],a,!1);else ax(s,r,e,a,!1);void 0!==Gw&&Gw(s,i,t,e,r)}function pp(n,t){if(null!==t){const e=t.type;if(3&e)return Xi(t,n);if(4&e)return Kw(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return pp(n,i);{const r=n[t.index];return cr(r)?Kw(-1,r):In(r)}}if(32&e)return jw(t,n)()||In(n[t.index]);{const i=hx(n,t);return null!==i?Array.isArray(i)?i[0]:pp(fp(n[yi]),i):pp(n,t.next)}}return null}function hx(n,t){return null!==t?n[yi][Li].projection[t.projection]:null}function Kw(n,t){const e=ji+n+1;if(e<t.length){const i=t[e],r=i[Ye].firstChild;if(null!==r)return pp(i,r)}return t[Vs]}function Zw(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Tr(In(a),i),e.flags|=2),32!=(32&e.flags))if(8&l)Zw(n,t,e.child,i,r,s,!1),Md(t,n,r,a,s);else if(32&l){const c=jw(e,i);let p;for(;p=c();)Md(t,n,r,p,s);Md(t,n,r,a,s)}else 16&l?px(n,t,i,e,r,s):Md(t,n,r,a,s);e=o?e.projectionNext:e.next}}function gp(n,t,e,i,r,s){Zw(e,i,n.firstChild,t,r,s,!1)}function px(n,t,e,i,r,s){const o=e[yi],l=o[Li].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Md(t,n,r,l[c],s);else{let c=l;const p=o[qn];W_(i)&&(c.flags|=128),Zw(n,t,c,p,r,s,!0)}}function gx(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function mx(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Uu(n,t,i),null!==r&&gx(n,t,r),null!==s&&function Vj(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Nd(n){return function Qw(){if(void 0===X_&&(X_=null,kn.trustedTypes))try{X_=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return X_}()?.createHTML(n)||n}function kd(){if(void 0!==Yw)return Yw;if(typeof document<"u")return document;throw new ve(210,!1)}function Jw(){if(void 0===ey&&(ey=null,kn.trustedTypes))try{ey=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ey}function _x(n){return Jw()?.createHTML(n)||n}function vx(n){return Jw()?.createScriptURL(n)||n}class Ix{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nc})`}}function gl(n){return n instanceof Ix?n.changingThisBreaksApplicationSecurity:n}function mp(n,t){const e=function Kj(n){return n instanceof Ix&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${nc})`)}return e===t}class Zj{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Nd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class Qj{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Nd(t),e}}const Jj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Xw(n){return(n=String(n)).match(Jj)?n:"unsafe:"+n}function ba(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function _p(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const wx=ba("area,br,col,hr,img,wbr"),Ex=ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Cx=ba("rp,rt"),e0=_p(wx,_p(Ex,ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_p(Cx,ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_p(Cx,Ex)),t0=ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Tx=_p(t0,ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xj=ba("script,style,template");class ez{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!e0.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xj.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!Tx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;t0[a]&&(l=Xw(l)),this.buf.push(" ",o,'="',Sx(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();e0.hasOwnProperty(e)&&!wx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Sx(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const tz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nz=/([^\#-~ |!])/g;function Sx(n){return n.replace(/&/g,"&amp;").replace(tz,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nz,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ty;function n0(n){return"content"in n&&function rz(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Fd||{});function ny(n){const t=yp();return t?_x(t.sanitize(Fd.HTML,n)||""):mp(n,"HTML")?_x(gl(n)):function iz(n,t){let e=null;try{ty=ty||function bx(n){const t=new Qj(n);return function Yj(){try{return!!(new window.DOMParser).parseFromString(Nd(""),"text/html")}catch{return!1}}()?new Zj(t):t}(n);let i=t?String(t):"";e=ty.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=ty.getInertBodyElement(i)}while(i!==s);return Nd((new ez).sanitizeChildren(n0(e)||e))}finally{if(e){const i=n0(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(kd(),Q(n))}function Oc(n){const t=yp();return t?t.sanitize(Fd.URL,n)||"":mp(n,"URL")?gl(n):Xw(Q(n))}function Dx(n){const t=yp();if(t)return vx(t.sanitize(Fd.RESOURCE_URL,n)||"");if(mp(n,"ResourceURL"))return vx(gl(n));throw new ve(904,!1)}function yp(){const n=Oe();return n&&n[rl].sanitizer}class Ue{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Qe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vp=new Ue("ENVIRONMENT_INITIALIZER"),xx=new Ue("INJECTOR",-1),Rx=new Ue("INJECTOR_DEF_TYPES");class r0{get(t,e=oc){if(e===oc){const i=new Error(`NullInjectorError: No provider for ${Be(t)}!`);throw i.name="NullInjectorError",i}return e}}function uz(...n){return{\u0275providers:Px(0,n),\u0275fromNgModule:!0}}function Px(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return xd(t,o=>{const a=o;iy(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Ox(r,s),e}function Ox(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];o0(r,s=>{t(s,i)})}}function iy(n,t,e,i){if(!(n=wt(n)))return!1;let r=null,s=ic(n);const o=!s&&Jt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=ic(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)iy(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{xd(s.imports,p=>{iy(p,t,e,i)&&(c||=[],c.push(p))})}finally{}void 0!==c&&Ox(c,t)}if(!a){const c=ma(r)||(()=>new r);t({provide:r,useFactory:c,deps:Yt},r),t({provide:Rx,useValue:r,multi:!0},r),t({provide:vp,useValue:()=>De(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;o0(l,p=>{t(p,c)})}}}return r!==n&&void 0!==n.providers}function o0(n,t){for(let e of n)Xa(e)&&(e=e.\u0275providers),Array.isArray(e)?o0(e,t):t(e)}const dz=it({provide:String,useValue:it});function a0(n){return null!==n&&"object"==typeof n&&dz in n}function Mc(n){return"function"==typeof n}const l0=new Ue("Set Injector scope."),ry={},fz={};let c0;function sy(){return void 0===c0&&(c0=new r0),c0}class bs{}class oy extends bs{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,d0(t,o=>this.processProvider(o)),this.records.set(xx,Ld(void 0,this)),r.has("environment")&&this.records.set(bs,Ld(void 0,this));const s=this.records.get(l0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rx.multi,Yt,Gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Po(this),i=Yi(void 0);try{return t()}finally{Po(e),Yi(i)}}get(t,e=oc,i=Gt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(dc))return t[dc](this);i=Vu(i);const s=Po(this),o=Yi(void 0);try{if(!(i&Gt.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function yz(n){return"function"==typeof n||"object"==typeof n&&n instanceof Ue}(t)&&Nu(t);l=c&&this.injectableDefInScope(c)?Ld(u0(t),ry):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Gt.Self?sy():this.parent).get(t,e=i&Gt.Optional&&e===oc?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Ro]=a[Ro]||[]).unshift(Be(t)),s)throw a;return function Wb(n,t,e,i){const r=n[Ro];throw t[ps]&&r.unshift(t[ps]),n.message=function cc(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Be(t);if(Array.isArray(t))r=t.map(Be).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Be(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Cf,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Ro]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Yi(o),Po(s)}}resolveInjectorInitializers(){const t=Po(this),e=Yi(void 0);try{const r=this.get(vp.multi,Yt,Gt.Self);for(const s of r)s()}finally{Po(t),Yi(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Be(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(t){let e=Mc(t=wt(t))?t:wt(t&&t.provide);const i=function gz(n){return a0(n)?Ld(void 0,n.useValue):Ld(kx(n),ry)}(t);if(Mc(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Ld(void 0,ry,!0),r.factory=()=>lc(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===ry&&(e.value=fz,e.value=e.factory()),"object"==typeof e.value&&e.value&&function _z(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=wt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function u0(n){const t=Nu(n),e=null!==t?t.factory:ma(n);if(null!==e)return e;if(n instanceof Ue)throw new ve(204,!1);if(n instanceof Function)return function pz(n){const t=n.length;if(t>0)throw up(t,"?"),new ve(204,!1);const e=function jb(n){return n&&(n[ku]||n[_f])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ve(204,!1)}function kx(n,t,e){let i;if(Mc(n)){const r=wt(n);return ma(r)||u0(r)}if(a0(n))i=()=>wt(n.useValue);else if(function Nx(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...lc(n.deps||[]));else if(function Mx(n){return!(!n||!n.useExisting)}(n))i=()=>De(wt(n.useExisting));else{const r=wt(n&&(n.useClass||n.provide));if(!function mz(n){return!!n.deps}(n))return ma(r)||u0(r);i=()=>new r(...lc(n.deps))}return i}function Ld(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function d0(n,t){for(const e of n)Array.isArray(e)?d0(e,t):e&&Xa(e)?d0(e.\u0275providers,t):t(e)}const ay=new Ue("AppId",{providedIn:"root",factory:()=>vz}),vz="ng",Fx=new Ue("Platform Initializer"),nr=new Ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lx=new Ue("AnimationModuleType"),Vx=new Ue("CSP nonce",{providedIn:"root",factory:()=>kd().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Bx=(n,t,e)=>null;function v0(n,t,e=!1){return Bx(n,t,e)}class xz{}class jx{}class Pz{resolveComponentFactory(t){throw function Rz(n){const t=Error(`No component factory found for ${Be(n)}.`);return t.ngComponent=n,t}(t)}}let fy=(()=>{class n{static#e=this.NULL=new Pz}return n})();function Oz(){return Ud(zi(),Oe())}function Ud(n,t){return new Gn(Xi(n,t))}let Gn=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=Oz}return n})();function Mz(n){return n instanceof Gn?n.nativeElement:n}class wp{}let Sr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Nz(){const n=Oe(),e=zr(zi().index,n);return(Er(e)?e:n)[Ot]}()}return n})(),kz=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>null})}return n})();class Hd{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $x=new Hd("16.2.10"),w0={};function Kx(n,t=null,e=null,i){const r=Zx(n,t,e,i);return r.resolveInjectorInitializers(),r}function Zx(n,t=null,e=null,i,r=new Set){const s=[e||Yt,uz(n)];return i=i||("object"==typeof n?void 0:Be(n)),new oy(s,t||sy(),i||null,r)}let os=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=oc;static#t=this.NULL=new r0;static create(e,i){if(Array.isArray(e))return Kx({name:""},i,e,"");{const r=e.name??"";return Kx({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Qe({token:n,providedIn:"any",factory:()=>De(xx)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function C0(n){return n.ngOriginalError}class Ho{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&C0(t);for(;e&&C0(e);)e=C0(e);return e||null}}let py=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=jz;static#t=this.__NG_ENV_ID__=e=>e}return n})();class Hz extends py{constructor(t){super(),this._lView=t}onDestroy(t){return ld(this._lView,t),()=>function pw(n,t){if(null===n[ko])return;const e=n[ko].indexOf(t);-1!==e&&n[ko].splice(e,1)}(this._lView,t)}}function jz(){return new Hz(Oe())}function T0(n){return t=>{setTimeout(n,void 0,t)}}const at=class zz extends oe{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=T0(s),r&&(r=T0(r)),o&&(o=T0(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof I&&t.add(a),a}};function Yx(...n){}class qt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new at(!1),this.onMicrotaskEmpty=new at(!1),this.onStable=new at(!1),this.onError=new at(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function $z(){const n="function"==typeof kn.requestAnimationFrame;let t=kn[n?"requestAnimationFrame":"setTimeout"],e=kn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Gz(n){const t=()=>{!function qz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,D0(n),n.isCheckStableRunning=!0,S0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),D0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function Zz(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return Jx(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),Xx(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return Jx(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),Xx(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,D0(n),S0(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qt.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(qt.isInAngularZone())throw new ve(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Wz,Yx,Yx);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Wz={};function S0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function D0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Jx(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xx(n){n._nesting--,S0(n)}class Kz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new at,this.onMicrotaskEmpty=new at,this.onStable=new at,this.onError=new at}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const eR=new Ue("",{providedIn:"root",factory:tR});function tR(){const n=et(qt);let t=!0;return x(new bt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new bt(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{qt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{qt.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(G()))}function nR(n){return n.ownerDocument.defaultView}function A0(n){return n.ownerDocument}function wa(n){return n instanceof Function?n():n}let x0=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ep(n){for(;n;){n[Pt]|=64;const t=fp(n);if(Hf(n)&&!t)return n;n=t}return null}const aR=new Ue("",{providedIn:"root",factory:()=>!1});let my=null;function dR(n,t){return n[t]??pR()}function hR(n,t){const e=pR();e.producerNode?.length&&(n[t]=my,e.lView=n,my=fR())}const i$={...Fo,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ep(n.lView)},lView:null};function fR(){return Object.create(i$)}function pR(){return my??=fR(),my}const Lt={};function Te(n){gR(sn(),Oe(),ur()+n,!1)}function gR(n,t,e,i){if(!i)if(3==(3&t[Pt])){const s=n.preOrderCheckHooks;null!==s&&gd(t,s,e)}else{const s=n.preOrderHooks;null!==s&&md(t,s,0,e)}Ia(e)}function ie(n,t=Gt.Default){const e=Oe();return null===e?De(n,t):ht(zi(),e,wt(n),t)}function _y(n,t,e,i,r,s,o,a,l,c,p){const _=t.blueprint.slice();return _[Wn]=r,_[Pt]=140|i,(null!==c||n&&2048&n[Pt])&&(_[Pt]|=2048),g_(_),_[qn]=_[No]=n,_[_i]=e,_[rl]=o||n&&n[rl],_[Ot]=a||n&&n[Ot],_[Ls]=l||n&&n[Ls]||null,_[Li]=s,_[fc]=function fj(){return hj++}(),_[ms]=p,_[Zu]=c,_[yi]=2==t.type?n[yi]:_,_}function $d(n,t,e,i,r){let s=n.data[t];if(null===s)s=function R0(n,t,e,i,r){const s=dd(),o=Cc(),l=n.data[t]=function d$(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return Bo()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(n,t,e,i,r),function w_(){return Et.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function Ec(){const n=Et.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Us(s,!0),s}function Cp(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function _R(n,t,e,i,r){const s=dR(t,pc),o=ur(),a=2&i;try{Ia(-1),a&&t.length>Kt&&gR(n,t,Kt,!1),is(a?2:0,r);const c=a?s:null,p=ll(c);try{null!==c&&(c.dirty=!1),e(i,r)}finally{ed(c,p)}}finally{a&&null===t[pc]&&hR(t,pc),Ia(o),is(a?3:1,r)}}function P0(n,t,e){if(Jm(t)){const i=ns(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{ns(i)}}}function O0(n,t,e){ud()&&(function y$(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;ol(e)&&function T$(n,t,e){const i=Xi(t,n),r=yR(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=yy(n,_y(n,r,null,o,i,t,null,n[rl].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||h(e,t),Tr(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=js(t,n,a,e);Tr(c,t),null!==o&&S$(0,a-r,c,l,0,o),jr(l)&&(zr(e.index,t)[_i]=js(t,n,a,e))}}(n,t,e,Xi(e,t)),64==(64&e.flags)&&ER(n,t,e))}function M0(n,t,e=Xi){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function yR(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=N0(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function N0(n,t,e,i,r,s,o,a,l,c,p){const _=Kt+i,b=_+r,T=function s$(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Lt);return e}(_,b),P="function"==typeof c?c():c;return T[Ye]={type:n,blueprint:T,template:e,queries:null,viewQuery:a,declTNode:t,data:T.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1,ssrId:p}}let vR=n=>null;function IR(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?bR(e,t,r,s):i.hasOwnProperty(r)&&bR(e,t,i[r],s)}return e}function bR(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function k0(n,t,e,i){if(ud()){const r=null===i?null:{"":-1},s=function I$(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if($u(t,o.selectors,!1))if(i||(i=[]),jr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),F0(n,t,a.length)}else i.unshift(o),F0(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&wR(n,t,e,o,r,a),r&&function b$(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new ve(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=nl(e.mergedAttrs,e.attrs)}function wR(n,t,e,i,r,s){for(let c=0;c<i.length;c++)Y(h(e,t),n,i[c].type);!function E$(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const p=i[c];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,l=Cp(n,t,i.length,null);for(let c=0;c<i.length;c++){const p=i[c];e.mergedAttrs=nl(e.mergedAttrs,p.hostAttrs),C$(n,e,t,l,p),w$(l,p,r),null!==p.contentQueries&&(e.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(e.flags|=64);const _=p.type.prototype;!o&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function h$(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let p=t.directiveStart;p<r;p++){const _=s[p],b=e?e.get(_):null,P=b?b.outputs:null;l=IR(_.inputs,p,l,b?b.inputs:null),c=IR(_.outputs,p,c,P);const N=null===l||null===o||xf(t)?null:D$(l,p,o);a.push(N)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function ER(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function Jf(){return Et.lFrame.currentDirectiveIndex}();try{Ia(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];Xf(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&v$(l,c)}}finally{Ia(-1),Xf(o)}}function v$(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function F0(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function w$(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;jr(t)&&(e[""]=n)}}function C$(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=ma(r.type)),o=new hl(s,jr(r),ie);n.blueprint[i]=o,e[i]=o,function m$(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function _$(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Cp(n,e,r.hostVars,Lt),r)}function jo(n,t,e,i,r,s){const o=Xi(n,t);!function L0(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Q(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[Ot],o,s,n.value,e,i,r)}function S$(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)CR(i,e,o[a++],o[a++],o[a++])}function CR(n,t,e,i,r){const s=ns(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{ns(s)}}function D$(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function TR(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function SR(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i+1];if(-1!==s){const o=n.data[s];Tc(e[i]),o.contentQueries(2,t[s],s)}}}function yy(n,t){return n[ha]?n[Ym][Hr]=t:n[ha]=t,n[Ym]=t,t}function V0(n,t,e){Tc(0);const i=ns(null);try{t(n,e)}finally{ns(i)}}function DR(n){return n[il]||(n[il]=[])}function AR(n){return n.cleanup||(n.cleanup=[])}function RR(n,t){const e=n[Ls],i=e?e.get(Ho,null):null;i&&i.handleError(t)}function B0(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];CR(n.data[o],t[o],i,a,r)}}function A$(n,t){const e=zr(t,n),i=e[Ye];!function x$(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Wn];null!==r&&null===e[ms]&&(e[ms]=v0(r,e[Ls])),U0(i,e,e[_i])}function U0(n,t,e){fd(t);try{const i=n.viewQuery;null!==i&&V0(1,i,e);const r=n.template;null!==r&&_R(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&SR(n,t),n.staticViewQueries&&V0(2,n.viewQuery,e);const s=n.components;null!==s&&function R$(n,t){for(let e=0;e<t.length;e++)A$(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[Pt]&=-5,tp()}}let PR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const s=typeof Zone>"u"?null:Zone.current,o=function iw(n,t,e){const i=Object.create(rw);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=o=>{i.cleanupFn=o};return i.ref={notify:()=>s_(i),run:()=>{if(i.dirty=!1,i.hasRun&&!o_(i))return;i.hasRun=!0;const o=ll(i);try{i.cleanupFn(),i.cleanupFn=id,i.fn(r)}finally{ed(i,o)}},cleanup:()=>i.cleanupFn()},i.ref}(e,c=>{this.all.has(c)&&this.queue.set(c,s)},r);let a;this.all.add(o),o.notify();const l=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>new n})}return n})();function OR(n,t){!t?.injector&&function E0(n){if(!Fm()&&!function Tf(){return el}())throw new ve(-203,!1)}();const e=t?.injector??et(os),i=e.get(PR),r=!0!==t?.manualCleanup?e.get(py):null;return i.create(n,r,!!t?.allowSignalWrites)}function vy(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=Nn(r,a):2==s&&(i=Nn(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function Tp(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(In(s)),cr(s)&&MR(s,i);const o=e.type;if(8&o)Tp(n,t,e.child,i);else if(32&o){const a=jw(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=hx(t,e);if(Array.isArray(a))i.push(...a);else{const l=fp(t[yi]);Tp(l[Ye],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function MR(n,t){for(let e=ji;e<n.length;e++){const i=n[e],r=i[Ye].firstChild;null!==r&&Tp(i[Ye],i,r,t)}n[Vs]!==n[Wn]&&t.push(n[Vs])}function Iy(n,t,e,i=!0){const r=t[rl],s=r.rendererFactory,o=r.afterRenderEventManager;s.begin?.(),o?.begin();try{NR(n,t,n.template,e)}catch(l){throw i&&RR(t,l),l}finally{s.end?.(),r.effectManager?.flush(),o?.end()}}function NR(n,t,e,i){const r=t[Pt];if(256!=(256&r)){t[rl].effectManager?.flush(),fd(t);try{g_(t),function b_(n){return Et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&_R(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&gd(t,c,null)}else{const c=n.preOrderHooks;null!==c&&md(t,c,0,null),Ac(t,0)}if(function O$(n){for(let t=ex(n);null!==t;t=tx(t)){if(!t[Yu])continue;const e=t[ga];for(let i=0;i<e.length;i++){fw(e[i])}}}(t),kR(t,2),null!==n.contentQueries&&SR(n,t),o){const c=n.contentCheckHooks;null!==c&&gd(t,c)}else{const c=n.contentHooks;null!==c&&md(t,c,1),Ac(t,1)}!function r$(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=dR(t,pa);try{for(let r=0;r<e.length;r++){const s=e[r];if(s<0)Ia(~s);else{const o=s,a=e[++r],l=e[++r];C_(a,o),i.dirty=!1;const c=ll(i);try{l(2,t[o])}finally{ed(i,c)}}}}finally{null===t[pa]&&hR(t,pa),Ia(-1)}}(n,t);const a=n.components;null!==a&&LR(t,a,0);const l=n.viewQuery;if(null!==l&&V0(2,l,i),o){const c=n.viewCheckHooks;null!==c&&gd(t,c)}else{const c=n.viewHooks;null!==c&&md(t,c,2),Ac(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Pt]&=-73,ad(t)}finally{tp()}}}function kR(n,t){for(let e=ex(n);null!==e;e=tx(e))for(let i=ji;i<e.length;i++)FR(e[i],t)}function M$(n,t,e){FR(zr(t,n),e)}function FR(n,t){if(!function hw(n){return 128==(128&n[Pt])}(n))return;const e=n[Ye],i=n[Pt];if(80&i&&0===t||1024&i||2===t)NR(e,n,e.template,n[_i]);else if(n[hc]>0){kR(n,1);const r=e.components;null!==r&&LR(n,r,1)}}function LR(n,t,e){for(let i=0;i<t.length;i++)M$(n,t[i],e)}class Sp{get rootNodes(){const t=this._lView,e=t[Ye];return Tp(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_i]}set context(t){this._lView[_i]=t}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[qn];if(cr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Z_(t,i),V_(e,i))}this._attachedToViewContainer=!1}$w(this._lView[Ye],this._lView)}onDestroy(t){ld(this._lView,t)}markForCheck(){Ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Iy(this._lView[Ye],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dj(n,t){gp(n,t,t[Ot],2,null,null)}(this._lView[Ye],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=t}}class N$ extends Sp{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Iy(t[Ye],t,t[_i],!1)}checkNoChanges(){}get context(){return null}}class VR extends fy{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new Dp(e,this.ngModule)}}function BR(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class F${constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Vu(i);const r=this.injector.get(t,w0,i);return r!==w0||e===w0?r:this.parentInjector.get(t,e,i)}}class Dp extends jx{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=BR(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return BR(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function qu(n){return n.map(Nf).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof bs?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new F$(t,s):t,a=o.get(wp,null);if(null===a)throw new ve(407,!1);const _={rendererFactory:a,sanitizer:o.get(kz,null),effectManager:o.get(PR,null),afterRenderEventManager:o.get(x0,null)},b=a.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",P=i?function o$(n,t,e,i){const s=i.get(aR,!1)||e===Ii.ShadowDom,o=n.selectRootElement(t,s);return function a$(n){vR(n)}(o),o}(b,i,this.componentDef.encapsulation,o):K_(b,T,function k$(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(T)),W=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let H=null;null!==P&&(H=v0(P,o,!0));const q=N0(0,null,null,1,0,null,null,null,null,null,null),ee=_y(null,q,null,W,null,null,_,b,o,null,H);let Ae,Ve;fd(ee);try{const j=this.componentDef;let U,$=null;j.findHostDirectiveDefs?(U=[],$=new Map,j.findHostDirectiveDefs(j,U,$),U.push(j)):U=[j];const J=function V$(n,t){const e=n[Ye],i=Kt;return n[i]=t,$d(e,i,2,"#host",null)}(ee,P),X=function B$(n,t,e,i,r,s,o){const a=r[Ye];!function U$(n,t,e,i){for(const r of n)t.mergedAttrs=nl(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(vy(t,t.mergedAttrs,!0),null!==e&&mx(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=v0(t,r[Ls]));const c=s.rendererFactory.createRenderer(t,e);let p=16;e.signals?p=4096:e.onPush&&(p=64);const _=_y(r,yR(e),null,p,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&F0(a,n,i.length-1),yy(r,_),r[n.index]=_}(J,P,j,U,ee,_,b);Ve=Lo(q,Kt),P&&function j$(n,t,e,i){if(i)Uu(n,e,["ng-version",$x.full]);else{const{attrs:r,classes:s}=function kf(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Ur(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Uu(n,e,r),s&&s.length>0&&gx(n,e,s.join(" "))}}(b,j,P,i),void 0!==e&&function z$(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(Ve,this.ngContentSelectors,e),Ae=function H$(n,t,e,i,r,s){const o=zi(),a=r[Ye],l=Xi(o,r);wR(a,r,o,e,null,i);for(let p=0;p<e.length;p++)Tr(js(r,a,o.directiveStart+p,o),r);ER(a,r,o),l&&Tr(l,r);const c=js(r,a,o.directiveStart+o.componentOffset,o);if(n[_i]=r[_i]=c,null!==s)for(const p of s)p(c,t);return P0(a,o,n),c}(X,j,U,$,ee,[$$]),U0(q,ee,null)}finally{tp()}return new L$(this.componentType,Ae,Ud(Ve,ee),ee,Ve)}}class L$ extends xz{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new N$(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;B0(s[Ye],s,r,t,e),this.previousInputValues.set(t,e),Ep(zr(this._tNode.index,s))}}get injector(){return new tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function $$(){const n=zi();pd(Oe()[Ye],n)}function en(n){let t=function UR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(jr(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ve(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=by(n.inputs),o.inputTransforms=by(n.inputTransforms),o.declaredInputs=by(n.declaredInputs),o.outputs=by(n.outputs);const a=r.hostBindings;a&&K$(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&q$(n,l),c&&G$(n,c),Tn(n.inputs,r.inputs),Tn(n.declaredInputs,r.declaredInputs),Tn(n.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Tn(o.inputTransforms,r.inputTransforms)),jr(r)&&r.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===en&&(e=!1)}}t=Object.getPrototypeOf(t)}!function W$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=nl(r.hostAttrs,e=nl(e,r.hostAttrs))}}(i)}function by(n){return n===ar?{}:n===Yt?[]:n}function q$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function G$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function K$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function $R(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function wy(n){return!!H0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function H0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zo(n,t,e){return n[t]=e}function Ap(n,t){return n[t]}function Dr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Nc(n,t,e,i){const r=Dr(n,t,e);return Dr(n,t+1,i)||r}function $s(n,t,e,i,r,s){const o=Nc(n,t,e,i);return Nc(n,t+2,r,s)||o}function St(n,t,e,i){const r=Oe();return Dr(r,va(),t)&&(sn(),jo(ti(),r,n,t,e,i)),St}function Ee(n,t,e,i,r,s,o,a){const l=Oe(),c=sn(),p=n+Kt,_=c.firstCreatePass?function I5(n,t,e,i,r,s,o,a,l){const c=t.consts,p=$d(t,n,4,o||null,ho(c,a));k0(t,e,p,ho(c,l)),pd(t,p);const _=p.tView=N0(2,p,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,p),_.queries=t.queries.embeddedTView(p)),p}(p,c,l,t,e,i,r,s,o):c.data[p];Us(_,!1);const b=iP(c,l,_,n);Dc()&&Y_(c,l,b,_),Tr(b,l),yy(l,l[p]=TR(b,l,b,_)),Uf(_)&&O0(c,l,_),null!=o&&M0(l,_,a)}let iP=function rP(n,t,e,i){return Uo(!0),t[Ot].createComment("")};function Ca(n){return function Vo(n,t){return n[t]}(function Yf(){return Et.lFrame.contextLView}(),Kt+n)}function pe(n,t,e){const i=Oe();return Dr(i,va(),t)&&function ws(n,t,e,i,r,s,o,a){const l=Xi(t,e);let p,c=t.inputs;!a&&null!=c&&(p=c[i])?(B0(n,e,p,i,r),ol(t)&&function p$(n,t){const e=zr(t,n);16&e[Pt]||(e[Pt]|=64)}(e,t.index)):3&t.type&&(i=function f$(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}(sn(),ti(),i,n,t,i[Ot],e,!1),pe}function G0(n,t,e,i,r){const o=r?"class":"style";B0(n,e,t.inputs[o],o,i)}function me(n,t,e,i){const r=Oe(),s=sn(),o=Kt+n,a=r[Ot],l=s.firstCreatePass?function C5(n,t,e,i,r,s){const o=t.consts,l=$d(t,n,2,i,ho(o,r));return k0(t,e,l,ho(o,s)),null!==l.attrs&&vy(l,l.attrs,!1),null!==l.mergedAttrs&&vy(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=sP(s,r,l,a,t,n);r[o]=c;const p=Uf(l);return Us(l,!0),mx(a,c,l),32!=(32&l.flags)&&Dc()&&Y_(s,r,c,l),0===function wc(){return Et.lFrame.elementDepthCount}()&&Tr(c,r),function gw(){Et.lFrame.elementDepthCount++}(),p&&(O0(s,r,l),P0(s,l,r)),null!==i&&M0(r,l),me}function _e(){let n=zi();Cc()?Qf():(n=n.parent,Us(n,!1));const t=n;(function Zf(n){return Et.skipHydrationRootTNode===n})(t)&&function v_(){Et.skipHydrationRootTNode=null}(),function mw(){Et.lFrame.elementDepthCount--}();const e=sn();return e.firstCreatePass&&(pd(e,n),Jm(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function rp(n){return 0!=(8&n.flags)}(t)&&G0(e,t,Oe(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function N_(n){return 0!=(16&n.flags)}(t)&&G0(e,t,Oe(),t.stylesWithoutHost,!1),_e}function We(n,t,e,i){return me(n,t,e,i),_e(),We}let sP=(n,t,e,i,r,s)=>(Uo(!0),K_(i,r,function R_(){return Et.lFrame.currentNamespace}()));function ni(n,t,e){const i=Oe(),r=sn(),s=n+Kt,o=r.firstCreatePass?function D5(n,t,e,i,r){const s=t.consts,o=ho(s,i),a=$d(t,n,8,"ng-container",o);return null!==o&&vy(a,o,!0),k0(t,e,a,ho(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Us(o,!0);const a=oP(r,i,o,n);return i[s]=a,Dc()&&Y_(r,i,a,o),Tr(a,i),Uf(o)&&(O0(r,i,o),P0(r,o,i)),null!=e&&M0(i,o),ni}function ii(){let n=zi();const t=sn();return Cc()?Qf():(n=n.parent,Us(n,!1)),t.firstCreatePass&&(pd(t,n),Jm(n)&&t.queries.elementEnd(n)),ii}function Di(n,t,e){return ni(n,t,e),ii(),Di}let oP=(n,t,e,i)=>(Uo(!0),zw(t[Ot],""));function Ai(){return Oe()}function Op(n){return!!n&&"function"==typeof n.then}function aP(n){return!!n&&"function"==typeof n.subscribe}function Dt(n,t,e,i){const r=Oe(),s=sn(),o=zi();return function cP(n,t,e,i,r,s,o){const a=Uf(i),c=n.firstCreatePass&&AR(n),p=t[_i],_=DR(t);let b=!0;if(3&i.type||o){const N=Xi(i,t),L=o?o(N):N,W=_.length,H=o?ee=>o(In(ee[i.index])):i.index;let q=null;if(!o&&a&&(q=function R5(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[il],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==q)(q.__ngLastListenerFn__||q).__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,b=!1;else{s=dP(i,t,p,s,!1);const ee=e.listen(L,r,s);_.push(s,ee),c&&c.push(r,H,W,W+1)}}else s=dP(i,t,p,s,!1);const T=i.outputs;let P;if(b&&null!==T&&(P=T[r])){const N=P.length;if(N)for(let L=0;L<N;L+=2){const Ae=t[P[L]][P[L+1]].subscribe(s),Ve=_.length;_.push(s,Ae),c&&c.push(r,i.index,Ve,-(Ve+1))}}}(s,r,r[Ot],o,n,t,i),Dt}function uP(n,t,e,i){try{return is(6,t,e),!1!==e(i)}catch(r){return RR(n,r),!1}finally{is(7,t,e)}}function dP(n,t,e,i,r){return function s(o){if(o===Function)return i;Ep(n.componentOffset>-1?zr(n.index,t):t);let l=uP(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=uP(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function Pe(n=1){return function vw(n){return(Et.lFrame.contextLView=function Iw(n,t){for(;n>0;)t=t[No],n--;return t}(n,Et.lFrame.contextLView))[_i]}(n)}function P5(n,t){let e=null;const i=function Wu(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?$u(n,s,!0):Of(i,s))return r}else e=r}return e}function kc(n){const t=Oe()[yi][Li];if(!t.projection){const i=t.projection=up(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?P5(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Fc(n,t=0,e){const i=Oe(),r=sn(),s=$d(r,Kt+n,16,null,e||null);null===s.projection&&(s.projection=t),Qf(),(!i[ms]||Bo())&&32!=(32&s.flags)&&function kj(n,t,e){px(t[Ot],0,t,e,qw(n,e,t),lx(e.parent||t[Li],e,t))}(r,i,s)}function Dy(n,t){return n<<17|t<<2}function ml(n){return n>>17&32767}function Z0(n){return 2|n}function Lc(n){return(131068&n)>>2}function Q0(n,t){return-131069&n|t<<2}function Y0(n){return 1|n}function bP(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?ml(s):Lc(s),l=!1;for(;0!==a&&(!1===l||o);){const p=n[a+1];L5(n[a],t)&&(l=!0,n[a+1]=i?Y0(p):Z0(p)),a=i?ml(p):Lc(p)}l&&(n[e+1]=i?Z0(s):Y0(s))}function L5(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Rd(n,t)>=0}const Wi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wP(n){return n.substring(Wi.key,Wi.keyEnd)}function V5(n){return n.substring(Wi.value,Wi.valueEnd)}function EP(n,t){const e=Wi.textEnd;return e===t?-1:(t=Wi.keyEnd=function H5(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Wi.key=t,e),eh(n,t,e))}function CP(n,t){const e=Wi.textEnd;let i=Wi.key=eh(n,t,e);return e===i?-1:(i=Wi.keyEnd=function j5(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=SP(n,i,e),i=Wi.value=eh(n,i,e),i=Wi.valueEnd=function z5(n,t,e){let i=-1,r=-1,s=-1,o=t,a=o;for(;o<e;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=DP(n,l,o,e):t===o-4&&85===s&&82===r&&76===i&&40===l?a=o=DP(n,41,o,e):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(n,i,e),SP(n,i,e))}function TP(n){Wi.key=0,Wi.keyEnd=0,Wi.value=0,Wi.valueEnd=0,Wi.textEnd=n.length}function eh(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function SP(n,t,e,i){return(t=eh(n,t,e))<e&&t++,t}function DP(n,t,e,i){let r=-1,s=e;for(;s<i;){const o=n.charCodeAt(s++);if(o==t&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function J0(n,t,e){return fo(n,t,e,!1),J0}function Vc(n,t){return fo(n,t,null,!0),Vc}function Ws(n){po(RP,$5,n,!1)}function $5(n,t){for(let e=function U5(n){return TP(n),CP(n,eh(n,0,Wi.textEnd))}(t);e>=0;e=CP(t,e))RP(n,wP(t),V5(t))}function dr(n){po(Q5,$o,n,!0)}function $o(n,t){for(let e=function B5(n){return TP(n),EP(n,eh(n,0,Wi.textEnd))}(t);e>=0;e=EP(t,e))vs(n,wP(t),!0)}function fo(n,t,e,i){const r=Oe(),s=sn(),o=Hs(2);s.firstUpdatePass&&xP(s,n,o,i),t!==Lt&&Dr(r,o,t)&&PP(s,s.data[ur()],r,r[Ot],n,r[o+1]=function J5(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Be(gl(n)))),n}(t,e),i,o)}function po(n,t,e,i){const r=sn(),s=Hs(2);r.firstUpdatePass&&xP(r,null,s,i);const o=Oe();if(e!==Lt&&Dr(o,s,e)){const a=r.data[ur()];if(MP(a,i)&&!AP(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Nn(l,e||"")),G0(r,a,o,e,i)}else!function Y5(n,t,e,i,r,s,o,a){r===Lt&&(r=Yt);let l=0,c=0,p=0<r.length?r[0]:null,_=0<s.length?s[0]:null;for(;null!==p||null!==_;){const b=l<r.length?r[l+1]:void 0,T=c<s.length?s[c+1]:void 0;let N,P=null;p===_?(l+=2,c+=2,b!==T&&(P=_,N=T)):null===_||null!==p&&p<_?(l+=2,P=p):(c+=2,P=_,N=T),null!==P&&PP(n,t,e,i,P,N,o,a),p=l<r.length?r[l]:null,_=c<s.length?s[c]:null}}(r,a,o,o[Ot],o[s+1],o[s+1]=function Z5(n,t,e){if(null==e||""===e)return Yt;const i=[],r=gl(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function AP(n,t){return t>=n.expandoStartIndex}function xP(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[ur()],o=AP(n,e);MP(s,i)&&null===t&&!o&&(t=!1),t=function W5(n,t,e,i){const r=function ep(n){const t=Et.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Mp(e=X0(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=X0(r,n,t,e,i),null===s){let l=function q5(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Lc(i))return n[ml(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=X0(null,n,t,l[1],i),l=Mp(l,t.attrs,i),function G5(n,t,e,i){n[ml(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function K5(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Mp(i,n[s].hostAttrs,e);return Mp(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function k5(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=ml(o),l=Lc(o);n[i]=e;let p,c=!1;if(Array.isArray(e)?(p=e[1],(null===p||Rd(e,p)>0)&&(c=!0)):p=e,r)if(0!==l){const b=ml(n[a+1]);n[i+1]=Dy(b,a),0!==b&&(n[b+1]=Q0(n[b+1],i)),n[a+1]=function M5(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Dy(a,0),0!==a&&(n[a+1]=Q0(n[a+1],i)),a=i;else n[i+1]=Dy(l,0),0===a?a=i:n[l+1]=Q0(n[l+1],i),l=i;c&&(n[i+1]=Z0(n[i+1])),bP(n,p,i,!0),bP(n,p,i,!1),function F5(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&Rd(s,t)>=0&&(e[i+1]=Y0(e[i+1]))}(t,p,n,i,s),o=Dy(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function X0(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Mp(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Mp(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),vs(n,o,!!e||t[++s]))}return void 0===n?null:n}function RP(n,t,e){vs(n,t,gl(e))}function Q5(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&vs(n,i,e)}function PP(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],p=function N5(n){return 1==(1&n)}(c)?OP(l,t,e,r,Lc(c),o):void 0;Ay(p)||(Ay(s)||function O5(n){return 2==(2&n)}(c)&&(s=OP(l,null,e,r,a,o)),function Lj(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:pl.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=pl.Important),n.setStyle(e,i,r,s))}}(i,o,od(ur(),e),r,s))}function OP(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),p=c?l[1]:l,_=null===p;let b=e[r+1];b===Lt&&(b=_?Yt:void 0);let T=_?Mw(b,i):p===i?b:void 0;if(c&&!Ay(T)&&(T=Mw(l,i)),Ay(T)&&(a=T,o))return a;const P=n[r+1];r=o?ml(P):Lc(P)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Mw(l,i))}return a}function Ay(n){return void 0!==n}function MP(n,t){return 0!=(n.flags&(t?8:16))}function rt(n,t=""){const e=Oe(),i=sn(),r=n+Kt,s=i.firstCreatePass?$d(i,r,1,t,null):i.data[r],o=NP(i,e,s,t,n);e[r]=o,Dc()&&Y_(i,e,o,s),Us(s,!1)}let NP=(n,t,e,i,r)=>(Uo(!0),function G_(n,t){return n.createText(t)}(t[Ot],i));function Bc(n){return Uc("",n,""),Bc}function Uc(n,t,e){const i=Oe(),r=function qd(n,t,e,i){return Dr(n,va(),e)?t+Q(e)+i:Lt}(i,n,t,e);return r!==Lt&&function Ea(n,t,e){const i=od(t,n);!function ix(n,t,e){n.setValue(t,e)}(n[Ot],i,e)}(i,ur(),r),Uc}const nh="en-US";let nO=nh;function nE(n,t,e,i,r){if(n=wt(n),Array.isArray(n))for(let s=0;s<n.length;s++)nE(n[s],t,e,i,r);else{const s=sn(),o=Oe(),a=zi();let l=Mc(n)?n:wt(n.provide);const c=kx(n),p=1048575&a.providerIndexes,_=a.directiveStart,b=a.providerIndexes>>20;if(Mc(n)||!n.multi){const T=new hl(c,r,ie),P=rE(l,t,r?p:p+b,_);-1===P?(Y(h(a,o),s,l),iE(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(T),o.push(T)):(e[P]=T,o[P]=T)}else{const T=rE(l,t,p+b,_),P=rE(l,t,p,p+b),L=P>=0&&e[P];if(r&&!L||!r&&!(T>=0&&e[T])){Y(h(a,o),s,l);const W=function v9(n,t,e,i,r){const s=new hl(n,e,ie);return s.multi=[],s.index=t,s.componentProviders=0,DO(s,r,i&&!e),s}(r?y9:_9,e.length,r,i,c);!r&&L&&(e[P].providerFactory=W),iE(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(W),o.push(W)}else iE(s,n,T>-1?T:P,DO(e[r?P:T],c,!r&&i));!r&&i&&L&&e[P].componentProviders++}}}function iE(n,t,e,i){const r=Mc(t),s=function hz(n){return!!n.useClass}(t);if(r||s){const l=(s?wt(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const p=c.indexOf(e);-1===p?c.push(e,[i,l]):c[p+1].push(i,l)}else c.push(e,l)}}}function DO(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function rE(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function _9(n,t,e,i){return sE(this.multi,[])}function y9(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=js(e,e[Ye],this.providerFactory.index,i);s=a.slice(0,o),sE(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],sE(r,s);return s}function sE(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Bn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function m9(n,t,e){const i=sn();if(i.firstCreatePass){const r=jr(n);nE(e,i.data,i.blueprint,r,!0),nE(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class jc{}class AO{}class oE extends jc{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VR(this);const r=lr(t);this._bootstrapComponents=wa(r.bootstrap),this._r3Injector=Zx(t,e,[{provide:jc,useValue:this},{provide:fy,useValue:this.componentFactoryResolver},...i],Be(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class aE extends AO{constructor(t){super(),this.moduleType=t}create(t){return new oE(this.moduleType,t,[])}}class xO extends jc{constructor(t){super(),this.componentFactoryResolver=new VR(this),this.instance=null;const e=new oy([...t.providers,{provide:jc,useValue:this},{provide:fy,useValue:this.componentFactoryResolver}],t.parent||sy(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function lE(n,t,e=null){return new xO({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let w9=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=Px(0,e.type),r=i.length>0?lE([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Qe({token:n,providedIn:"environment",factory:()=>new n(De(bs))})}return n})();function qs(n){n.getStandaloneInjector=t=>t.get(w9).getOrCreateStandaloneInjector(n)}function My(n,t,e){const i=er()+n,r=Oe();return r[i]===Lt?zo(r,i,e?t.call(e):t()):Ap(r,i)}function di(n,t,e,i){return function VO(n,t,e,i,r,s){const o=t+e;return Dr(n,o,r)?zo(n,o+1,s?i.call(s,r):i(r)):Bp(n,o+1)}(Oe(),er(),n,t,e,i)}function go(n,t,e,i,r){return function BO(n,t,e,i,r,s,o){const a=t+e;return Nc(n,a,r,s)?zo(n,a+2,o?i.call(o,r,s):i(r,s)):Bp(n,a+2)}(Oe(),er(),n,t,e,i,r)}function Ny(n,t,e,i,r,s){return function UO(n,t,e,i,r,s,o,a){const l=t+e;return function Ey(n,t,e,i,r){const s=Nc(n,t,e,i);return Dr(n,t+2,r)||s}(n,l,r,s,o)?zo(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Bp(n,l+3)}(Oe(),er(),n,t,e,i,r,s)}function FO(n,t,e,i,r,s,o){return function HO(n,t,e,i,r,s,o,a,l){const c=t+e;return $s(n,c,r,s,o,a)?zo(n,c+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Bp(n,c+4)}(Oe(),er(),n,t,e,i,r,s,o)}function uE(n,t,e,i,r,s,o,a){const l=er()+n,c=Oe(),p=$s(c,l,e,i,r,s);return Dr(c,l+4,o)||p?zo(c,l+5,a?t.call(a,e,i,r,s,o):t(e,i,r,s,o)):Ap(c,l+5)}function LO(n,t,e,i){return function jO(n,t,e,i,r,s){let o=t+e,a=!1;for(let l=0;l<r.length;l++)Dr(n,o++,r[l])&&(a=!0);return a?zo(n,o,i.apply(s,r)):Bp(n,o)}(Oe(),er(),n,t,e,i)}function Bp(n,t){const e=n[t];return e===Lt?void 0:e}function H9(){return this._results[Symbol.iterator]()}class dE{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new at)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=dE.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=H9)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function zs(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function UH(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function z9(n,t,e,i=!0){const r=t[Ye];if(function xj(n,t,e,i){const r=ji+i,s=e.length;i>0&&(e[r-1][Hr]=t),i<s-ji?(t[Hr]=e[r],M1(e,ji+i,t)):(e.push(t),t[Hr]=null),t[qn]=e;const o=t[fa];null!==o&&e!==o&&function Rj(n,t){const e=n[ga];t[yi]!==t[qn][qn][yi]&&(n[Yu]=!0),null===e?n[ga]=[t]:e.push(t)}(o,t);const a=t[ts];null!==a&&a.insertView(n),t[Pt]|=128}(r,t,n,e),i){const s=Kw(e,n),o=t[Ot],a=Q_(o,n[Vs]);null!==a&&function Sj(n,t,e,i,r,s){i[Wn]=r,i[Li]=t,gp(n,i,e,1,r,s)}(r,n[Li],o,t,a,s)}}let Gs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=q9}return n})();const $9=Gs,W9=class extends $9{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function j9(n,t,e,i){const r=t.tView,a=_y(n,r,e,4096&n[Pt]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[fa]=n[t.index];const c=n[ts];return null!==c&&(a[ts]=c.createEmbeddedView(r)),U0(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Sp(r)}};function q9(){return ky(zi(),Oe())}function ky(n,t){return 4&n.type?new W9(t,n,Ud(n,t)):null}let Es=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=J9}return n})();function J9(){return ZO(zi(),Oe())}const X9=Es,GO=class extends X9{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Ud(this._hostTNode,this._hostLView)}get injector(){return new tr(this._hostTNode,this._hostLView)}get parentInjector(){const t=M(this._hostTNode,this._hostLView);if(yd(t)){const e=Rc(t,this._hostLView),i=xc(t);return new tr(e[Ye].data[i+8],e)}return new tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=KO(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ji}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,s){const o=t&&!function cp(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const N=e||{};a=N.index,i=N.injector,r=N.projectableNodes,s=N.environmentInjector||N.ngModuleRef}const l=o?t:new Dp(Jt(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const L=(o?c:this.parentInjector).get(bs,null);L&&(s=L)}Jt(l.componentType??{});const T=l.create(c,r,null,s);return this.insertImpl(T.hostView,a,false),T}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function Kf(n){return cr(n[qn])}(r)){const l=this.indexOf(t);if(-1!==l)this.detach(l);else{const c=r[qn],p=new GO(c,c[Li],c[qn]);p.detach(p.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;return z9(a,r,o,!i),t.attachToViewContainerRef(),M1(hE(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=KO(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Z_(this._lContainer,e);i&&(V_(hE(this._lContainer),e),$w(i[Ye],i))}detach(t){const e=this._adjustIndex(t,-1),i=Z_(this._lContainer,e);return i&&null!=V_(hE(this._lContainer),e)?new Sp(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function KO(n){return n[8]}function hE(n){return n[8]||(n[8]=[])}function ZO(n,t){let e;const i=t[n.index];return cr(i)?e=i:(e=TR(i,t,null,n),t[n.index]=e,yy(t,e)),QO(e,t,n,i),new GO(e,n,t)}let QO=function YO(n,t,e,i){if(n[Vs])return;let r;r=8&e.type?In(i):function e8(n,t){const e=n[Ot],i=e.createComment(""),r=Xi(t,n);return Pc(e,Q_(e,r),i,function Nj(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Vs]=r};class fE{constructor(t){this.queryList=t,this.matches=null}clone(){return new fE(this.queryList)}setDirty(){this.queryList.setDirty()}}class pE{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new pE(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nM(t,e).matches&&this.queries[e].setDirty()}}class JO{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class gE{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new gE(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class mE{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new mE(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,i8(e,s)),this.matchTNodeWithReadOption(t,e,ys(e,t,s,!1,!1))}else i===Gs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ys(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Gn||r===Es||r===Gs&&4&e.type)this.addMatch(e.index,-2);else{const s=ys(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function i8(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function s8(n,t,e,i){return-1===e?function r8(n,t){return 11&n.type?Ud(n,t):4&n.type?ky(n,t):null}(t,n):-2===e?function o8(n,t,e){return e===Gn?Ud(t,n):e===Gs?ky(t,n):e===Es?ZO(t,n):void 0}(n,t,i):js(n,n[Ye],e,t)}function XO(n,t,e,i){const r=t[ts].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:s8(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function _E(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=XO(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],p=t[-l];for(let _=ji;_<p.length;_++){const b=p[_];b[fa]===b[qn]&&_E(b[Ye],b,c,i)}if(null!==p[ga]){const _=p[ga];for(let b=0;b<_.length;b++){const T=_[b];_E(T[Ye],T,c,i)}}}}}return i}function Rn(n){const t=Oe(),e=sn(),i=T_();Tc(i+1);const r=nM(e,i);if(n.dirty&&function dw(n){return 4==(4&n[Pt])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?_E(e,t,i,[]):XO(e,t,r,i);n.reset(s,Mz),n.notifyOnChanges()}return!0}return!1}function xi(n,t,e){const i=sn();i.firstCreatePass&&(tM(i,new JO(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),eM(i,Oe(),t)}function Ta(n,t,e,i){const r=sn();if(r.firstCreatePass){const s=zi();tM(r,new JO(t,e,i),s.index),function l8(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}eM(r,Oe(),e)}function Pn(){return function a8(n,t){return n[ts].queries[t].queryList}(Oe(),T_())}function eM(n,t,e){const i=new dE(4==(4&e));(function u$(n,t,e,i){const r=DR(t);r.push(e),n.firstCreatePass&&AR(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[ts]&&(t[ts]=new pE),t[ts].queries.push(new fE(i))}function tM(n,t,e){null===n.queries&&(n.queries=new gE),n.queries.track(new mE(t,e))}function nM(n,t){return n.queries.getByIndex(t)}function _l(n,t){return ky(n,t)}const EE=new Ue("Application Initializer");let CE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=et(EE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(Op(s))e.push(s);else if(aP(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vM=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Sa=new Ue("LocaleId",{providedIn:"root",factory:()=>et(Sa,Gt.Optional|Gt.SkipSelf)||function x8(){return typeof $localize<"u"&&$localize.locale||nh}()});let Vy=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new R(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class O8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let IM=(()=>{class n{compileModuleSync(e){return new aE(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=wa(lr(e).declarations).reduce((o,a)=>{const l=Jt(a);return l&&o.push(new Dp(l)),o},[]);return new O8(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const CM=new Ue(""),Uy=new Ue("");let xE,DE=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xE||(function J8(n){xE=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(De(qt),De(AE),De(Uy))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),AE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return xE?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),yl=null;const TM=new Ue("AllowMultipleToken"),RE=new Ue("PlatformDestroyListeners"),PE=new Ue("appBootstrapListener");class DM{constructor(t,e){this.name=t,this.token=e}}function xM(n,t,e=[]){const i=`Platform: ${t}`,r=new Ue(i);return(s=[])=>{let o=OE();if(!o||o.injector.get(TM,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function t7(n){if(yl&&!yl.get(TM,!1))throw new ve(400,!1);(function SM(){!function Xb(n){Wf=n}(()=>{throw new ve(600,!1)})})(),yl=n;const t=n.get(PM);(function AM(n){n.get(Fx,null)?.forEach(e=>e())})(n)}(function RM(n=[],t){return os.create({name:t,providers:[{provide:l0,useValue:"platform"},{provide:RE,useValue:new Set([()=>yl=null])},...n]})}(a,i))}return function i7(n){const t=OE();if(!t)throw new ve(401,!1);return t}()}}function OE(){return yl?.get(PM)??null}let PM=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function r7(n="zone.js",t){return"noop"===n?new Kz:"zone.js"===n?new qt(t):n}(i?.ngZone,function OM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function b9(n,t,e){return new oE(n,t,e)}(e.moduleType,this.injector,function LM(n){return[{provide:qt,useFactory:n},{provide:vp,multi:!0,useFactory:()=>{const t=et(o7,{optional:!0});return()=>t.initialize()}},{provide:FM,useFactory:s7},{provide:eR,useFactory:tR}]}(()=>r)),o=s.injector.get(Ho,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Hy(this._modules,s),a.unsubscribe()})}),function MM(n,t,e){try{const i=e();return Op(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(CE);return a.runInitializers(),a.donePromise.then(()=>(function iO(n){Vr(n,"Expected localeId to be defined"),"string"==typeof n&&(nO=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Sa,nh)||nh),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=NM({},i);return function X8(n,t,e){const i=new aE(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(zc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ve(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(RE,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(De(os))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function NM(n,t){return Array.isArray(t)?t.reduce(NM,n):{...n,...t}}let zc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=et(FM),this.zoneIsStable=et(eR),this.componentTypes=[],this.components=[],this.isStable=et(Vy).hasPendingTasks.pipe(Fe(e=>e?V(!1):this.zoneIsStable),gt(),G()),this._injector=et(bs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof jx;if(!this._injector.get(CE).done)throw!r&&function Mo(n){const t=Jt(n)||Ti(n)||Fi(n);return null!==t&&t.standalone}(e),new ve(405,!1);let o;o=r?e:this._injector.get(fy).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function e7(n){return n.isBoundToModule}(o)?void 0:this._injector.get(jc),c=o.create(os.NULL,[],i||o.selector,a),p=c.location.nativeElement,_=c.injector.get(CM,null);return _?.registerApplication(p),c.onDestroy(()=>{this.detachView(c.hostView),Hy(this.components,c),_?.unregisterApplication(p)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Hy(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(PE,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Hy(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ve(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Hy(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const FM=new Ue("",{providedIn:"root",factory:()=>et(Ho).handleError.bind(void 0)});function s7(){const n=et(qt),t=et(Ho);return e=>n.runOutsideAngular(()=>t.handleError(e))}let o7=(()=>{class n{constructor(){this.zone=et(qt),this.applicationRef=et(zc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Ks=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=l7}return n})();function l7(n){return function c7(n,t,e){if(ol(n)&&!e){const i=zr(n.index,t);return new Sp(i,i)}return 47&n.type?new Sp(t[yi],t):null}(zi(),Oe(),16==(16&n))}class HM{constructor(){}supports(t){return wy(t)}create(t){return new g7(t)}}const p7=(n,t)=>t;class g7{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||p7}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<zM(i,r,s)?e:i,a=zM(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,p=l-r;if(c!=p){for(let b=0;b<c;b++){const T=b<s.length?s[b]:s[b]=0,P=T+b;p<=P&&P<c&&(s[b]=T+1)}s[o.previousIndex]=p-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!wy(t))throw new ve(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function t5(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new m7(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new jM),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class m7{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _7{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class jM{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new _7,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zM(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class $M{constructor(){}supports(t){return t instanceof Map||H0(t)}create(){return new y7}}class y7{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||H0(t)))throw new ve(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new v7(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class v7{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WM(){return new $y([new HM])}let $y=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:WM});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||WM()),deps:[[n,new U_,new Is]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ve(901,!1)}}return n})();function qM(){return new zp([new $M])}let zp=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:qM});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||qM()),deps:[[n,new U_,new Is]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ve(901,!1)}}return n})();const w7=xM(null,"core",[]);let E7=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(De(zc))};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({})}return n})();function sh(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let BE=null;function vl(){return BE}class L7{}const qi=new Ue("DocumentToken");let UE=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return et(B7)},providedIn:"platform"})}return n})();const V7=new Ue("Location Initialized");let B7=(()=>{class n extends UE{constructor(){super(),this._doc=et(qi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vl().getBaseHref(this._doc)}onPopState(e){const i=vl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=vl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function HE(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function tN(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Da(n){return n&&"?"!==n[0]?"?"+n:n}let Wc=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return et(iN)},providedIn:"root"})}return n})();const nN=new Ue("appBaseHref");let iN=(()=>{class n extends Wc{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??et(qi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return HE(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Da(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+Da(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+Da(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(De(UE),De(nN,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U7=(()=>{class n extends Wc{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=HE(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+Da(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+Da(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(De(UE),De(nN,8))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),jE=(()=>{class n{constructor(e){this._subject=new at,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function z7(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(tN(rN(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Da(i))}normalize(e){return n.stripTrailingSlash(function j7(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,rN(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Da(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Da(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Da;static#t=this.joinWithSlash=HE;static#n=this.stripTrailingSlash=tN;static#i=this.\u0275fac=function(i){return new(i||n)(De(Wc))};static#r=this.\u0275prov=Qe({token:n,factory:function(){return function H7(){return new jE(De(Wc))}()},providedIn:"root"})}return n})();function rN(n){return n.replace(/\/index.html$/,"")}function fN(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const JE=/\s+/,pN=[];let Ra=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=pN,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(JE):pN}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(JE):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(JE).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(ie($y),ie(zp),ie(Gn),ie(Sr))};static#t=this.\u0275dir=dt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class AW{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qc=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new AW(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),mN(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{mN(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Es),ie(Gs),ie($y))};static#t=this.\u0275dir=dt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function mN(n,t){n.context.$implicit=t.item}let _o=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new xW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_N("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_N("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Es),ie(Gs))};static#t=this.\u0275dir=dt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class xW{constructor(){this.$implicit=null,this.ngIf=null}}function _N(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Be(t)}'.`)}let Gc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:pl.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Gn),ie(zp),ie(Sr))};static#t=this.\u0275dir=dt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),Il=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Es))};static#t=this.\u0275dir=dt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Ji]})}return n})(),cs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({})}return n})();const IN="browser";function Wo(n){return n===IN}function nv(n){return"server"===n}let rq=(()=>{class n{static#e=this.\u0275prov=Qe({token:n,providedIn:"root",factory:()=>new sq(De(qi),window)})}return n})();class sq{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function oq(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class bN{}class xq extends L7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sC extends xq{static makeCurrent(){!function F7(n){BE||(BE=n)}(new sC)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Rq(){return Gp=Gp||document.querySelector("base"),Gp?Gp.getAttribute("href"):null}();return null==e?null:function Pq(n){sv=sv||document.createElement("a"),sv.setAttribute("href",n);const t=sv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Gp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return fN(document.cookie,t)}}let sv,Gp=null,Mq=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const oC=new Ue("EventManagerPlugins");let SN=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new ve(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(De(oC),De(qt))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class DN{constructor(t){this._doc=t}}const aC="ng-app-id";let AN=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nv(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${aC}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(aC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(aC,this.appId),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(De(qi),De(ay),De(Vx,8),De(nr))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const lC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cC=/%COMP%/g,Lq=new Ue("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function RN(n,t){return t.map(e=>e.replace(cC,n))}let uC=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=nv(a),this.defaultRenderer=new dC(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ii.ShadowDom&&(i={...i,encapsulation:Ii.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof ON?r.applyToHost(e):r instanceof hC&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case Ii.Emulated:s=new ON(l,c,i,this.appId,p,o,a,_);break;case Ii.ShadowDom:return new Hq(l,c,e,i,o,a,this.nonce,_);default:s=new hC(l,c,i,p,o,a,_)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(De(SN),De(AN),De(ay),De(Lq),De(qi),De(nr),De(qt),De(Vx))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class dC{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(lC[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(PN(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(PN(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new ve(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=lC[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=lC[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(pl.DashCase|pl.Important)?t.style.setProperty(e,i,r&pl.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&pl.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=vl().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function PN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Hq extends dC{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=RN(r.id,r.styles);for(const p of c){const _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=p,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hC extends dC{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?RN(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class ON extends hC{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function Vq(n){return"_ngcontent-%COMP%".replace(cC,n)}(c),this.hostAttr=function Bq(n){return"_nghost-%COMP%".replace(cC,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let jq=(()=>{class n extends DN{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(De(qi))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const MN=["alt","control","meta","shift"],zq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$q={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wq=(()=>{class n extends DN{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vl().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),MN.forEach(c=>{const p=i.indexOf(c);p>-1&&(i.splice(p,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=zq[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),MN.forEach(o=>{o!==r&&(0,$q[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(De(qi))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const kN=[{provide:nr,useValue:IN},{provide:Fx,useValue:function qq(){sC.makeCurrent()},multi:!0},{provide:qi,useFactory:function Kq(){return function jj(n){Yw=n}(document),document},deps:[]}],Zq=xM(w7,"browser",kN),Qq=new Ue(""),FN=[{provide:Uy,useClass:class Oq{addToWindow(t){kn.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new ve(5103,!1);return s},kn.getAllAngularTestabilities=()=>t.getAllTestabilities(),kn.getAllAngularRootElements=()=>t.getAllRootElements(),kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(i=>{const r=kn.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?vl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:CM,useClass:DE,deps:[qt,AE,Uy]},{provide:DE,useClass:DE,deps:[qt,AE,Uy]}],LN=[{provide:l0,useValue:"root"},{provide:Ho,useFactory:function Gq(){return new Ho},deps:[]},{provide:oC,useClass:jq,multi:!0,deps:[qi,qt,nr]},{provide:oC,useClass:Wq,multi:!0,deps:[qi]},uC,AN,SN,{provide:wp,useExisting:uC},{provide:bN,useClass:Mq,deps:[]},[]];let VN=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ay,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(De(Qq,12))};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({providers:[...LN,...FN],imports:[cs,E7]})}return n})(),BN=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(De(qi))};static#t=this.\u0275prov=Qe({token:n,factory:function(i){let r=null;return r=i?new i:function Jq(){return new BN(De(qi))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;class zN{}class iG{}const Pa="*";function $N(n,t){return{type:7,name:n,definitions:t,options:{}}}function ov(n,t=null){return{type:4,styles:t,timings:n}}function WN(n,t=null){return{type:2,steps:n,options:t}}function ah(n){return{type:6,styles:n,offset:null}}function qN(n,t,e){return{type:0,name:n,styles:t,options:e}}function av(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function GN(n,t=null){return{type:8,animation:n,options:t}}function KN(n,t=null){return{type:10,animation:n,options:t}}class Kp{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ZN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function QN(n){return new ve(3e3,!1)}function wl(n){switch(n.length){case 0:return new Kp;case 1:return n[0];default:return new ZN(n)}}function YN(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),p=c==o,_=p&&a||new Map;l.forEach((b,T)=>{let P=T,N=b;if("offset"!==T)switch(P=n.normalizePropertyName(P,r),N){case"!":N=e.get(T);break;case Pa:N=i.get(T);break;default:N=n.normalizeStyleValue(T,P,N,r)}_.set(P,N)}),p||s.push(_),a=_,o=c}),r.length)throw function SG(n){return new ve(3502,!1)}();return s}function gC(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&mC(e,"start",n)));break;case"done":n.onDone(()=>i(e&&mC(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&mC(e,"destroy",n)))}}function mC(n,t,e){const s=_C(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function _C(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Ts(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function JN(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const VG=(()=>typeof document>"u"?null:document.documentElement)();function yC(n){const t=n.parentNode||n.host||null;return t===VG?null:t}let Kc=null,XN=!1;function ek(n,t){for(;t;){if(t===n)return!0;t=yC(t)}return!1}function tk(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let nk=(()=>{class n{validateStyleProperty(e){return function UG(n){Kc||(Kc=function HG(){return typeof document<"u"?document.body:null}()||{},XN=!!Kc.style&&"WebkitAppearance"in Kc.style);let t=!0;return Kc.style&&!function BG(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Kc.style,!t&&XN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Kc.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return ek(e,i)}getParentElement(e){return yC(e)}query(e,i,r){return tk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new Kp(r,s)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),vC=(()=>{class n{static#e=this.NOOP=new nk}return n})();const jG=1e3,IC="ng-enter",lv="ng-leave",cv="ng-trigger",uv=".ng-trigger",rk="ng-animating",bC=".ng-animating";function Oa(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wC(parseFloat(t[1]),t[2])}function wC(n,t){return"s"===t?n*jG:n}function dv(n,t,e){return n.hasOwnProperty("duration")?n:function $G(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(QN()),{duration:0,delay:0,easing:""};r=wC(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=wC(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function rG(){return new ve(3100,!1)}()),a=!0),s<0&&(t.push(function sG(){return new ve(3101,!1)}()),a=!0),a&&t.splice(l,0,QN())}return{duration:r,delay:s,easing:o}}(n,t,e)}function Zp(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function sk(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function El(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function qo(n,t,e){t.forEach((i,r)=>{const s=CC(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function Zc(n,t){t.forEach((e,i)=>{const r=CC(i);n.style[r]=""})}function Qp(n){return Array.isArray(n)?1==n.length?n[0]:WN(n):n}const EC=new RegExp("{{\\s*(.+?)\\s*}}","g");function ak(n){let t=[];if("string"==typeof n){let e;for(;e=EC.exec(n);)t.push(e[1]);EC.lastIndex=0}return t}function Yp(n,t,e){const i=n.toString(),r=i.replace(EC,(s,o)=>{let a=t[o];return null==a&&(e.push(function aG(n){return new ve(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function hv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const GG=/-+([a-z0-9])/g;function CC(n){return n.replace(GG,(...t)=>t[1].toUpperCase())}function Ss(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function lG(n){return new ve(3004,!1)}()}}function lk(n,t){return window.getComputedStyle(n)[t]}const fv="*";function QG(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function YG(n,t,e){if(":"==n[0]){const l=function JG(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function wG(n){return new ve(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function bG(n){return new ve(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(ck(r,o));"<"==s[0]&&!(r==fv&&o==fv)&&t.push(ck(o,r))}(i,e,t)):e.push(n),e}const pv=new Set(["true","1"]),gv=new Set(["false","0"]);function ck(n,t){const e=pv.has(n)||gv.has(n),i=pv.has(t)||gv.has(t);return(r,s)=>{let o=n==fv||n==r,a=t==fv||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?pv.has(n):gv.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?pv.has(t):gv.has(t)),o&&a}}const XG=new RegExp("s*:selfs*,?","g");function TC(n,t,e,i){return new eK(n).build(t,e,i)}class eK{constructor(t){this._driver=t}build(t,e,i){const r=new iK(e);return this._resetContextStyleTimingState(r),Ss(this,Qp(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function uG(){return new ve(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(p=>{l.name=p,s.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function dG(){return new ve(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ak(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&(hv(s.values()),e.errors.push(function hG(n,t){return new ve(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ss(this,Qp(t.animation),e);return{type:1,matchers:QG(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Qc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ss(this,i,e)),options:Qc(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=Ss(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:s,options:Qc(t.options)}}visitAnimate(t,e){const i=function sK(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return SC(dv(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=SC(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=dv(e,t);return SC(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:ah({});if(5==s.type)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=ah(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Pa?i.push(a):e.errors.push(new ve(3002,!1)):i.push(sk(a));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),p=c.get(l);let _=!0;p&&(s!=r&&s>=p.startTime&&r<=p.endTime&&(e.errors.push(function pG(n,t,e,i,r){return new ve(3010,!1)}()),_=!1),s=p.startTime),_&&c.set(l,{startTime:s,endTime:r}),e.options&&function qG(n,t,e){const i=t.params||{},r=ak(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function oG(n){return new ve(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function gG(){return new ve(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const p=t.steps.map(W=>{const H=this._makeStyleAst(W,e);let q=null!=H.offset?H.offset:function rK(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(H.styles),ee=0;return null!=q&&(s++,ee=H.offset=q),l=l||ee<0||ee>1,a=a||ee<c,c=ee,o.push(ee),H});l&&e.errors.push(function mG(){return new ve(3012,!1)}()),a&&e.errors.push(function _G(){return new ve(3200,!1)}());const _=t.steps.length;let b=0;s>0&&s<_?e.errors.push(function yG(){return new ve(3202,!1)}()):0==s&&(b=1/(_-1));const T=_-1,P=e.currentTime,N=e.currentAnimateTimings,L=N.duration;return p.forEach((W,H)=>{const q=b>0?H==T?1:b*H:o[H],ee=q*L;e.currentTime=P+N.delay+ee,N.duration=ee,this._validateStyleAst(W,e),W.offset=q,i.styles.push(W)}),i}visitReference(t,e){return{type:8,animation:Ss(this,Qp(t.animation),e),options:Qc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Qc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Qc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function tK(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(XG,"")),n=n.replace(/@\*/g,uv).replace(/@\w+/g,e=>uv+"-"+e.slice(1)).replace(/:animating/g,bC),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Ts(e.collectedStyles,e.currentQuerySelector,new Map);const a=Ss(this,Qp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Qc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function vG(){return new ve(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:dv(t.timings,e.errors,!0);return{type:12,animation:Ss(this,Qp(t.animation),e),timings:i,options:null}}}class iK{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Qc(n){return n?(n=Zp(n)).params&&(n.params=function nK(n){return n?Zp(n):null}(n.params)):n={},n}function SC(n,t,e){return{duration:n,delay:t,easing:e}}function DC(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class mv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const lK=new RegExp(":enter","g"),uK=new RegExp(":leave","g");function AC(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new dK).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class dK{buildKeyframes(t,e,i,r,s,o,a,l,c,p=[]){c=c||new mv;const _=new xC(t,e,c,r,s,p,[]);_.options=l;const b=l.delay?Oa(l.delay):0;_.currentTimeline.delayNextStep(b),_.currentTimeline.setStyles([o],null,_.errors,l),Ss(this,i,_);const T=_.timelines.filter(P=>P.containsAnimation());if(T.length&&a.size){let P;for(let N=T.length-1;N>=0;N--){const L=T[N];if(L.element===e){P=L;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([a],null,_.errors,l)}return T.length?T.map(P=>P.buildKeyframes()):[DC(e,[],[],[],0,b,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:Oa(Yp(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?Oa(i.duration):null,a=null!=i.delay?Oa(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ss(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_v);const o=Oa(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ss(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Oa(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),Ss(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return dv(e.params?Yp(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Oa(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_v);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,p)=>{e.currentQueryIndex=p;const _=e.createSubContext(t.options,c);s&&_.delayNextStep(s),c===e.element&&(l=_.currentTimeline),Ss(this,t.animation,_),_.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,_.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const p=e.currentTimeline;l&&p.delayNextStep(l);const _=p.currentTime;Ss(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-_+(r.startTime-i.currentTimeline.startTime)}}const _v={};class xC{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_v,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new yv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Oa(i.duration)),null!=i.delay&&(r.delay=Oa(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Yp(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new xC(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=_v,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new hK(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(lK,"."+this._enterClassName)).replace(uK,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function IG(n){return new ve(3014,!1)}()),a}}class yv{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pa),this._currentKeyframe.set(e,Pa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function fK(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,Pa)}else El(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=Yp(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Pa),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=El(a,new Map,this._backFill);c.forEach((p,_)=>{"!"===p?t.add(_):p===Pa&&e.add(_)}),i||c.set("offset",l/this.duration),r.push(c)});const s=t.size?hv(t.values()):[],o=e.size?hv(e.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return DC(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class hK extends yv{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=El(t[0]);l.set("offset",0),s.push(l);const c=El(t[0]);c.set("offset",hk(a)),s.push(c);const p=t.length-1;for(let _=1;_<=p;_++){let b=El(t[_]);const T=b.get("offset");b.set("offset",hk((e+T*i)/o)),s.push(b)}i=o,e=0,r="",t=s}return DC(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function hk(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class RC{}const pK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class gK extends RC{normalizePropertyName(t,e){return CC(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(pK.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function cG(n,t){return new ve(3005,!1)}())}return o+s}}function fk(n,t,e,i,r,s,o,a,l,c,p,_,b){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:p,totalTime:_,errors:b}}const PC={};class pk{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function mK(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,p){const _=[],b=this.ast.options&&this.ast.options.params||PC,P=this.buildStyles(i,a&&a.params||PC,_),N=l&&l.params||PC,L=this.buildStyles(r,N,_),W=new Set,H=new Map,q=new Map,ee="void"===r,Ae={params:_K(N,b),delay:this.ast.options?.delay},Ve=p?[]:AC(t,e,this.ast.animation,s,o,P,L,Ae,c,_);let j=0;if(Ve.forEach($=>{j=Math.max($.duration+$.delay,j)}),_.length)return fk(e,this._triggerName,i,r,ee,P,L,[],[],H,q,j,_);Ve.forEach($=>{const J=$.element,X=Ts(H,J,new Set);$.preStyleProps.forEach(z=>X.add(z));const se=Ts(q,J,new Set);$.postStyleProps.forEach(z=>se.add(z)),J!==e&&W.add(J)});const U=hv(W.values());return fk(e,this._triggerName,i,r,ee,P,L,Ve,U,H,q,j)}}function _K(n,t){const e=Zp(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class yK{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Zp(this.defaultParams);return Object.keys(t).forEach(s=>{const o=t[s];null!==o&&(r[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Yp(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class IK{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new yK(r.style,r.options&&r.options.params||{},i))}),gk(this.states,"true","1"),gk(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new pk(t,r,this.states))}),this.fallbackTransition=function bK(n,t,e){return new pk(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function gk(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const wK=new mv;class EK{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=TC(this._driver,e,i,[]);if(i.length)throw function DG(n){return new ve(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=YN(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=AC(this._driver,e,s,IC,lv,new Map,new Map,i,wK,r),o.forEach(p=>{const _=Ts(a,p.element,new Map);p.postStyleProps.forEach(b=>_.set(b,null))})):(r.push(function AG(){return new ve(3300,!1)}()),o=[]),r.length)throw function xG(n){return new ve(3504,!1)}();a.forEach((p,_)=>{p.forEach((b,T)=>{p.set(T,this._driver.computeStyle(_,T,Pa))})});const c=wl(o.map(p=>{const _=a.get(p.element);return this._buildPlayer(p,new Map,_)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function RG(n){return new ve(3301,!1)}();return e}listen(t,e,i,r){const s=_C(e,"","","");return gC(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const mk="ng-animate-queued",OC="ng-animate-disabled",AK=[],_k={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vo="__ng_removed";class MC{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function MK(n){return n??null}(i?t.value:t),i){const s=Zp(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Jp="void",NC=new MC(Jp);class RK{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ys(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function PG(n,t){return new ve(3302,!1)}();if(null==i||0==i.length)throw function OG(n){return new ve(3303,!1)}();if(!function NK(n){return"start"==n||"done"==n}(i))throw function MG(n,t){return new ve(3400,!1)}();const s=Ts(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=Ts(this._engine.statesByElement,t,new Map);return a.has(e)||(Ys(t,cv),Ys(t,cv+"-"+e),a.set(e,NC)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function NG(n){return new ve(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new kC(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ys(t,cv),Ys(t,cv+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new MC(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=NC),c.value!==Jp&&l.value===c.value){if(!function LK(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const N=[],L=s.matchStyles(l.value,l.params,N),W=s.matchStyles(c.value,c.params,N);N.length?this._engine.reportError(N):this._engine.afterFlush(()=>{Zc(t,L),qo(t,W)})}return}const b=Ts(this._engine.playersByElement,t,[]);b.forEach(N=>{N.namespaceId==this.id&&N.triggerName==e&&N.queued&&N.destroy()});let T=s.matchTransition(l.value,c.value,t,c.params),P=!1;if(!T){if(!r)return;T=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:T,fromState:l,toState:c,player:o,isFallbackTransition:P}),P||(Ys(t,mk),o.onStart(()=>{lh(t,mk)})),o.onDone(()=>{let N=this.players.indexOf(o);N>=0&&this.players.splice(N,1);const L=this._engine.playersByElement.get(t);if(L){let W=L.indexOf(o);W>=0&&L.splice(W,1)}}),this.players.push(o),b.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,uv,!0);i.forEach(r=>{if(r[vo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const p=this.trigger(t,c,Jp,r);p&&a.push(p)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&wl(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||NC,p=new MC(Jp),_=new kC(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:p,player:_,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[vo];(!s||s===_k)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ys(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=_C(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,gC(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class PK{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new RK(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(vv(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!vv(e))return;const s=e[vo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ys(t,OC)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),lh(t,OC))}removeNode(t,e,i){if(vv(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[vo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return vv(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,uv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bC,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return wl(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[vo];if(e&&e.setForRemoval){if(t[vo]=_k,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(OC)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ys(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?wl(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function kG(n){return new ve(3402,!1)}()}_flushAnimations(t,e){const i=new mv,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,p=new Set;this.disabledNodes.forEach(nt=>{p.add(nt);const ct=this.driver.query(nt,".ng-animate-queued",!0);for(let lt=0;lt<ct.length;lt++)p.add(ct[lt])});const _=this.bodyNode,b=Array.from(this.statesByElement.keys()),T=Ik(b,this.collectedEnterElements),P=new Map;let N=0;T.forEach((nt,ct)=>{const lt=IC+N++;P.set(ct,lt),nt.forEach(Bt=>Ys(Bt,lt))});const L=[],W=new Set,H=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const ct=this.collectedLeaveElements[nt],lt=ct[vo];lt&&lt.setForRemoval&&(L.push(ct),W.add(ct),lt.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(Bt=>W.add(Bt)):H.add(ct))}const q=new Map,ee=Ik(b,Array.from(W));ee.forEach((nt,ct)=>{const lt=lv+N++;q.set(ct,lt),nt.forEach(Bt=>Ys(Bt,lt))}),t.push(()=>{T.forEach((nt,ct)=>{const lt=P.get(ct);nt.forEach(Bt=>lh(Bt,lt))}),ee.forEach((nt,ct)=>{const lt=q.get(ct);nt.forEach(Bt=>lh(Bt,lt))}),L.forEach(nt=>{this.processLeaveNode(nt)})});const Ae=[],Ve=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(e).forEach(lt=>{const Bt=lt.player,jn=lt.element;if(Ae.push(Bt),this.collectedEnterElements.length){const Yn=jn[vo];if(Yn&&Yn.setForMove){if(Yn.previousTriggersValues&&Yn.previousTriggersValues.has(lt.triggerName)){const Co=Yn.previousTriggersValues.get(lt.triggerName),hs=this.statesByElement.get(lt.element);if(hs&&hs.has(lt.triggerName)){const Qa=hs.get(lt.triggerName);Qa.value=Co,hs.set(lt.triggerName,Qa)}}return void Bt.destroy()}}const Qr=!_||!this.driver.containsElement(_,jn),ai=q.get(jn),Ln=P.get(jn),En=this._buildInstruction(lt,i,Ln,ai,Qr);if(En.errors&&En.errors.length)return void Ve.push(En);if(Qr)return Bt.onStart(()=>Zc(jn,En.fromStyles)),Bt.onDestroy(()=>qo(jn,En.toStyles)),void r.push(Bt);if(lt.isFallbackTransition)return Bt.onStart(()=>Zc(jn,En.fromStyles)),Bt.onDestroy(()=>qo(jn,En.toStyles)),void r.push(Bt);const Za=[];En.timelines.forEach(Yn=>{Yn.stretchStartingKeyframe=!0,this.disabledNodes.has(Yn.element)||Za.push(Yn)}),En.timelines=Za,i.append(jn,En.timelines),o.push({instruction:En,player:Bt,element:jn}),En.queriedElements.forEach(Yn=>Ts(a,Yn,[]).push(Bt)),En.preStyleProps.forEach((Yn,Co)=>{if(Yn.size){let hs=l.get(Co);hs||l.set(Co,hs=new Set),Yn.forEach((Qa,Yl)=>hs.add(Yl))}}),En.postStyleProps.forEach((Yn,Co)=>{let hs=c.get(Co);hs||c.set(Co,hs=new Set),Yn.forEach((Qa,Yl)=>hs.add(Yl))})});if(Ve.length){const nt=[];Ve.forEach(ct=>{nt.push(function FG(n,t){return new ve(3505,!1)}())}),Ae.forEach(ct=>ct.destroy()),this.reportError(nt)}const j=new Map,U=new Map;o.forEach(nt=>{const ct=nt.element;i.has(ct)&&(U.set(ct,ct),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,j))}),r.forEach(nt=>{const ct=nt.element;this._getPreviousPlayers(ct,!1,nt.namespaceId,nt.triggerName,null).forEach(Bt=>{Ts(j,ct,[]).push(Bt),Bt.destroy()})});const $=L.filter(nt=>wk(nt,l,c)),J=new Map;vk(J,this.driver,H,c,Pa).forEach(nt=>{wk(nt,l,c)&&$.push(nt)});const se=new Map;T.forEach((nt,ct)=>{vk(se,this.driver,new Set(nt),l,"!")}),$.forEach(nt=>{const ct=J.get(nt),lt=se.get(nt);J.set(nt,new Map([...ct?.entries()??[],...lt?.entries()??[]]))});const z=[],mr=[],to={};o.forEach(nt=>{const{element:ct,player:lt,instruction:Bt}=nt;if(i.has(ct)){if(p.has(ct))return lt.onDestroy(()=>qo(ct,Bt.toStyles)),lt.disabled=!0,lt.overrideTotalTime(Bt.totalTime),void r.push(lt);let jn=to;if(U.size>1){let ai=ct;const Ln=[];for(;ai=ai.parentNode;){const En=U.get(ai);if(En){jn=En;break}Ln.push(ai)}Ln.forEach(En=>U.set(En,jn))}const Qr=this._buildAnimation(lt.namespaceId,Bt,j,s,se,J);if(lt.setRealPlayer(Qr),jn===to)z.push(lt);else{const ai=this.playersByElement.get(jn);ai&&ai.length&&(lt.parentPlayer=wl(ai)),r.push(lt)}}else Zc(ct,Bt.fromStyles),lt.onDestroy(()=>qo(ct,Bt.toStyles)),mr.push(lt),p.has(ct)&&r.push(lt)}),mr.forEach(nt=>{const ct=s.get(nt.element);if(ct&&ct.length){const lt=wl(ct);nt.setRealPlayer(lt)}}),r.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<L.length;nt++){const ct=L[nt],lt=ct[vo];if(lh(ct,lv),lt&&lt.hasAnimation)continue;let Bt=[];if(a.size){let Qr=a.get(ct);Qr&&Qr.length&&Bt.push(...Qr);let ai=this.driver.query(ct,bC,!0);for(let Ln=0;Ln<ai.length;Ln++){let En=a.get(ai[Ln]);En&&En.length&&Bt.push(...En)}}const jn=Bt.filter(Qr=>!Qr.destroyed);jn.length?kK(this,ct,jn):this.processLeaveNode(ct)}return L.length=0,z.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const ct=this.players.indexOf(nt);this.players.splice(ct,1)}),nt.play()}),z}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==Jp;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,p=c!==s,_=Ts(i,c,[]);this._getPreviousPlayers(c,p,o,a,e.toState).forEach(T=>{const P=T.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),T.destroy(),_.push(T)})}Zc(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],p=new Set,_=new Set,b=e.timelines.map(P=>{const N=P.element;p.add(N);const L=N[vo];if(L&&L.removedBeforeQueried)return new Kp(P.duration,P.delay);const W=N!==l,H=function FK(n){const t=[];return bk(n,t),t}((i.get(N)||AK).map(j=>j.getRealPlayer())).filter(j=>!!j.element&&j.element===N),q=s.get(N),ee=o.get(N),Ae=YN(this._normalizer,P.keyframes,q,ee),Ve=this._buildPlayer(P,Ae,H);if(P.subTimeline&&r&&_.add(N),W){const j=new kC(t,a,N);j.setRealPlayer(Ve),c.push(j)}return Ve});c.forEach(P=>{Ts(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function OK(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,P.element,P))}),p.forEach(P=>Ys(P,rk));const T=wl(b);return T.onDestroy(()=>{p.forEach(P=>lh(P,rk)),qo(l,e.toStyles)}),_.forEach(P=>{Ts(r,P,[]).push(T)}),T}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Kp(t.duration,t.delay)}}class kC{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Kp,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>gC(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ts(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function vv(n){return n&&1===n.nodeType}function yk(n,t){const e=n.style.display;return n.style.display=t??"none",e}function vk(n,t,e,i,r){const s=[];e.forEach(l=>s.push(yk(l)));const o=[];i.forEach((l,c)=>{const p=new Map;l.forEach(_=>{const b=t.computeStyle(c,_,r);p.set(_,b),(!b||0==b.length)&&(c[vo]=xK,o.push(c))}),n.set(c,p)});let a=0;return e.forEach(l=>yk(l,s[a++])),o}function Ik(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Ys(n,t){n.classList?.add(t)}function lh(n,t){n.classList?.remove(t)}function kK(n,t,e){wl(e).onDone(()=>n.processLeaveNode(t))}function bk(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ZN?bk(i.players,t):t.push(i)}}function wk(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Iv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new PK(t,e,i),this._timelineEngine=new EK(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],p=TC(this._driver,s,l,[]);if(l.length)throw function TG(n,t){return new ve(3404,!1)}();a=function vK(n,t,e){return new IK(n,t,e)}(r,p,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=JN(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=JN(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let BK=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&qo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qo(this._element,this._initialStyles),this._endStyles&&(qo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Zc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zc(this._element,this._endStyles),this._endStyles=null),qo(this._element,this._initialStyles),this._state=3)}}return n})();function FC(n){let t=null;return n.forEach((e,i)=>{(function UK(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Ek{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:lk(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class HK{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return ek(t,e)}getParentElement(t){return yC(t)}query(t,e,i){return tk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,p=o.filter(T=>T instanceof Ek);(function KG(n,t){return 0===n||0===t})(i,r)&&p.forEach(T=>{T.currentSnapshot.forEach((P,N)=>c.set(N,P))});let _=function WG(n){return n.length?n[0]instanceof Map?n:n.map(t=>sk(t)):[]}(e).map(T=>El(T));_=function ZG(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,lk(n,a)))}}return t}(t,_,c);const b=function VK(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=FC(t[0]),t.length>1&&(i=FC(t[t.length-1]))):t instanceof Map&&(e=FC(t)),e||i?new BK(n,e,i):null}(t,_);return new Ek(t,_,l,b)}}let jK=(()=>{class n extends zN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Ii.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?WN(e):e;return Ck(this._renderer,null,i,"register",[r]),new zK(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(De(wp),De(qi))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class zK extends iG{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new $K(this._id,t,e||{},this._renderer)}}class $K{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ck(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ck(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Tk="@.disabled";let WK=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let p=this._rendererCache.get(s);return p||(p=new Sk("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,p)),p}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=p=>{Array.isArray(p)?p.forEach(l):this.engine.registerTrigger(o,a,e,p.name,p)};return i.data.animation.forEach(l),new qK(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(De(wp),De(Iv),De(qt))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();class Sk{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Tk?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qK extends Sk{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Tk?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function GK(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function KK(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let ZK=(()=>{class n extends Iv{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(De(qi),De(vC),De(RC),De(zc))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const Dk=[{provide:zN,useClass:jK},{provide:RC,useFactory:function QK(){return new gK}},{provide:Iv,useClass:ZK},{provide:wp,useFactory:function YK(n,t,e){return new WK(n,t,e)},deps:[uC,Iv,qt]}],LC=[{provide:vC,useFactory:()=>new HK},{provide:Lx,useValue:"BrowserAnimations"},...Dk],Ak=[{provide:vC,useClass:nk},{provide:Lx,useValue:"NoopAnimations"},...Dk];let JK=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Ak:LC}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({providers:LC,imports:[VN]})}return n})();const{isArray:eZ}=Array,{getPrototypeOf:tZ,prototype:nZ,keys:iZ}=Object;function xk(n){if(1===n.length){const t=n[0];if(eZ(t))return{args:t,keys:null};if(function rZ(n){return n&&"object"==typeof n&&tZ(n)===nZ}(t)){const e=iZ(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:sZ}=Array;function VC(n){return $e(t=>function oZ(n,t){return sZ(t)?n(...t):n(t)}(n,t))}function Rk(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function BC(...n){const t=Ns(n),e=oo(n),{args:i,keys:r}=xk(n);if(0===i.length)return O([],t);const s=new bt(function aZ(n,t,e=dn){return i=>{Pk(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)Pk(t,()=>{const c=O(n[l],t);let p=!1;c.subscribe(Le(i,_=>{s[l]=_,p||(p=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>Rk(r,o):dn));return e?s.pipe(VC(e)):s}function Pk(n,t,e){n?$n(e,n,t):t()}const wv=g(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ev(...n){return function lZ(){return br(1)}()(O(n,Ns(n)))}function Ok(n){return new bt(t=>{ln(n()).subscribe(t)})}function Xp(n,t){const e=C(n)?n:()=>n,i=r=>r.error(e());return new bt(t?r=>t.schedule(i,0,r):i)}function UC(){return ae((n,t)=>{let e=null;n._refCount++;const i=Le(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Mk extends bt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,we(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new I;const e=this.getSubject();t.add(this.source.subscribe(Le(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=I.EMPTY)}return t}refCount(){return UC()(this)}}function Go(n){return n<=0?()=>Xn:ae((t,e)=>{let i=0;t.subscribe(Le(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Cv(...n){const t=Ns(n);return ae((e,i)=>{(t?Ev(n,e,t):Ev(n,e)).subscribe(i)})}function hr(n,t){return ae((e,i)=>{let r=0;e.subscribe(Le(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Tv(n){return ae((t,e)=>{let i=!1;t.subscribe(Le(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Nk(n=cZ){return ae((t,e)=>{let i=!1;t.subscribe(Le(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function cZ(){return new wv}function Io(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hr((r,s)=>n(r,s,i)):dn,Go(1),e?Tv(t):Nk(()=>new wv))}function ch(n,t){return C(t)?An(n,t,1):An(n,1)}function Ht(n,t,e){const i=C(n)||t||e?{next:n,error:t,complete:e}:n;return i?ae((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Le(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):dn}function Yc(n){return ae((t,e)=>{let s,i=null,r=!1;i=t.subscribe(Le(e,void 0,void 0,o=>{s=ln(n(o,Yc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function kk(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(Le(o,p=>{const _=c++;l=a?n(l,p,_):(a=!0,p),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Sv(n,t){return ae(kk(n,t,arguments.length>=2,!0))}function HC(n){return n<=0?()=>Xn:ae((t,e)=>{let i=[];t.subscribe(Le(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Fk(n){return $e(()=>n)}function eg(n){return ae((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function Lk(n){return ae((t,e)=>{ln(n).subscribe(Le(e,()=>e.complete(),be)),!e.closed&&t.subscribe(e)})}const jt="primary",tg=Symbol("RouteTitle");class dZ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function uh(n){return new dZ(n)}function hZ(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ko(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Vk(n[r],t[r]))return!1;return!0}function Vk(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Bk(n){return n.length>0?n[n.length-1]:null}function Cl(n){return function XK(n){return!!n&&(n instanceof bt||C(n.lift)&&C(n.subscribe))}(n)?n:Op(n)?O(Promise.resolve(n)):V(n)}const pZ={exact:function jk(n,t,e){if(!Jc(n.segments,t.segments)||!Dv(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!jk(n.children[i],t.children[i],e))return!1;return!0},subset:zk},Uk={exact:function gZ(n,t){return Ko(n,t)},subset:function mZ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Vk(n[e],t[e]))},ignored:()=>!0};function Hk(n,t,e){return pZ[e.paths](n.root,t.root,e.matrixParams)&&Uk[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zk(n,t,e){return $k(n,t,t.segments,e)}function $k(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Jc(r,e)||t.hasChildren()||!Dv(r,e,i))}if(n.segments.length===e.length){if(!Jc(n.segments,e)||!Dv(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!zk(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Jc(n.segments,r)&&Dv(n.segments,r,i)&&n.children[jt])&&$k(n.children[jt],t,s,i)}}function Dv(n,t,e){return t.every((i,r)=>Uk[e](n[r].parameters,i.parameters))}class dh{constructor(t=new On([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uh(this.queryParams)),this._queryParamMap}toString(){return vZ.serialize(this)}}class On{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Av(this)}}class ng{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=uh(this.parameters)),this._parameterMap}toString(){return Gk(this)}}function Jc(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ig=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return new jC},providedIn:"root"})}return n})();class jC{parse(t){const e=new RZ(t);return new dh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${rg(t.root,!0)}`,i=function wZ(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${xv(e)}=${xv(r)}`).join("&"):`${xv(e)}=${xv(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function IZ(n){return encodeURI(n)}(t.fragment)}`:""}`}}const vZ=new jC;function Av(n){return n.segments.map(t=>Gk(t)).join("/")}function rg(n,t){if(!n.hasChildren())return Av(n);if(t){const e=n.children[jt]?rg(n.children[jt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==jt&&i.push(`${r}:${rg(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function yZ(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===jt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==jt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===jt?[rg(n.children[jt],!1)]:[`${r}:${rg(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[jt]?`${Av(n)}/${e[0]}`:`${Av(n)}/(${e.join("//")})`}}function Wk(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xv(n){return Wk(n).replace(/%3B/gi,";")}function zC(n){return Wk(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rv(n){return decodeURIComponent(n)}function qk(n){return Rv(n.replace(/\+/g,"%20"))}function Gk(n){return`${zC(n.path)}${function bZ(n){return Object.keys(n).map(t=>`;${zC(t)}=${zC(n[t])}`).join("")}(n.parameters)}`}const EZ=/^[^\/()?;#]+/;function $C(n){const t=n.match(EZ);return t?t[0]:""}const CZ=/^[^\/()?;=#]+/,SZ=/^[^=?&#]+/,AZ=/^[^&#]+/;class RZ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new On([],{}):new On([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[jt]=new On(t,e)),i}parseSegment(){const t=$C(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ve(4009,!1);return this.capture(t),new ng(Rv(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function TZ(n){const t=n.match(CZ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=$C(this.remaining);r&&(i=r,this.capture(i))}t[Rv(e)]=Rv(i)}parseQueryParam(t){const e=function DZ(n){const t=n.match(SZ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function xZ(n){const t=n.match(AZ);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=qk(e),s=qk(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$C(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ve(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=jt);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[jt]:new On([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ve(4011,!1)}}function Kk(n){return n.segments.length>0?new On([],{[jt]:n}):n}function Zk(n){const t={};for(const i of Object.keys(n.children)){const s=Zk(n.children[i]);if(i===jt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function PZ(n){if(1===n.numberOfChildren&&n.children[jt]){const t=n.children[jt];return new On(n.segments.concat(t.segments),t.children)}return n}(new On(n.segments,t))}function Xc(n){return n instanceof dh}function Qk(n){let t;const r=Kk(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new On(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function Yk(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return WC(r,r,r,e,i);const s=function MZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Xk(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Xk(e,t,i)}(t);if(s.toRoot())return WC(r,r,new On([],{}),e,i);const o=function NZ(n,t,e){if(n.isAbsolute)return new Ov(t,!0,0);if(!e)return new Ov(t,!1,NaN);if(null===e.parent)return new Ov(e,!0,0);const i=Pv(n.commands[0])?0:1;return function kZ(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ve(4005,!1);r=i.segments.length}return new Ov(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?og(o.segmentGroup,o.index,s.commands):eF(o.segmentGroup,o.index,s.commands);return WC(r,o.segmentGroup,a,e,i)}function Pv(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sg(n){return"object"==typeof n&&null!=n&&n.outlets}function WC(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),o=n===t?e:Jk(n,t,e);const a=Kk(Zk(o));return new dh(a,s,r)}function Jk(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Jk(s,t,e)}),new On(n.segments,i)}class Xk{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Pv(i[0]))throw new ve(4003,!1);const r=i.find(sg);if(r&&r!==Bk(i))throw new ve(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ov{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function eF(n,t,e){if(n||(n=new On([],{})),0===n.segments.length&&n.hasChildren())return og(n,t,e);const i=function LZ(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(sg(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!nF(l,c,o))return s;i+=2}else{if(!nF(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new On(n.segments.slice(0,i.pathIndex),{});return s.children[jt]=new On(n.segments.slice(i.pathIndex),n.children),og(s,0,r)}return i.match&&0===r.length?new On(n.segments,{}):i.match&&!n.hasChildren()?qC(n,t,e):i.match?og(n,0,r):qC(n,t,e)}function og(n,t,e){if(0===e.length)return new On(n.segments,{});{const i=function FZ(n){return sg(n[0])?n[0].outlets:{[jt]:n}}(e),r={};if(Object.keys(i).some(s=>s!==jt)&&n.children[jt]&&1===n.numberOfChildren&&0===n.children[jt].segments.length){const s=og(n.children[jt],t,e);return new On(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=eF(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new On(n.segments,r)}}function qC(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(sg(s)){const l=VZ(s.outlets);return new On(i,l)}if(0===r&&Pv(e[0])){i.push(new ng(n.segments[t].path,tF(e[0]))),r++;continue}const o=sg(s)?s.outlets[jt]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&Pv(a)?(i.push(new ng(o,tF(a))),r+=2):(i.push(new ng(o,{})),r++)}return new On(i,{})}function VZ(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=qC(new On([],{}),0,i))}),t}function tF(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function nF(n,t,e){return n==e.path&&Ko(t,e.parameters)}const ag="imperative";class Zo{constructor(t,e){this.id=t,this.url=e}}class Mv extends Zo{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tl extends Zo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lg extends Zo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hh extends Zo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Nv extends Zo{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iF extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BZ extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UZ extends Zo{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class HZ extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jZ extends Zo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zZ{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $Z{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class WZ{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qZ{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class GZ{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KZ{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rF{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class GC{}class KC{constructor(t){this.url=t}}class ZZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cg,this.attachRef=null}}let cg=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new ZZ,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sF{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ZC(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ZC(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=QC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return QC(t,this._root).map(e=>e.value)}}function ZC(n,t){if(n===t.value)return t;for(const e of t.children){const i=ZC(n,e);if(i)return i}return null}function QC(n,t){if(n===t.value)return[t];for(const e of t.children){const i=QC(n,e);if(i.length)return i.unshift(t),i}return[]}class Ma{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function fh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class oF extends sF{constructor(t,e){super(t),this.snapshot=e,YC(this,t)}toString(){return this.snapshot.toString()}}function aF(n,t){const e=function QZ(n,t){const o=new kv([],{},{},"",{},jt,t,null,{});return new cF("",new Ma(o,[]))}(0,t),i=new R([new ng("",{})]),r=new R({}),s=new R({}),o=new R({}),a=new R(""),l=new eu(i,r,o,a,s,jt,t,e.root);return l.snapshot=e.root,new oF(new Ma(l,[]),e)}class eu{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe($e(c=>c[tg]))??V(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe($e(t=>uh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($e(t=>uh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lF(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function YZ(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class kv{get title(){return this.data?.[tg]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cF extends sF{constructor(t,e){super(e),this.url=t,YC(this,e)}toString(){return uF(this._root)}}function YC(n,t){t.value._routerState=n,t.children.forEach(e=>YC(n,e))}function uF(n){const t=n.children.length>0?` { ${n.children.map(uF).join(", ")} } `:"";return`${n.value}${t}`}function JC(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ko(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ko(t.params,e.params)||n.paramsSubject.next(e.params),function fZ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ko(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ko(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function XC(n,t){const e=Ko(n.params,t.params)&&function _Z(n,t){return Jc(n,t)&&n.every((e,i)=>Ko(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||XC(n.parent,t.parent))}let eT=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new at,this.deactivateEvents=new at,this.attachEvents=new at,this.detachEvents=new at,this.parentContexts=et(cg),this.location=et(Es),this.changeDetector=et(Ks),this.environmentInjector=et(bs),this.inputBinder=et(Fv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ve(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ve(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ve(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ve(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new JZ(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=dt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ji]})}return n})();class JZ{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===eu?this.route:t===cg?this.childContexts:this.parent.get(t,e)}}const Fv=new Ue("");let dF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=BC([i.queryParams,i.params,i.data]).pipe(Fe(([s,o,a],l)=>(a={...s,...o,...a},0===l?V(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function k7(n){const t=Jt(n);if(!t)return null;const e=new Dp(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function ug(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function eQ(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ug(n,i,r);return ug(n,i)})}(n,t,e);return new Ma(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>ug(n,a)),o}}const i=function tQ(n){return new eu(new R(n.url),new R(n.params),new R(n.queryParams),new R(n.fragment),new R(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>ug(n,s));return new Ma(i,r)}}const tT="ngNavigationCancelingError";function hF(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Xc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=fF(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function fF(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[tT]=!0,i.cancellationCode=t,e&&(i.url=e),i}function pF(n){return n&&n[tT]}let gF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["ng-component"]],standalone:!0,features:[qs],decls:1,vars:0,template:function(i,r){1&i&&We(0,"router-outlet")},dependencies:[eT],encapsulation:2})}return n})();function nT(n){const t=n.children&&n.children.map(nT),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=gF),e}function bo(n){return n.outlet||jt}function dg(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class cQ{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),JC(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=fh(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=fh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=fh(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=fh(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new KZ(s.value.snapshot))}),t.children.length&&this.forwardEvent(new qZ(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(JC(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),JC(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=dg(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class mF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Lv{constructor(t,e){this.component=t,this.route=e}}function uQ(n,t,e){const i=n._root;return hg(i,t?t._root:null,e,[i.value])}function ph(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function km(n){return null!==Nu(n)}(n)?t.get(n):n:i}function hg(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=fh(t);return n.children.forEach(o=>{(function hQ(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function fQ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Jc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Jc(n.url,t.url)||!Ko(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!XC(n,t)||!Ko(n.queryParams,t.queryParams);default:return!XC(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new mF(i)):(s.data=o.data,s._resolvedData=o._resolvedData),hg(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Lv(a.outlet.component,o))}else o&&fg(t,a,r),r.canActivateChecks.push(new mF(i)),hg(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>fg(a,e.getContext(o),r)),r}function fg(n,t,e){const i=fh(n),r=n.value;Object.entries(i).forEach(([s,o])=>{fg(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Lv(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function pg(n){return"function"==typeof n}function _F(n){return n instanceof wv||"EmptyError"===n?.name}const Vv=Symbol("INITIAL_VALUE");function gh(){return Fe(n=>BC(n.map(t=>t.pipe(Go(1),Cv(Vv)))).pipe($e(t=>{for(const e of t)if(!0!==e){if(e===Vv)return Vv;if(!1===e||e instanceof dh)return e}return!0}),hr(t=>t!==Vv),Go(1)))}function yF(n){return function ci(...n){return mi(n)}(Ht(t=>{if(Xc(t))throw hF(0,t)}),$e(t=>!0===t))}class Bv{constructor(t){this.segmentGroup=t||null}}class vF{constructor(t){this.urlTree=t}}function mh(n){return Xp(new Bv(n))}function IF(n){return Xp(new vF(n))}class MQ{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new ve(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return V(i);if(r.numberOfChildren>1||!r.children[jt])return Xp(new ve(4e3,!1));r=r.children[jt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new dh(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new On(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new ve(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const iT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NQ(n,t,e,i,r){const s=rT(n,t,e);return s.matched?(i=function iQ(n,t){return n.providers&&!n._injector&&(n._injector=lE(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function RQ(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?V(r.map(o=>{const a=ph(o,n);return Cl(function vQ(n){return n&&pg(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(gh(),yF()):V(!0)}(i,t,e).pipe($e(o=>!0===o?s:{...iT}))):V(s)}function rT(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...iT}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||hZ)(e,n,t);if(!r)return{...iT};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function bF(n,t,e,i){return e.length>0&&function LQ(n,t,e){return e.some(i=>Uv(n,t,i)&&bo(i)!==jt)}(n,e,i)?{segmentGroup:new On(t,FQ(i,new On(e,n.children))),slicedSegments:[]}:0===e.length&&function VQ(n,t,e){return e.some(i=>Uv(n,t,i))}(n,e,i)?{segmentGroup:new On(n.segments,kQ(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new On(n.segments,n.children),slicedSegments:e}}function kQ(n,t,e,i,r){const s={};for(const o of i)if(Uv(n,e,o)&&!r[bo(o)]){const a=new On([],{});s[bo(o)]=a}return{...r,...s}}function FQ(n,t){const e={};e[jt]=t;for(const i of n)if(""===i.path&&bo(i)!==jt){const r=new On([],{});e[bo(i)]=r}return e}function Uv(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class jQ{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new MQ(this.urlSerializer,this.urlTree)}noMatchError(t){return new ve(4002,!1)}recognize(){const t=bF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,jt).pipe(Yc(e=>{if(e instanceof vF)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Bv?this.noMatchError(e):e}),$e(e=>{const i=new kv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),r=new Ma(i,e),s=new cF("",r),o=function OZ(n,t,e=null,i=null){return Yk(Qk(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,jt).pipe(Yc(i=>{throw i instanceof Bv?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=lF(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return O(r).pipe(ch(s=>{const o=i.children[s],a=function aQ(n,t){const e=n.filter(i=>bo(i)===t);return e.push(...n.filter(i=>bo(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),Sv((s,o)=>(s.push(...o),s)),Tv(null),function uZ(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hr((r,s)=>n(r,s,i)):dn,HC(1),e?Tv(t):Nk(()=>new wv))}(),An(s=>{if(null===s)return mh(i);const o=wF(s);return function zQ(n){n.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet))}(o),V(o)}))}processSegment(t,e,i,r,s,o){return O(e).pipe(ch(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(Yc(l=>{if(l instanceof Bv)return V(null);throw l}))),Io(a=>!!a),Yc(a=>{if(_F(a))return function UQ(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?V([]):mh(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function BQ(n,t,e,i){return!!(bo(n)===i||i!==jt&&Uv(t,e,n))&&("**"===n.path||rT(t,n,e).matched)}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):mh(r):mh(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?IF(s):this.applyRedirects.lineralizeSegments(i,s).pipe(An(o=>{const a=new On(o,{});return this.processSegment(t,e,a,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:p}=rT(e,r,s);if(!a)return mh(e);const _=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,p);return r.redirectTo.startsWith("/")?IF(_):this.applyRedirects.lineralizeSegments(r,_).pipe(An(b=>this.processSegment(t,i,e,b.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let a;if("**"===i.path){const l=r.length>0?Bk(r).parameters:{};a=V({snapshot:new kv(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EF(i),bo(i),i.component??i._loadedComponent??null,i,CF(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=NQ(e,i,r,t).pipe($e(({matched:l,consumedSegments:c,remainingSegments:p,parameters:_})=>l?{snapshot:new kv(c,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,EF(i),bo(i),i.component??i._loadedComponent??null,i,CF(i)),consumedSegments:c,remainingSegments:p}:null));return a.pipe(Fe(l=>null===l?mh(e):this.getChildConfig(t=i._injector??t,i,r).pipe(Fe(({routes:c})=>{const p=i._loadedInjector??t,{snapshot:_,consumedSegments:b,remainingSegments:T}=l,{segmentGroup:P,slicedSegments:N}=bF(e,b,T,c);if(0===N.length&&P.hasChildren())return this.processChildren(p,c,P).pipe($e(W=>null===W?null:[new Ma(_,W)]));if(0===c.length&&0===N.length)return V([new Ma(_,[])]);const L=bo(i)===s;return this.processSegment(p,c,P,N,L?jt:s,!0).pipe($e(W=>[new Ma(_,W)]))}))))}getChildConfig(t,e,i){return e.children?V({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?V({routes:e._loadedRoutes,injector:e._loadedInjector}):function xQ(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?V(!0):V(r.map(o=>{const a=ph(o,n);return Cl(function gQ(n){return n&&pg(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(gh(),yF())}(t,e,i).pipe(An(r=>r?this.configLoader.loadChildren(t,e).pipe(Ht(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function OQ(n){return Xp(fF(!1,3))}())):V({routes:[],injector:t})}}function $Q(n){const t=n.value.routeConfig;return t&&""===t.path}function wF(n){const t=[],e=new Set;for(const i of n){if(!$Q(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=wF(i.children);t.push(new Ma(i.value,r))}return t.filter(i=>!e.has(i))}function EF(n){return n.data||{}}function CF(n){return n.resolve||{}}function TF(n){return"string"==typeof n.title||null===n.title}function sT(n){return Fe(t=>{const e=n(t);return e?O(e).pipe($e(()=>t)):V(t)})}const _h=new Ue("ROUTES");let oT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=et(IM)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return V(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Cl(e.loadComponent()).pipe($e(SF),Ht(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),eg(()=>{this.componentLoaders.delete(e)})),r=new Mk(i,()=>new oe).pipe(UC());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return V({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function YQ(n,t,e,i){return Cl(n.loadChildren()).pipe($e(SF),An(r=>r instanceof AO||Array.isArray(r)?V(r):O(t.compileModuleAsync(r))),$e(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(_h,[],{optional:!0,self:!0}).flat()),{routes:o.map(nT),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(eg(()=>{this.childrenLoaders.delete(i)})),o=new Mk(s,()=>new oe).pipe(UC());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SF(n){return function JQ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new oe,this.transitionAbortSubject=new oe,this.configLoader=et(oT),this.environmentInjector=et(bs),this.urlSerializer=et(ig),this.rootContexts=et(cg),this.inputBindingEnabled=null!==et(Fv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new $Z(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new zZ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new R({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ag,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hr(s=>0!==s.id),$e(s=>({...s,extractedUrl:e.urlHandlingStrategy.extract(s.rawUrl)})),Fe(s=>{this.currentTransition=s;let o=!1,a=!1;return V(s).pipe(Ht(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fe(l=>{const c=l.currentBrowserUrl.toString(),p=!e.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const b="";return this.events.next(new hh(l.id,this.urlSerializer.serialize(l.rawUrl),b,0)),l.resolve(null),Xn}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return V(l).pipe(Fe(b=>{const T=this.transitions?.getValue();return this.events.next(new Mv(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),T!==this.transitions?.getValue()?Xn:Promise.resolve(b)}),function WQ(n,t,e,i,r,s){return An(o=>function HQ(n,t,e,i,r,s,o="emptyOnly"){return new jQ(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe($e(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Ht(b=>{s.targetSnapshot=b.targetSnapshot,s.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects};const T=new iF(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:b,extractedUrl:T,source:P,restoredState:N,extras:L}=l,W=new Mv(b,this.urlSerializer.serialize(T),P,N);this.events.next(W);const H=aF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:H,urlAfterRedirects:T,extras:{...L,skipLocationChange:!1,replaceUrl:!1}},V(s)}{const b="";return this.events.next(new hh(l.id,this.urlSerializer.serialize(l.extractedUrl),b,1)),l.resolve(null),Xn}}),Ht(l=>{const c=new BZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),$e(l=>(this.currentTransition=s={...l,guards:uQ(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function bQ(n,t){return An(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?V({...e,guardsResult:!0}):function wQ(n,t,e,i){return O(n).pipe(An(r=>function AQ(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?V(s.map(a=>{const l=dg(t)??r,c=ph(a,l);return Cl(function yQ(n){return n&&pg(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):l.runInContext(()=>c(n,t,e,i))).pipe(Io())})).pipe(gh()):V(!0)}(r.component,r.route,e,t,i)),Io(r=>!0!==r,!0))}(o,i,r,n).pipe(An(a=>a&&function pQ(n){return"boolean"==typeof n}(a)?function EQ(n,t,e,i){return O(t).pipe(ch(r=>Ev(function TQ(n,t){return null!==n&&t&&t(new WZ(n)),V(!0)}(r.route.parent,i),function CQ(n,t){return null!==n&&t&&t(new GZ(n)),V(!0)}(r.route,i),function DQ(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function dQ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Ok(()=>V(o.guards.map(l=>{const c=dg(o.node)??e,p=ph(l,c);return Cl(function _Q(n){return n&&pg(n.canActivateChild)}(p)?p.canActivateChild(i,n):c.runInContext(()=>p(i,n))).pipe(Io())})).pipe(gh())));return V(s).pipe(gh())}(n,r.path,e),function SQ(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return V(!0);const r=i.map(s=>Ok(()=>{const o=dg(t)??e,a=ph(s,o);return Cl(function mQ(n){return n&&pg(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(Io())}));return V(r).pipe(gh())}(n,r.route,e))),Io(r=>!0!==r,!0))}(i,s,n,t):V(a)),$e(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Ht(l=>{if(s.guardsResult=l.guardsResult,Xc(l.guardsResult))throw hF(0,l.guardsResult);const c=new UZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),hr(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),sT(l=>{if(l.guards.canActivateChecks.length)return V(l).pipe(Ht(c=>{const p=new HZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),Fe(c=>{let p=!1;return V(c).pipe(function qQ(n,t){return An(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return V(e);let s=0;return O(r).pipe(ch(o=>function GQ(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!TF(r)&&(s[tg]=r.title),function KQ(n,t,e,i){const r=function ZQ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return V({});const s={};return O(r).pipe(An(o=>function QQ(n,t,e,i){const r=dg(t)??i,s=ph(n,r);return Cl(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(Io(),Ht(a=>{s[o]=a}))),HC(1),Fk(s),Yc(o=>_F(o)?Xn:Xp(o)))}(s,n,t,i).pipe($e(o=>(n._resolvedData=o,n.data=lF(n,e).resolve,r&&TF(r)&&(n.data[tg]=r.title),null)))}(o.route,i,n,t)),Ht(()=>s++),HC(1),An(o=>s===r.length?V(e):Xn))})}(e.paramsInheritanceStrategy,this.environmentInjector),Ht({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(c,"",2)}}))}),Ht(c=>{const p=new jZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}))}),sT(l=>{const c=p=>{const _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ht(b=>{p.component=b}),$e(()=>{})));for(const b of p.children)_.push(...c(b));return _};return BC(c(l.targetSnapshot.root)).pipe(Tv(),Go(1))}),sT(()=>this.afterPreactivation()),$e(l=>{const c=function XZ(n,t,e){const i=ug(n,t._root,e?e._root:void 0);return new oF(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},s}),Ht(()=>{this.events.next(new GC)}),((n,t,e,i)=>$e(r=>(new cQ(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Go(1),Ht({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Lk(this.transitionAbortSubject.pipe(Ht(l=>{throw l}))),eg(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Yc(l=>{if(a=!0,pF(l))this.events.next(new lg(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function nQ(n){return pF(n)&&Xc(n.url)}(l)?this.events.next(new KC(l.url)):s.resolve(!1);else{this.events.next(new Nv(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){s.reject(c)}}return Xn}))}))}cancelNavigationTransition(e,i,r){const s=new lg(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function DF(n){return n!==ag}let AF=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===jt);return i}getResolvedTitleForRoute(e){return e.data[tg]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return et(XQ)},providedIn:"root"})}return n})(),XQ=(()=>{class n extends AF{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(De(BN))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return et(nY)},providedIn:"root"})}return n})();class tY{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let nY=(()=>{class n extends tY{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jv=new Ue("",{providedIn:"root",factory:()=>({})});let iY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:function(){return et(rY)},providedIn:"root"})}return n})(),rY=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gg||{});function xF(n,t){n.events.pipe(hr(e=>e instanceof Tl||e instanceof lg||e instanceof Nv||e instanceof hh),$e(e=>e instanceof Tl||e instanceof hh?gg.COMPLETE:e instanceof lg&&(0===e.code||1===e.code)?gg.REDIRECTING:gg.FAILED),hr(e=>e!==gg.REDIRECTING),Go(1)).subscribe(()=>{t()})}function sY(n){throw n}function oY(n,t,e){return t.parse("/")}const aY={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lY={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ds=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=et(vM),this.isNgZoneEnabled=!1,this._events=new oe,this.options=et(jv,{optional:!0})||{},this.pendingTasks=et(Vy),this.errorHandler=this.options.errorHandler||sY,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oY,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=et(iY),this.routeReuseStrategy=et(eY),this.titleStrategy=et(AF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=et(_h,{optional:!0})?.flat()??[],this.navigationTransitions=et(Hv),this.urlSerializer=et(ig),this.location=et(jE),this.componentInputBindingEnabled=!!et(Fv,{optional:!0}),this.eventsSubscription=new I,this.isNgZoneEnabled=et(qt)instanceof qt&&qt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dh,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=aF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(RF(i)&&this._events.next(i));if(i instanceof Mv)DF(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof hh)this.rawUrlTree=r.rawUrl;else if(i instanceof iF){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(s,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof GC)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof lg)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof KC){const s=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),o={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||DF(r.source)};this.scheduleNavigation(s,ag,null,o,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Nv&&this.restoreHistory(r,!0),i instanceof Tl&&(this.navigated=!0),RF(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ag,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(nT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let _,p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}null!==p&&(p=this.removeEmptyProps(p));try{_=Qk(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),_=this.currentUrlTree.root}return Yk(_,e,p,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Xc(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,ag,null,i)}navigate(e,i={skipLocationChange:!1}){return function cY(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new ve(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...aY}:!1===i?{...lY}:i,Xc(e))return Hk(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Hk(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((_,b)=>{a=_,l=b});const p=this.pendingTasks.add();return xF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(_=>Promise.reject(_))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RF(n){return!(n instanceof GC||n instanceof KC)}let zv=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new oe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof Tl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function Ax(n,t,e){return function cz(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?Dx:Oc}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Ds),ie(eu),function Ed(n){return function de(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Hu(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(zi(),n)}("tabindex"),ie(Sr),ie(Gn),ie(Wc))};static#t=this.\u0275dir=dt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Dt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&St("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",sh],skipLocationChange:["skipLocationChange","skipLocationChange",sh],replaceUrl:["replaceUrl","replaceUrl",sh],routerLink:"routerLink"},standalone:!0,features:[$R,Ji]})}return n})();class PF{}let hY=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(hr(e=>e instanceof Tl),ch(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=lE(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return O(r).pipe(br())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):V(null);const s=r.pipe(An(o=>null===o?V(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?O([s,this.loader.loadComponent(i)]).pipe(br()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(De(Ds),De(IM),De(bs),De(PF),De(oT))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const aT=new Ue("");let OF=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Mv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Tl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof hh&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rF&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rF(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function mR(){throw new Error("invalid")}()};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function Na(n,t){return{\u0275kind:n,\u0275providers:t}}function NF(){const n=et(os);return t=>{const e=n.get(zc);if(t!==e.components[0])return;const i=n.get(Ds),r=n.get(kF);1===n.get(lT)&&i.initialNavigation(),n.get(FF,null,Gt.Optional)?.setUpPreloading(),n.get(aT,null,Gt.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const kF=new Ue("",{factory:()=>new oe}),lT=new Ue("",{providedIn:"root",factory:()=>1}),FF=new Ue("");function mY(n){return Na(0,[{provide:FF,useExisting:hY},{provide:PF,useExisting:n}])}const LF=new Ue("ROUTER_FORROOT_GUARD"),yY=[jE,{provide:ig,useClass:jC},Ds,cg,{provide:eu,useFactory:function MF(n){return n.routerState.root},deps:[Ds]},oT,[]];function vY(){return new DM("Router",Ds)}let mg=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[yY,[],{provide:_h,multi:!0,useValue:e},{provide:LF,useFactory:EY,deps:[[Ds,new Is,new U_]]},{provide:jv,useValue:i||{}},i?.useHash?{provide:Wc,useClass:U7}:{provide:Wc,useClass:iN},{provide:aT,useFactory:()=>{const n=et(rq),t=et(qt),e=et(jv),i=et(Hv),r=et(ig);return e.scrollOffset&&n.setOffset(e.scrollOffset),new OF(r,i,n,t,e)}},i?.preloadingStrategy?mY(i.preloadingStrategy).\u0275providers:[],{provide:DM,multi:!0,useFactory:vY},i?.initialNavigation?CY(i):[],i?.bindToComponentInputs?Na(8,[dF,{provide:Fv,useExisting:dF}]).\u0275providers:[],[{provide:VF,useFactory:NF},{provide:PE,multi:!0,useExisting:VF}]]}}static forChild(e){return{ngModule:n,providers:[{provide:_h,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(De(LF,8))};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({})}return n})();function EY(n){return"guarded"}function CY(n){return["disabled"===n.initialNavigation?Na(3,[{provide:EE,multi:!0,useFactory:()=>{const t=et(Ds);return()=>{t.setUpLocationChangeListener()}}},{provide:lT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Na(2,[{provide:lT,useValue:0},{provide:EE,multi:!0,deps:[os],useFactory:t=>{const e=t.get(V7,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Ds),s=t.get(kF);xF(r,()=>{i(!0)}),t.get(Hv).afterPreactivation=()=>(i(!0),s.closed?V(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const VF=new Ue(""),SY=[];let DY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({imports:[mg.forRoot(SY),mg]})}return n})();var Qo=E(402);let AY=(()=>{class n{ngOnInit(){Qo.init({disable:"mobile"}),Qo.refresh()}ngAfterViewInit(){setTimeout(()=>{Qo.refresh()},500)}constructor(){this.title="portfolio"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&We(0,"router-outlet")},dependencies:[eT]})}return n})();const xY=["addListener","removeListener"],RY=["addEventListener","removeEventListener"],PY=["on","off"];function cT(n,t,e,i){if(C(e)&&(i=e,e=void 0),i)return cT(n,t,e).pipe(VC(i));const[r,s]=function NY(n){return C(n.addEventListener)&&C(n.removeEventListener)}(n)?RY.map(o=>a=>n[o](t,a,e)):function OY(n){return C(n.addListener)&&C(n.removeListener)}(n)?xY.map(BF(n,t)):function MY(n){return C(n.on)&&C(n.off)}(n)?PY.map(BF(n,t)):[];if(!r&&ut(n))return An(o=>cT(o,t,e))(ln(n));if(!r)throw new TypeError("Invalid event target");return new bt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function BF(n,t){return e=>i=>n[e](t,i)}function UF(n){return hr((t,e)=>n<=e)}const FY=(n,t)=>(n.push(t),n);class VY extends I{constructor(t,e){super()}schedule(t,e=0){return this}}const $v={setInterval(n,t,...e){const{delegate:i}=$v;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=$v;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class HF extends VY{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return $v.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&$v.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,y(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const uT={now:()=>(uT.delegate||Date).now(),delegate:void 0};class _g{constructor(t,e=_g.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}_g.now=uT.now;class jF extends _g{constructor(t,e=_g.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Wv=new jF(HF),BY=Wv;function zF(n,t){return t?e=>Ev(t.pipe(Go(1),function UY(){return ae((n,t)=>{n.subscribe(Le(t,be))})}()),e.pipe(zF(n))):An((e,i)=>ln(n(e,i)).pipe(Go(1),Fk(e)))}function $Y(n,t){}const WY=function(n,t){return{$implicit:n,index:t}};function qY(n,t){if(1&n&&Ee(0,$Y,0,0,"ng-template",4),2&n){const e=Pe(),i=e.$implicit,r=e.index,s=Pe();pe("ngTemplateOutlet",i.tplRef)("ngTemplateOutletContext",go(2,WY,s.preparePublicSlide(i),r))}}const GY=function(n,t,e,i){return{width:n,"margin-left":t,"margin-right":e,left:i}};function KY(n,t){if(1&n){const e=Ai();ni(0),me(1,"div",2),Dt("animationend",function(){const s=$t(e).$implicit;return Xt(Pe().clear(s.id))}),Ee(2,qY,1,5,null,3),_e(),ii()}if(2&n){const e=t.$implicit;Te(1),pe("ngClass",e.classes)("ngStyle",FO(4,GY,e.width+"px",e.marginL?e.marginL+"px":"",e.marginR?e.marginR+"px":"",e.left))("@autoHeight",e.heightState),Te(1),pe("ngIf",e.load)}}const ZY=function(n,t,e,i,r){return{width:n,transform:t,transition:e,"padding-left":i,"padding-right":r}},QY=function(n,t){return{isMouseDragable:n,isTouchDragable:t}};function YY(n,t){if(1&n&&(me(0,"div",4),We(1,"owl-stage",5),_e()),2&n){const e=Pe();Te(1),pe("owlDraggable",go(3,QY,null==e.owlDOMData?null:e.owlDOMData.isMouseDragable,null==e.owlDOMData?null:e.owlDOMData.isTouchDragable))("stageData",e.stageData)("slidesData",e.slidesData)}}const JY=function(n,t){return{active:n,"owl-dot-text":t}};function XY(n,t){if(1&n){const e=Ai();me(0,"div",11),Dt("click",function(){const s=$t(e).$implicit;return Xt(Pe(2).moveByDot(s.id))}),We(1,"span",12),_e()}if(2&n){const e=t.$implicit;pe("ngClass",go(2,JY,e.active,e.showInnerContent)),Te(1),pe("innerHTML",e.innerContent,ny)}}const qv=function(n){return{disabled:n}};function eJ(n,t){if(1&n){const e=Ai();ni(0),me(1,"div",6)(2,"div",7),Dt("click",function(){return $t(e),Xt(Pe().prev())}),_e(),me(3,"div",8),Dt("click",function(){return $t(e),Xt(Pe().next())}),_e()(),me(4,"div",9),Ee(5,XY,2,5,"div",10),_e(),ii()}if(2&n){const e=Pe();Te(1),pe("ngClass",di(7,qv,null==e.navData?null:e.navData.disabled)),Te(1),pe("ngClass",di(9,qv,null==e.navData||null==e.navData.prev?null:e.navData.prev.disabled))("innerHTML",null==e.navData||null==e.navData.prev?null:e.navData.prev.htmlText,ny),Te(1),pe("ngClass",di(11,qv,null==e.navData||null==e.navData.next?null:e.navData.next.disabled))("innerHTML",null==e.navData||null==e.navData.next?null:e.navData.next.htmlText,ny),Te(1),pe("ngClass",di(13,qv,null==e.dotsData?null:e.dotsData.disabled)),Te(1),pe("ngForOf",null==e.dotsData?null:e.dotsData.dots)}}const tJ=function(n,t,e,i,r){return{"owl-rtl":n,"owl-loaded":t,"owl-responsive":e,"owl-drag":i,"owl-grab":r}};class nJ{items=3;skip_validateItems=!1;loop=!1;center=!1;rewind=!1;mouseDrag=!0;touchDrag=!0;pullDrag=!0;freeDrag=!1;margin=0;stagePadding=0;merge=!1;mergeFit=!0;autoWidth=!1;startPosition=0;rtl=!1;smartSpeed=250;fluidSpeed=!1;dragEndSpeed=!1;responsive={};responsiveRefreshRate=200;nav=!1;navText=["prev","next"];navSpeed=!1;slideBy=1;dots=!0;dotsEach=!1;dotsData=!1;dotsSpeed=!1;autoplay=!1;autoplayTimeout=5e3;autoplayHoverPause=!1;autoplaySpeed=!1;autoplayMouseleaveTimeout=1;lazyLoad=!1;lazyLoadEager=0;slideTransition="";animateOut=!1;animateIn=!1;autoHeight=!1;URLhashListener=!1;constructor(){}}class iJ{items="number";skip_validateItems="boolean";loop="boolean";center="boolean";rewind="boolean";mouseDrag="boolean";touchDrag="boolean";pullDrag="boolean";freeDrag="boolean";margin="number";stagePadding="number";merge="boolean";mergeFit="boolean";autoWidth="boolean";startPosition="number|string";rtl="boolean";smartSpeed="number";fluidSpeed="boolean";dragEndSpeed="number|boolean";responsive={};responsiveRefreshRate="number";nav="boolean";navText="string[]";navSpeed="number|boolean";slideBy="number|string";dots="boolean";dotsEach="number|boolean";dotsData="boolean";dotsSpeed="number|boolean";autoplay="boolean";autoplayTimeout="number";autoplayHoverPause="boolean";autoplaySpeed="number|boolean";autoplayMouseleaveTimeout="number";lazyLoad="boolean";lazyLoadEager="number";slideTransition="string";animateOut="string|boolean";animateIn="string|boolean";autoHeight="boolean";URLhashListener="boolean";constructor(){}}let dT=(()=>{class n{errorHandler;constructor(e){this.errorHandler=e}log(e,...i){}error(e){this.errorHandler.handleError(e)}warn(e,...i){console.warn(e,...i)}static \u0275fac=function(i){return new(i||n)(De(Ho))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();var $F=function(n){return n.Event="event",n.State="state",n}($F||{}),Gv=function(n){return n.Default="default",n.Inner="inner",n.Outer="outer",n}(Gv||{});let ka=(()=>{class n{logger;_viewSettingsShipper$=new oe;_initializedCarousel$=new oe;_changeSettingsCarousel$=new oe;_changedSettingsCarousel$=new oe;_translateCarousel$=new oe;_translatedCarousel$=new oe;_resizeCarousel$=new oe;_resizedCarousel$=new oe;_refreshCarousel$=new oe;_refreshedCarousel$=new oe;_dragCarousel$=new oe;_draggedCarousel$=new oe;settings={items:0};owlDOMData={rtl:!1,isResponsive:!1,isRefreshed:!1,isLoaded:!1,isLoading:!1,isMouseDragable:!1,isGrab:!1,isTouchDragable:!1};stageData={transform:"translate3d(0px,0px,0px)",transition:"0s",width:0,paddingL:0,paddingR:0};slidesData;navData;dotsData;_width;_items=[];_widths=[];_supress={};_plugins={};_current=null;_clones=[];_mergers=[];_speed=null;_coordinates=[];_breakpoint=null;clonedIdPrefix="cloned-";_options={};_invalidated={};get invalidated(){return this._invalidated}_states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}};get states(){return this._states}_pipe=[{filter:["width","items","settings"],run:e=>{e.current=this._items&&this._items[this.relative(this._current)]?.id}},{filter:["width","items","settings"],run:e=>{const i=this.settings.margin||"",s=this.settings.rtl,o={"margin-left":s?i:"","margin-right":s?"":i};!this.settings.autoWidth||this.slidesData.forEach(a=>{a.marginL=o["margin-left"],a.marginR=o["margin-right"]}),e.css=o}},{filter:["width","items","settings"],run:e=>{const i=+(this.width()/this.settings.items).toFixed(3)-this.settings.margin,r=!this.settings.autoWidth,s=[];let o=null,a=this._items.length;for(e.items={merge:!1,width:i};a-- >0;)o=this._mergers[a],o=this.settings.mergeFit&&Math.min(o,this.settings.items)||o,e.items.merge=o>1||e.items.merge,s[a]=r?i*o:this._items[a].width?this._items[a].width:i;this._widths=s,this.slidesData.forEach((l,c)=>{l.width=this._widths[c],l.marginR=e.css["margin-right"],l.marginL=e.css["margin-left"]})}},{filter:["items","settings"],run:()=>{const e=[],i=this._items,r=this.settings,s=Math.max(2*r.items,4),o=2*Math.ceil(i.length/2);let a=[],l=[],c=r.loop&&i.length?r.rewind?s:Math.max(s,o):0;for(c/=2;c-- >0;)e.push(this.normalize(e.length/2,!0)),a.push({...this.slidesData[e[e.length-1]]}),e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),l.unshift({...this.slidesData[e[e.length-1]]});this._clones=e,a=a.map(p=>(p.id=`${this.clonedIdPrefix}${p.id}`,p.isActive=!1,p.isCloned=!0,p)),l=l.map(p=>(p.id=`${this.clonedIdPrefix}${p.id}`,p.isActive=!1,p.isCloned=!0,p)),this.slidesData=l.concat(this.slidesData).concat(a)}},{filter:["width","items","settings"],run:()=>{const e=this.settings.rtl?1:-1,i=this._clones.length+this._items.length,r=[];let s=-1,o=0,a=0;for(;++s<i;)o=r[s-1]||0,a=this._widths[this.relative(s)]+this.settings.margin,r.push(o+a*e);this._coordinates=r}},{filter:["width","items","settings"],run:()=>{const e=this.settings.stagePadding,i=this._coordinates,r={width:Math.ceil(Math.abs(i[i.length-1]))+2*e,"padding-left":e||"","padding-right":e||""};this.stageData.width=r.width,this.stageData.paddingL=r["padding-left"],this.stageData.paddingR=r["padding-right"]}},{filter:["width","items","settings"],run:e=>{let i=e.current?this.slidesData.findIndex(r=>r.id===e.current):0;i=Math.max(this.minimum(),Math.min(this.maximum(),i)),this.reset(i)}},{filter:["position"],run:()=>{this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:()=>{const e=this.settings.rtl?1:-1,i=2*this.settings.stagePadding,r=[];let s,o,a,l,c,p;if(s=this.coordinates(this.current()),"number"==typeof s?s+=i:s=0,o=s+this.width()*e,-1===e&&this.settings.center){const _=this._coordinates.filter(b=>this.settings.items%2==1?b>=s:b>s);s=_.length?_[_.length-1]:s}for(c=0,p=this._coordinates.length;c<p;c++)a=Math.ceil(this._coordinates[c-1]||0),l=Math.ceil(Math.abs(this._coordinates[c])+i*e),(this._op(a,"<=",s)&&this._op(a,">",o)||this._op(l,"<",s)&&this._op(l,">",o))&&r.push(c);this.slidesData.forEach(_=>(_.isActive=!1,_)),r.forEach(_=>{this.slidesData[_].isActive=!0}),this.settings.center&&(this.slidesData.forEach(_=>(_.isCentered=!1,_)),this.slidesData[this.current()].isCentered=!0)}}];constructor(e){this.logger=e}getViewCurSettings(){return this._viewSettingsShipper$.asObservable()}getInitializedState(){return this._initializedCarousel$.asObservable()}getChangeState(){return this._changeSettingsCarousel$.asObservable()}getChangedState(){return this._changedSettingsCarousel$.asObservable()}getTranslateState(){return this._translateCarousel$.asObservable()}getTranslatedState(){return this._translatedCarousel$.asObservable()}getResizeState(){return this._resizeCarousel$.asObservable()}getResizedState(){return this._resizedCarousel$.asObservable()}getRefreshState(){return this._refreshCarousel$.asObservable()}getRefreshedState(){return this._refreshedCarousel$.asObservable()}getDragState(){return this._dragCarousel$.asObservable()}getDraggedState(){return this._draggedCarousel$.asObservable()}setOptions(e){const i=new nJ,r=this._validateOptions(e,i);this._options={...i,...r}}_validateOptions(e,i){const r={...e},s=new iJ,o=(a,l)=>(this.logger.log(`options.${l} must be type of ${a}; ${l}=${e[l]} skipped to defaults: ${l}=${i[l]}`),i[l]);for(const a in r)if(r.hasOwnProperty(a))if("number"===s[a])this._isNumeric(r[a])?(r[a]=+r[a],r[a]="items"===a?this._validateItems(r[a],r.skip_validateItems):r[a]):r[a]=o(s[a],a);else if("boolean"===s[a]&&"boolean"!=typeof r[a])r[a]=o(s[a],a);else if("number|boolean"!==s[a]||this._isNumberOrBoolean(r[a]))if("number|string"!==s[a]||this._isNumberOrString(r[a]))if("string|boolean"!==s[a]||this._isStringOrBoolean(r[a])){if("string[]"===s[a])if(Array.isArray(r[a])){let l=!1;r[a].forEach(c=>{l="string"==typeof c}),l||(r[a]=o(s[a],a))}else r[a]=o(s[a],a)}else r[a]=o(s[a],a);else r[a]=o(s[a],a);else r[a]=o(s[a],a);return r}_validateItems(e,i){let r=e;return e>this._items.length?i?this.logger.log("The option 'items' in your options is bigger than the number of slides. The navigation got disabled"):(r=this._items.length,this.logger.log("The option 'items' in your options is bigger than the number of slides. This option is updated to the current number of slides and the navigation got disabled")):e===this._items.length&&(this.settings.dots||this.settings.nav)&&this.logger.log("Option 'items' in your options is equal to the number of slides. So the navigation got disabled"),r}setCarouselWidth(e){this._width=e}setup(e,i,r){this.setCarouselWidth(e),this.setItems(i),this._defineSlidesData(),this.setOptions(r),this.settings={...this._options},this.setOptionsForViewport(),this._trigger("change",{property:{name:"settings",value:this.settings}}),this.invalidate("settings"),this._trigger("changed",{property:{name:"settings",value:this.settings}})}setOptionsForViewport(){const e=this._width,i=this._options.responsive;let r=-1;if(!Object.keys(i).length)return;if(!e)return void(this.settings.items=1);for(const o in i)i.hasOwnProperty(o)&&+o<=e&&+o>r&&(r=Number(o));this.settings={...this._options,...i[r],items:i[r]&&i[r].items?this._validateItems(i[r].items,this._options.skip_validateItems):this._options.items},delete this.settings.responsive,this.owlDOMData.isResponsive=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag;const s=[];this._items.forEach(o=>{s.push(this.settings.merge?o.dataMerge:1)}),this._mergers=s,this._breakpoint=r,this.invalidate("settings")}initialize(e){this.enter("initializing"),this.owlDOMData.rtl=this.settings.rtl,this._mergers.length&&(this._mergers=[]),e.forEach(i=>{this._mergers.push(this.settings.merge?i.dataMerge:1)}),this._clones=[],this.reset(this._isNumeric(this.settings.startPosition)?+this.settings.startPosition:0),this.invalidate("items"),this.refresh(),this.owlDOMData.isLoaded=!0,this.owlDOMData.isMouseDragable=this.settings.mouseDrag,this.owlDOMData.isTouchDragable=this.settings.touchDrag,this.sendChanges(),this.leave("initializing"),this._trigger("initialized")}sendChanges(){this._viewSettingsShipper$.next({owlDOMData:this.owlDOMData,stageData:this.stageData,slidesData:this.slidesData,navData:this.navData,dotsData:this.dotsData})}_optionsLogic(){this.settings.autoWidth&&(this.settings.stagePadding=0,this.settings.merge=!1)}update(){let e=0;const i=this._pipe.length,r=o=>this._invalidated[o],s={};for(;e<i;){const o=this._pipe[e].filter.filter(r);(this._invalidated.all||o.length>0)&&this._pipe[e].run(s),e++}this.slidesData.forEach(o=>o.classes=this.setCurSlideClasses(o)),this.sendChanges(),this._invalidated={},this.is("valid")||this.enter("valid")}width(e){switch(e=e||Gv.Default){case Gv.Inner:case Gv.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}}refresh(){this.enter("refreshing"),this._trigger("refresh"),this._defineSlidesData(),this.setOptionsForViewport(),this._optionsLogic(),this.update(),this.leave("refreshing"),this._trigger("refreshed")}onResize(e){if(!this._items.length)return!1;this.setCarouselWidth(e),this.enter("resizing"),this._trigger("resize"),this.invalidate("width"),this.refresh(),this.leave("resizing"),this._trigger("resized")}prepareDragging(e){let r,i=null;return r=this.stageData.transform.replace(/.*\(|\)| |[^,-\d]\w|\)/g,"").split(","),i={x:+r[0],y:+r[1]},this.is("animating")&&this.invalidate("position"),"mousedown"===e.type&&(this.owlDOMData.isGrab=!0),this.speed(0),i}enterDragging(){this.enter("dragging"),this._trigger("drag")}defineNewCoordsDrag(e,i){let r=null,s=null,o=null;const a=this.difference(i.pointer,this.pointer(e)),l=this.difference(i.stage.start,a);return!!this.is("dragging")&&(this.settings.loop?(r=this.coordinates(this.minimum()),s=+this.coordinates(this.maximum()+1)-r,l.x=((l.x-r)%s+s)%s+r):(r=this.coordinates(this.settings.rtl?this.maximum():this.minimum()),s=this.coordinates(this.settings.rtl?this.minimum():this.maximum()),o=this.settings.pullDrag?-1*a.x/5:0,l.x=Math.max(Math.min(l.x,r+o),s+o)),l)}finishDragging(e,i,r){const o=this.difference(i.pointer,this.pointer(e)),a=i.stage.current,l=["right","left"][+(this.settings.rtl?o.x<+this.settings.rtl:o.x>+this.settings.rtl)];let c,p,_;(0!==o.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(+this.settings.dragEndSpeed||this.settings.smartSpeed),c=this.closest(a.x,0!==o.x?l:i.direction),p=this.current(),_=this.current(-1===c?void 0:c),p!==_&&(this.invalidate("position"),this.update()),i.direction=l,(Math.abs(o.x)>3||(new Date).getTime()-i.time>300)&&r()),this.is("dragging")&&(this.leave("dragging"),this._trigger("dragged"))}closest(e,i){const s=this.width();let o=this.coordinates(),a=-1;this.settings.center&&(o=o.map(l=>(0===l&&(l+=1e-6),l)));for(let l=0;l<o.length&&("left"===i&&e>o[l]-30&&e<o[l]+30?a=l:"right"===i&&e>o[l]-s-30&&e<o[l]-s+30?a=l+1:this._op(e,"<",o[l])&&this._op(e,">",o[l+1]||o[l]-s)?a="left"===i?l+1:l:null===i&&e>o[l]-30&&e<o[l]+30&&(a=l),-1===a);l++);return this.settings.loop||(this._op(e,">",o[this.minimum()])?a=e=this.minimum():this._op(e,"<",o[this.maximum()])&&(a=e=this.maximum())),a}animate(e){const i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this._trigger("translate")),this.stageData.transform="translate3d("+e+"px,0px,0px)",this.stageData.transition=this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}is(e){return this._states.current[e]&&this._states.current[e]>0}current(e){return void 0===e?this._current:0!==this._items.length?(e=this.normalize(e),this._current!==e&&(this._trigger("change",{property:{name:"position",value:e}}),this._current=e,this.invalidate("position"),this._trigger("changed",{property:{name:"position",value:this._current}})),this._current):void 0}invalidate(e){return"string"==typeof e&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),Object.keys(this._invalidated)}reset(e){void 0!==(e=this.normalize(e))&&(this._speed=0,this._current=e,this._suppress(["translate","translated"]),this.animate(this.coordinates(e)),this._release(["translate","translated"]))}normalize(e,i){const r=this._items.length,s=i?0:this._clones.length;return!this._isNumeric(e)||r<1?e=void 0:(e<0||e>=r+s)&&(e=((e-s/2)%r+r)%r+s/2),e}relative(e){return this.normalize(e-=this._clones.length/2,!0)}maximum(e=!1){const i=this.settings;let s,o,a,r=this._coordinates.length;if(i.loop)r=this._clones.length/2+this._items.length-1;else if(i.autoWidth||i.merge){for(s=this._items.length,o=this.slidesData[--s].width,a=this._width;s-- >0&&(o+=+this.slidesData[s].width+this.settings.margin,!(o>a)););r=s+1}else r=i.center?this._items.length-1:this._items.length-i.items;return e&&(r-=this._clones.length/2),Math.max(r,0)}minimum(e=!1){return e?0:this._clones.length/2}items(e){return void 0===e?this._items.slice():(e=this.normalize(e,!0),[this._items[e]])}mergers(e){return void 0===e?this._mergers.slice():(e=this.normalize(e,!0),this._mergers[e])}clones(e){const i=this._clones.length/2,r=i+this._items.length,s=o=>o%2==0?r+o/2:i-(o+1)/2;return void 0===e?this._clones.map((o,a)=>s(a)):this._clones.map((o,a)=>o===e?s(a):null).filter(o=>o)}speed(e){return void 0!==e&&(this._speed=e),this._speed}coordinates(e){let s,o,i=1,r=e-1;return void 0===e?(o=this._coordinates.map((a,l)=>this.coordinates(l)),o):(this.settings.center?(this.settings.rtl&&(i=-1,r=e+1),s=this._coordinates[e],s+=(this.width()-s+(this._coordinates[r]||0))/2*i):s=this._coordinates[r]||0,s=Math.ceil(s),s)}_duration(e,i,r){return 0===r?0:Math.min(Math.max(Math.abs(i-e),1),6)*Math.abs(+r||this.settings.smartSpeed)}to(e,i){let r=this.current(),s=null,o=e-this.relative(r),a=this.maximum(),l=0;const c=+(o>0)-+(o<0),p=this._items.length,_=this.minimum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>p/2&&(o+=-1*c*p),s=(((e=r+o)-_)%p+p)%p+_,s!==e&&s-o<=a&&s-o>0&&(r=s-o,e=s,l=30,this.reset(r),this.sendChanges())):this.settings.rewind?(a+=1,e=(e%a+a)%a):e=Math.max(_,Math.min(a,e)),setTimeout(()=>{this.speed(this._duration(r,e,i)),this.current(e),this.update()},l)}next(e){e=e||!1,this.to(this.relative(this.current())+1,e)}prev(e){e=e||!1,this.to(this.relative(this.current())-1,e)}onTransitionEnd(e){if(void 0!==e)return!1;this.leave("animating"),this._trigger("translated")}_viewport(){let e;return this._width?e=this._width:this.logger.log("Can not detect viewport width."),e}setItems(e){this._items=e}_defineSlidesData(){let e;this.slidesData&&this.slidesData.length&&(e=new Map,this.slidesData.forEach(i=>{i.load&&e.set(i.id,i.load)})),this.slidesData=this._items.map(i=>({id:`${i.id}`,isActive:!1,tplRef:i.tplRef,dataMerge:i.dataMerge,width:0,isCloned:!1,load:!!e&&e.get(i.id),hashFragment:i.dataHash}))}setCurSlideClasses(e){const i={active:e.isActive,center:e.isCentered,cloned:e.isCloned,animated:e.isAnimated,"owl-animated-in":e.isDefAnimatedIn,"owl-animated-out":e.isDefAnimatedOut};return this.settings.animateIn&&(i[this.settings.animateIn]=e.isCustomAnimatedIn),this.settings.animateOut&&(i[this.settings.animateOut]=e.isCustomAnimatedOut),i}_op(e,i,r){const s=this.settings.rtl;switch(i){case"<":return s?e>r:e<r;case">":return s?e<r:e>r;case">=":return s?e<=r:e>=r;case"<=":return s?e>=r:e<=r}}_trigger(e,i,r,s,o){switch(e){case"initialized":this._initializedCarousel$.next(e);break;case"change":this._changeSettingsCarousel$.next(i);break;case"changed":this._changedSettingsCarousel$.next(i);break;case"drag":this._dragCarousel$.next(e);break;case"dragged":this._draggedCarousel$.next(e);break;case"resize":this._resizeCarousel$.next(e);break;case"resized":this._resizedCarousel$.next(e);break;case"refresh":this._refreshCarousel$.next(e);break;case"refreshed":this._refreshedCarousel$.next(e);break;case"translate":this._translateCarousel$.next(e);break;case"translated":this._translatedCarousel$.next(e)}}enter(e){[e].concat(this._states.tags[e]||[]).forEach(i=>{void 0===this._states.current[i]&&(this._states.current[i]=0),this._states.current[i]++})}leave(e){[e].concat(this._states.tags[e]||[]).forEach(i=>{(0===this._states.current[i]||this._states.current[i])&&this._states.current[i]--})}register(e){e.type===$F.State&&(this._states.tags[e.name]=this._states.tags[e.name]?this._states.tags[e.name].concat(e.tags):e.tags,this._states.tags[e.name]=this._states.tags[e.name].filter((i,r)=>this._states.tags[e.name].indexOf(i)===r))}_suppress(e){e.forEach(i=>{this._supress[i]=!0})}_release(e){e.forEach(i=>{delete this._supress[i]})}pointer(e){const i={x:null,y:null};return(e=(e=e.originalEvent||e||window.event).touches&&e.touches.length?e.touches[0]:e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e).pageX?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i}_isNumeric(e){return!isNaN(parseFloat(e))}_isNumberOrBoolean(e){return this._isNumeric(e)||"boolean"==typeof e}_isNumberOrString(e){return this._isNumeric(e)||"string"==typeof e}_isStringOrBoolean(e){return"string"==typeof e||"boolean"==typeof e}difference(e,i){return null===e||null===i?{x:0,y:0}:{x:e.x-i.x,y:e.y-i.y}}static \u0275fac=function(i){return new(i||n)(De(dT))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),WF=(()=>{class n{carouselService;navSubscription;_initialized=!1;_pages=[];_navData={disabled:!1,prev:{disabled:!1,htmlText:""},next:{disabled:!1,htmlText:""}};_dotsData={disabled:!1,dots:[]};constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.navSubscription.unsubscribe()}spyDataStreams(){const s=x(this.carouselService.getInitializedState().pipe(Ht(o=>{this.initialize(),this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})),this.carouselService.getChangedState().pipe(hr(o=>"position"===o.property.name),Ht(o=>{this.update()})),this.carouselService.getRefreshedState().pipe(Ht(()=>{this._updateNavPages(),this.draw(),this.update(),this.carouselService.sendChanges()})));this.navSubscription=s.subscribe(()=>{})}initialize(){this._navData.disabled=!0,this._navData.prev.htmlText=this.carouselService.settings.navText[0],this._navData.next.htmlText=this.carouselService.settings.navText[1],this._dotsData.disabled=!0,this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}_updateNavPages(){let e,i,r;const s=this.carouselService.clones().length/2,o=s+this.carouselService.items().length,a=this.carouselService.maximum(!0),l=[],c=this.carouselService.settings;let p=c.center||c.autoWidth||c.dotsData?1:Math.floor(Number(c.dotsEach))||Math.floor(c.items);if(p=+p,"page"!==c.slideBy&&(c.slideBy=Math.min(+c.slideBy,c.items)),c.dots||"page"===c.slideBy)for(e=s,i=0,r=0;e<o;e++){if(i>=p||0===i){if(l.push({start:Math.min(a,e-s),end:e-s+p-1}),Math.min(a,e-s)===a)break;i=0,++r}i+=this.carouselService.mergers(this.carouselService.relative(e))}this._pages=l}draw(){let e;const i=this.carouselService.settings,r=this.carouselService.items(),s=r.length<=i.items;if(this._navData.disabled=!i.nav||s,this._dotsData.disabled=!i.dots||s,i.dots)if(e=this._pages.length-this._dotsData.dots.length,i.dotsData&&0!==e)this._dotsData.dots=[],r.forEach(o=>{this._dotsData.dots.push({active:!1,id:`dot-${o.id}`,innerContent:o.dotContent,showInnerContent:!0})});else if(e>0){const o=this._dotsData.dots.length>0?this._dotsData.dots.length:0;for(let a=0;a<e;a++)this._dotsData.dots.push({active:!1,id:`dot-${a+o}`,innerContent:"",showInnerContent:!1})}else e<0&&this._dotsData.dots.splice(e,Math.abs(e));this.carouselService.navData=this._navData,this.carouselService.dotsData=this._dotsData}update(){this._updateNavButtons(),this._updateDots()}_updateNavButtons(){const e=this.carouselService.settings,i=e.loop||e.rewind,r=this.carouselService.relative(this.carouselService.current());e.nav&&(this._navData.prev.disabled=!i&&r<=this.carouselService.minimum(!0),this._navData.next.disabled=!i&&r>=this.carouselService.maximum(!0)),this.carouselService.navData=this._navData}_updateDots(){let e;this.carouselService.settings.dots&&(this._dotsData.dots.forEach(i=>{!0===i.active&&(i.active=!1)}),e=this._current(),this._dotsData.dots.length&&(this._dotsData.dots[e].active=!0),this.carouselService.dotsData=this._dotsData)}_current(){const e=this.carouselService.relative(this.carouselService.current());let i;const r=this._pages.filter((s,o)=>s.start<=e&&s.end>=e).pop();return i=this._pages.findIndex(s=>s.start===r.start&&s.end===r.end),i}_getPosition(e){let i,r;const s=this.carouselService.settings;return"page"===s.slideBy?(i=this._current(),r=this._pages.length,e?++i:--i,i=this._pages[(i%r+r)%r].start):(i=this.carouselService.relative(this.carouselService.current()),r=this.carouselService.items().length,e?i+=+s.slideBy:i-=+s.slideBy),i}next(e){this.carouselService.to(this._getPosition(!0),e)}prev(e){this.carouselService.to(this._getPosition(!1),e)}to(e,i,r){let s;!r&&this._pages.length?(s=this._pages.length,this.carouselService.to(this._pages[(e%s+s)%s].start,i)):this.carouselService.to(e,i)}moveByDot(e){const i=this._dotsData.dots.findIndex(r=>e===r.id);this.to(i,this.carouselService.settings.dotsSpeed)}toSlideById(e){const i=this.carouselService.slidesData.findIndex(r=>r.id===e&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}static \u0275fac=function(i){return new(i||n)(De(ka))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const hT=new Ue("WindowToken");class fT{get nativeWindow(){throw new Error("Not implemented.")}}let rJ=(()=>{class n extends fT{constructor(){super()}get nativeWindow(){return window}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const oJ=[{provide:fT,useClass:rJ},{provide:hT,useFactory:function sJ(n,t){return Wo(t)?n.nativeWindow:{setTimeout:(i,r)=>{},clearTimeout:i=>{}}},deps:[fT,nr]}],pT=new Ue("DocumentToken");class gT{get nativeDocument(){throw new Error("Not implemented.")}}let aJ=(()=>{class n extends gT{constructor(){super()}get nativeDocument(){return document}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const cJ=[{provide:gT,useClass:aJ},{provide:pT,useFactory:function lJ(n,t){return Wo(t)?n.nativeDocument:{hidden:!1,visibilityState:"visible"}},deps:[gT,nr]}];let qF=(()=>{class n{carouselService;ngZone;autoplaySubscription;_timeout=null;_paused=!1;_isArtificialAutoplayTimeout;_isAutoplayStopped=!1;get isAutoplayStopped(){return this._isAutoplayStopped}set isAutoplayStopped(e){this._isAutoplayStopped=e}winRef;docRef;constructor(e,i,r,s){this.carouselService=e,this.ngZone=s,this.winRef=i,this.docRef=r,this.spyDataStreams()}ngOnDestroy(){this.autoplaySubscription.unsubscribe()}spyDataStreams(){const s=x(this.carouselService.getInitializedState().pipe(Ht(()=>{this.carouselService.settings.autoplay&&this.play()})),this.carouselService.getChangedState().pipe(Ht(o=>{this._handleChangeObservable(o)})),this.carouselService.getResizedState().pipe(Ht(()=>{this.carouselService.settings.autoplay&&!this._isAutoplayStopped?this.play():this.stop()})));this.autoplaySubscription=s.subscribe(()=>{})}play(e,i){this._paused&&(this._paused=!1,this._setAutoPlayInterval(this.carouselService.settings.autoplayMouseleaveTimeout)),!this.carouselService.is("rotating")&&(this.carouselService.enter("rotating"),this._setAutoPlayInterval())}_getNextTimeout(e,i){return this._timeout&&this.winRef.clearTimeout(this._timeout),this._isArtificialAutoplayTimeout=!!e,this.ngZone.runOutsideAngular(()=>this.winRef.setTimeout(()=>{this.ngZone.run(()=>{this._paused||this.carouselService.is("busy")||this.carouselService.is("interacting")||this.docRef.hidden||this.carouselService.next(i||this.carouselService.settings.autoplaySpeed)})},e||this.carouselService.settings.autoplayTimeout))}_setAutoPlayInterval(e){this._timeout=this._getNextTimeout(e)}stop(){this.carouselService.is("rotating")&&(this._paused=!0,this.winRef.clearTimeout(this._timeout),this.carouselService.leave("rotating"))}pause(){this.carouselService.is("rotating")&&(this._paused=!0)}_handleChangeObservable(e){"settings"===e.property.name?this.carouselService.settings.autoplay?this.play():this.stop():"position"===e.property.name&&this.carouselService.settings.autoplay&&this._setAutoPlayInterval()}_playAfterTranslated(){V("translated").pipe(Fe(e=>this.carouselService.getTranslatedState()),Io(),hr(()=>this._isArtificialAutoplayTimeout),Ht(()=>this._setAutoPlayInterval())).subscribe(()=>{})}startPausing(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&this.pause()}startPlayingMouseLeave(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}startPlayingTouchEnd(){this.carouselService.settings.autoplayHoverPause&&this.carouselService.is("rotating")&&(this.play(),this._playAfterTranslated())}static \u0275fac=function(i){return new(i||n)(De(ka),De(hT),De(pT),De(qt))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),GF=(()=>{class n{carouselService;lazyLoadSubscription;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.lazyLoadSubscription.unsubscribe()}spyDataStreams(){const s=x(this.carouselService.getInitializedState().pipe(Ht(()=>{const o=this.carouselService.settings&&!this.carouselService.settings.lazyLoad;this.carouselService.slidesData.forEach(a=>a.load=!!o)})),this.carouselService.getChangeState(),this.carouselService.getResizedState()).pipe(Ht(o=>this._defineLazyLoadSlides(o)));this.lazyLoadSubscription=s.subscribe(()=>{})}_defineLazyLoadSlides(e){if(this.carouselService.settings&&this.carouselService.settings.lazyLoad&&(e.property&&"position"===e.property.name||"initialized"===e||"resized"===e)){const i=this.carouselService.settings,r=this.carouselService.clones().length;let s=i.center&&Math.ceil(i.items/2)||i.items,o=i.center&&-1*s||0,a=(e.property&&void 0!==e.property.value?e.property.value:this.carouselService.current())+o;for(i.lazyLoadEager>0&&(s+=i.lazyLoadEager,i.loop&&(a-=i.lazyLoadEager,s++));o++<s;)this._load(r/2+this.carouselService.relative(a)),r&&this.carouselService.clones(this.carouselService.relative(a)).forEach(l=>this._load(l)),a++}}_load(e){this.carouselService.slidesData[e].load||(this.carouselService.slidesData[e].load=!0)}static \u0275fac=function(i){return new(i||n)(De(ka))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),mT=(()=>{class n{carouselService;animateSubscription;swapping=!0;previous=void 0;next=void 0;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.animateSubscription.unsubscribe()}spyDataStreams(){const e=this.carouselService.getChangeState().pipe(Ht(c=>{"position"===c.property.name&&(this.previous=this.carouselService.current(),this.next=c.property.value)})),o=x(this.carouselService.getDragState(),this.carouselService.getDraggedState(),this.carouselService.getTranslatedState()).pipe(Ht(c=>this.swapping="translated"===c)),l=x(e,this.carouselService.getTranslateState().pipe(Ht(c=>{this.swapping&&(this.carouselService._options.animateOut||this.carouselService._options.animateIn)&&this._swap()})),o).pipe();this.animateSubscription=l.subscribe(()=>{})}_swap(){if(1!==this.carouselService.settings.items)return;let e;this.carouselService.speed(0);const i=this.carouselService.slidesData[this.previous],r=this.carouselService.slidesData[this.next],s=this.carouselService.settings.animateIn,o=this.carouselService.settings.animateOut;this.carouselService.current()!==this.previous&&(o&&(e=+this.carouselService.coordinates(this.previous)-+this.carouselService.coordinates(this.next),this.carouselService.slidesData.forEach(a=>{a.id===i.id&&(a.left=`${e}px`,a.isAnimated=!0,a.isDefAnimatedOut=!0,a.isCustomAnimatedOut=!0)})),s&&this.carouselService.slidesData.forEach(a=>{a.id===r.id&&(a.isAnimated=!0,a.isDefAnimatedIn=!0,a.isCustomAnimatedIn=!0)}))}clear(e){this.carouselService.slidesData.forEach(i=>{i.id===e&&(i.left="",i.isAnimated=!1,i.isDefAnimatedOut=!1,i.isCustomAnimatedOut=!1,i.isDefAnimatedIn=!1,i.isCustomAnimatedIn=!1,i.classes=this.carouselService.setCurSlideClasses(i))}),this.carouselService.onTransitionEnd()}static \u0275fac=function(i){return new(i||n)(De(ka))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),KF=(()=>{class n{carouselService;autoHeightSubscription;constructor(e){this.carouselService=e,this.spyDataStreams()}ngOnDestroy(){this.autoHeightSubscription.unsubscribe()}spyDataStreams(){const s=x(this.carouselService.getInitializedState().pipe(Ht(o=>{this.carouselService.settings.autoHeight?this.update():this.carouselService.slidesData.forEach(a=>a.heightState="full")})),this.carouselService.getChangedState().pipe(Ht(o=>{this.carouselService.settings.autoHeight&&"position"===o.property.name&&this.update()})),this.carouselService.getRefreshedState().pipe(Ht(o=>{this.carouselService.settings.autoHeight&&this.update()})));this.autoHeightSubscription=s.subscribe(()=>{})}update(){const e=this.carouselService.settings.items;let i=this.carouselService.current(),r=i+e;this.carouselService.settings.center&&(i=e%2==1?i-(e-1)/2:i-e/2,r=e%2==1?i+e:i+e+1),this.carouselService.slidesData.forEach((s,o)=>{s.heightState=o>=i&&o<r?"full":"nulled"})}static \u0275fac=function(i){return new(i||n)(De(ka))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),ZF=(()=>{class n{carouselService;route;router;hashSubscription;currentHashFragment;constructor(e,i,r){this.carouselService=e,this.route=i,this.router=r,this.spyDataStreams(),this.route||(this.route={fragment:V("no route").pipe(Go(1))}),this.router||(this.router={navigate:(s,o)=>{}})}ngOnDestroy(){this.hashSubscription.unsubscribe()}spyDataStreams(){const r=x(this.carouselService.getInitializedState().pipe(Ht(()=>this.listenToRoute())),this.carouselService.getChangedState().pipe(Ht(s=>{if(this.carouselService.settings.URLhashListener&&"position"===s.property.name){const o=this.carouselService.current(),a=this.carouselService.slidesData[o].hashFragment;if(!a||a===this.currentHashFragment)return;this.router.navigate(["./"],{fragment:a,relativeTo:this.route})}})));this.hashSubscription=r.subscribe(()=>{})}rewind(e){const i=this.carouselService.slidesData.findIndex(r=>r.hashFragment===e&&!1===r.isCloned);-1===i||i===this.carouselService.current()||this.carouselService.to(this.carouselService.relative(i),!1)}listenToRoute(){this.route.fragment.pipe(UF("URLHash"===this.carouselService.settings.startPosition?0:2)).subscribe(i=>{this.currentHashFragment=i,this.rewind(i)})}static \u0275fac=function(i){return new(i||n)(De(ka),De(eu,8),De(Ds,8))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),uJ=0,QF=(()=>{class n{tplRef;id="owl-slide-"+uJ++;_dataMerge=1;set dataMerge(e){this._dataMerge=this.isNumeric(e)?e:1}get dataMerge(){return this._dataMerge}width=0;dotContent="";dataHash="";constructor(e){this.tplRef=e}isNumeric(e){return!isNaN(parseFloat(e))}static \u0275fac=function(i){return new(i||n)(ie(Gs))};static \u0275dir=dt({type:n,selectors:[["ng-template","carouselSlide",""]],inputs:{id:"id",dataMerge:"dataMerge",width:"width",dotContent:"dotContent",dataHash:"dataHash"}})}return n})(),YF=(()=>{class n{resizeObservable$;get onResize$(){return this.resizeObservable$}constructor(e,i){this.resizeObservable$=Wo(i)?cT(e,"resize"):(new oe).asObservable()}static \u0275fac=function(i){return new(i||n)(De(hT),De(nr))};static \u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})(),dJ=(()=>{class n{zone;el;renderer;carouselService;animateService;owlDraggable;stageData;slidesData;listenerMouseMove;listenerTouchMove;listenerOneMouseMove;listenerOneTouchMove;listenerMouseUp;listenerTouchEnd;listenerOneClick;listenerATag;_drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1};_oneDragMove$=new oe;_oneMoveSubsription;preparePublicSlide=e=>{const i={...e};return delete i.tplRef,i};constructor(e,i,r,s,o){this.zone=e,this.el=i,this.renderer=r,this.carouselService=s,this.animateService=o}onMouseDown(e){this.owlDraggable.isMouseDragable&&this._onDragStart(e)}onTouchStart(e){if(e.targetTouches.length>=2)return!1;this.owlDraggable.isTouchDragable&&this._onDragStart(e)}onTouchCancel(e){this._onDragEnd(e)}onDragStart(){if(this.owlDraggable.isMouseDragable)return!1}onSelectStart(){if(this.owlDraggable.isMouseDragable)return!1}ngOnInit(){this._oneMoveSubsription=this._oneDragMove$.pipe(Io()).subscribe(()=>{this._sendChanges()})}ngOnDestroy(){this._oneMoveSubsription.unsubscribe()}bindOneMouseTouchMove=e=>{this._oneMouseTouchMove(e)};bindOnDragMove=e=>{this._onDragMove(e)};bindOnDragEnd=e=>{this._onDragEnd(e)};_onDragStart(e){let i=null;3!==e.which&&(i=this._prepareDragging(e),this._drag.time=(new Date).getTime(),this._drag.target=e.target,this._drag.stage.start=i,this._drag.stage.current=i,this._drag.pointer=this._pointer(e),this.listenerMouseUp=this.renderer.listen(document,"mouseup",this.bindOnDragEnd),this.listenerTouchEnd=this.renderer.listen(document,"touchend",this.bindOnDragEnd),this.zone.runOutsideAngular(()=>{this.listenerOneMouseMove=this.renderer.listen(document,"mousemove",this.bindOneMouseTouchMove),this.listenerOneTouchMove=this.renderer.listen(document,"touchmove",this.bindOneMouseTouchMove)}))}_oneMouseTouchMove(e){const i=this._difference(this._drag.pointer,this._pointer(e));this.listenerATag&&this.listenerATag(),!(Math.abs(i.x)<3&&Math.abs(i.y)<3&&this._is("valid"))&&(Math.abs(i.x)<3&&Math.abs(i.x)<Math.abs(i.y)&&this._is("valid")||(this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving=!0,this.blockClickAnchorInDragging(e),this.listenerMouseMove=this.renderer.listen(document,"mousemove",this.bindOnDragMove),this.listenerTouchMove=this.renderer.listen(document,"touchmove",this.bindOnDragMove),e.preventDefault(),this._enterDragging(),this._oneDragMove$.next(e)))}blockClickAnchorInDragging(e){let i=e.target;for(;i&&!(i instanceof HTMLAnchorElement);)i=i.parentElement;i instanceof HTMLAnchorElement&&(this.listenerATag=this.renderer.listen(i,"click",()=>!1))}_onDragMove(e){let i;const r=this.carouselService.defineNewCoordsDrag(e,this._drag);!1!==r&&(i=r,e.preventDefault(),this._drag.stage.current=i,this._animate(i.x-this._drag.stage.start.x))}_animate(e){this.renderer.setStyle(this.el.nativeElement.children[0],"transform",`translate3d(${e}px,0px,0px`),this.renderer.setStyle(this.el.nativeElement.children[0],"transition","0s")}_onDragEnd(e){this.carouselService.owlDOMData.isGrab=!1,this.listenerOneMouseMove(),this.listenerOneTouchMove(),this._drag.moving&&(this.renderer.setStyle(this.el.nativeElement.children[0],"transform",""),this.renderer.setStyle(this.el.nativeElement.children[0],"transition",this.carouselService.speed(+this.carouselService.settings.dragEndSpeed||this.carouselService.settings.smartSpeed)/1e3+"s"),this._finishDragging(e),this.listenerMouseMove(),this.listenerTouchMove()),this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null,active:!1,moving:!1},this.listenerMouseUp(),this.listenerTouchEnd()}_prepareDragging(e){return this.carouselService.prepareDragging(e)}_oneClickHandler=()=>{this.listenerOneClick=this.renderer.listen(this._drag.target,"click",()=>!1),this.listenerOneClick()};_finishDragging(e){this.carouselService.finishDragging(e,this._drag,this._oneClickHandler)}_pointer(e){return this.carouselService.pointer(e)}_difference(e,i){return this.carouselService.difference(e,i)}_is(e){return this.carouselService.is(e)}_enter(e){this.carouselService.enter(e)}_sendChanges(){this.carouselService.sendChanges()}onTransitionEnd(){this.carouselService.onTransitionEnd()}_enterDragging(){this.carouselService.enterDragging()}clear(e){this.animateService.clear(e)}static \u0275fac=function(i){return new(i||n)(ie(qt),ie(Gn),ie(Sr),ie(ka),ie(mT))};static \u0275cmp=pn({type:n,selectors:[["owl-stage"]],hostBindings:function(i,r){1&i&&Dt("mousedown",function(o){return r.onMouseDown(o)})("touchstart",function(o){return r.onTouchStart(o)})("touchcancel",function(o){return r.onTouchCancel(o)})("dragstart",function(){return r.onDragStart()})("selectstart",function(){return r.onSelectStart()})},inputs:{owlDraggable:"owlDraggable",stageData:"stageData",slidesData:"slidesData"},decls:3,vars:8,consts:[[1,"owl-stage",3,"ngStyle","transitionend"],[4,"ngFor","ngForOf"],[1,"owl-item",3,"ngClass","ngStyle","animationend"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(me(0,"div")(1,"div",0),Dt("transitionend",function(){return r.onTransitionEnd()}),Ee(2,KY,3,9,"ng-container",1),_e()()),2&i&&(Te(1),pe("ngStyle",uE(2,ZY,r.stageData.width+"px",r.stageData.transform,r.stageData.transition,r.stageData.paddingL?r.stageData.paddingL+"px":"",r.stageData.paddingR?r.stageData.paddingR+"px":"")),Te(1),pe("ngForOf",r.slidesData))},dependencies:[Ra,qc,_o,Il,Gc],encapsulation:2,data:{animation:[$N("autoHeight",[qN("nulled",ah({height:0})),qN("full",ah({height:"*"})),av("full => nulled",[ov("700ms 350ms")]),av("nulled => full",[ov(350)])])]}})}return n})(),hJ=(()=>{class n{el;resizeService;carouselService;navigationService;autoplayService;lazyLoadService;animateService;autoHeightService;hashService;logger;changeDetectorRef;slides;translated=new at;dragging=new at;change=new at;changed=new at;initialized=new at;carouselWindowWidth;resizeSubscription;_allObservSubscription;_slidesChangesSubscription;owlDOMData;stageData;slidesData=[];navData;dotsData;slidesOutputData;carouselLoaded=!1;options;prevOptions;_viewCurSettings$;_translatedCarousel$;_draggingCarousel$;_changeCarousel$;_changedCarousel$;_initializedCarousel$;_carouselMerge$;docRef;constructor(e,i,r,s,o,a,l,c,p,_,b,T){this.el=e,this.resizeService=i,this.carouselService=r,this.navigationService=s,this.autoplayService=o,this.lazyLoadService=a,this.animateService=l,this.autoHeightService=c,this.hashService=p,this.logger=_,this.changeDetectorRef=b,this.docRef=T}onVisibilityChange(e){if(this.carouselService.settings.autoplay)switch(this.docRef.visibilityState){case"visible":!this.autoplayService.isAutoplayStopped&&this.autoplayService.play();break;case"hidden":this.autoplayService.pause()}}ngOnInit(){this.spyDataStreams(),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}ngOnChanges(){this.prevOptions!==this.options&&(this.prevOptions&&this.slides?.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray())):this.prevOptions&&!this.slides?.toArray().length?(this.carouselLoaded=!1,this.logger.log("There are no slides to show. So the carousel won't be re-rendered")):this.carouselLoaded=!1,this.prevOptions=this.options)}ngAfterContentInit(){this.slides.toArray().length?(this.carouselService.setup(this.carouselWindowWidth,this.slides.toArray(),this.options),this.carouselService.initialize(this.slides.toArray()),this._winResizeWatcher()):this.logger.log("There are no slides to show. So the carousel won't be rendered"),this._slidesChangesSubscription=this.slides.changes.pipe(Ht(e=>{this.carouselService.setup(this.carouselWindowWidth,e.toArray(),this.options),this.carouselService.initialize(e.toArray()),e.toArray().length||(this.carouselLoaded=!1),e.toArray().length&&!this.resizeSubscription&&this._winResizeWatcher()})).subscribe(()=>{})}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe(),this._slidesChangesSubscription&&this._slidesChangesSubscription.unsubscribe(),this._allObservSubscription&&this._allObservSubscription.unsubscribe()}spyDataStreams(){this._viewCurSettings$=this.carouselService.getViewCurSettings().pipe(Ht(e=>{this.owlDOMData=e.owlDOMData,this.stageData=e.stageData,this.slidesData=e.slidesData,this.carouselLoaded||(this.carouselLoaded=!0),this.navData=e.navData,this.dotsData=e.dotsData,this.changeDetectorRef.markForCheck()})),this._initializedCarousel$=this.carouselService.getInitializedState().pipe(Ht(()=>{this.gatherTranslatedData(),this.initialized.emit(this.slidesOutputData)})),this._translatedCarousel$=this.carouselService.getTranslatedState().pipe(Ht(()=>{this.gatherTranslatedData(),this.translated.emit(this.slidesOutputData)})),this._changeCarousel$=this.carouselService.getChangeState().pipe(Ht(()=>{this.gatherTranslatedData(),this.change.emit(this.slidesOutputData)})),this._changedCarousel$=this.carouselService.getChangeState().pipe(Fe(e=>x(V(e).pipe(hr(()=>"position"===e.property.name),Fe(()=>O(this.slidesData)),UF(e.property.value),Go(this.carouselService.settings.items),$e(r=>{const s=this.carouselService.clonedIdPrefix,o=r.id.indexOf(s)>=0?r.id.slice(s.length):r.id;return{...r,id:o,isActive:!0}}),function LY(){return ae((n,t)=>{(function kY(n,t){return ae(kk(n,t,arguments.length>=2,!1,!0))})(FY,[])(n).subscribe(t)})}(),$e(r=>({slides:r,startPosition:this.carouselService.relative(e.property.value)}))))),Ht(e=>{this.gatherTranslatedData(),this.changed.emit(e.slides.length?e:this.slidesOutputData)})),this._draggingCarousel$=this.carouselService.getDragState().pipe(Ht(()=>{this.gatherTranslatedData(),this.dragging.emit({dragging:!0,data:this.slidesOutputData})}),Fe(()=>this.carouselService.getDraggedState().pipe($e(()=>!!this.carouselService.is("animating")))),Fe(e=>e?this.carouselService.getTranslatedState().pipe(Io()):V("not animating")),Ht(()=>{this.dragging.emit({dragging:!1,data:this.slidesOutputData})})),this._carouselMerge$=x(this._viewCurSettings$,this._translatedCarousel$,this._draggingCarousel$,this._changeCarousel$,this._changedCarousel$,this._initializedCarousel$),this._allObservSubscription=this._carouselMerge$.subscribe(()=>{})}_winResizeWatcher(){Object.keys(this.carouselService._options.responsive).length&&(this.resizeSubscription=this.resizeService.onResize$.pipe(hr(()=>this.carouselWindowWidth!==this.el.nativeElement.querySelector(".owl-carousel").clientWidth),function zY(n,t=Wv){const e=function jY(n=0,t,e=BY){let i=-1;return null!=t&&(yn(t)?e=t:i=t),new bt(r=>{let s=function HY(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,t);return zF(()=>e)}(this.carouselService.settings.responsiveRefreshRate)).subscribe(()=>{this.carouselService.onResize(this.el.nativeElement.querySelector(".owl-carousel").clientWidth),this.carouselWindowWidth=this.el.nativeElement.querySelector(".owl-carousel").clientWidth}))}onTransitionEnd(){this.carouselService.onTransitionEnd()}next(){this.carouselLoaded&&this.navigationService.next(this.carouselService.settings.navSpeed)}prev(){this.carouselLoaded&&this.navigationService.prev(this.carouselService.settings.navSpeed)}moveByDot(e){this.carouselLoaded&&this.navigationService.moveByDot(e)}to(e){this.carouselLoaded&&this.navigationService.toSlideById(e)}gatherTranslatedData(){let e;const i=this.carouselService.clonedIdPrefix,r=this.slidesData.filter(s=>!0===s.isActive).map(s=>({id:s.id.indexOf(i)>=0?s.id.slice(i.length):s.id,width:s.width,marginL:s.marginL,marginR:s.marginR,center:s.isCentered}));e=this.carouselService.relative(this.carouselService.current()),this.slidesOutputData={startPosition:e,slides:r}}startPausing(){this.autoplayService.startPausing()}startPlayML(){this.autoplayService.startPlayingMouseLeave()}startPlayTE(){this.autoplayService.startPlayingTouchEnd()}stopAutoplay(){this.autoplayService.isAutoplayStopped=!0,this.autoplayService.stop()}startAutoplay(){this.autoplayService.isAutoplayStopped=!1,this.autoplayService.play()}static \u0275fac=function(i){return new(i||n)(ie(Gn),ie(YF),ie(ka),ie(WF),ie(qF),ie(GF),ie(mT),ie(KF),ie(ZF),ie(dT),ie(Ks),ie(pT))};static \u0275cmp=pn({type:n,selectors:[["owl-carousel-o"]],contentQueries:function(i,r,s){if(1&i&&Ta(s,QF,4),2&i){let o;Rn(o=Pn())&&(r.slides=o)}},hostBindings:function(i,r){1&i&&Dt("visibilitychange",function(o){return r.onVisibilityChange(o)},0,A0)},inputs:{options:"options"},outputs:{translated:"translated",dragging:"dragging",change:"change",changed:"changed",initialized:"initialized"},features:[Bn([WF,qF,ka,GF,mT,KF,ZF]),Ji],decls:4,vars:9,consts:[[1,"owl-carousel","owl-theme",3,"ngClass","mouseover","mouseleave","touchstart","touchend"],["owlCarousel",""],["class","owl-stage-outer",4,"ngIf"],[4,"ngIf"],[1,"owl-stage-outer"],[3,"owlDraggable","stageData","slidesData"],[1,"owl-nav",3,"ngClass"],[1,"owl-prev",3,"ngClass","innerHTML","click"],[1,"owl-next",3,"ngClass","innerHTML","click"],[1,"owl-dots",3,"ngClass"],["class","owl-dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"owl-dot",3,"ngClass","click"],[3,"innerHTML"]],template:function(i,r){1&i&&(me(0,"div",0,1),Dt("mouseover",function(){return r.startPausing()})("mouseleave",function(){return r.startPlayML()})("touchstart",function(){return r.startPausing()})("touchend",function(){return r.startPlayTE()}),Ee(2,YY,2,6,"div",2),Ee(3,eJ,6,15,"ng-container",3),_e()),2&i&&(pe("ngClass",uE(3,tJ,null==r.owlDOMData?null:r.owlDOMData.rtl,null==r.owlDOMData?null:r.owlDOMData.isLoaded,null==r.owlDOMData?null:r.owlDOMData.isResponsive,null==r.owlDOMData?null:r.owlDOMData.isMouseDragable,null==r.owlDOMData?null:r.owlDOMData.isGrab)),Te(2),pe("ngIf",r.carouselLoaded),Te(1),pe("ngIf",r.slides.toArray().length))},dependencies:[Ra,qc,_o,dJ],styles:[".owl-theme[_ngcontent-%COMP%]{display:block}"],changeDetection:0})}return n})(),fJ=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({providers:[oJ,YF,cJ,dT],imports:[cs]})}return n})();function _T(){return _T=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},_T.apply(this,arguments)}var pJ={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(n){},onComplete:function(n){},preStringTyped:function(n,t){},onStringTyped:function(n,t){},onLastStringBackspaced:function(n){},onTypingPaused:function(n,t){},onTypingResumed:function(n,t){},onReset:function(n){},onStop:function(n,t){},onStart:function(n,t){},onDestroy:function(n){}},gJ=new(function(){function n(){}var t=n.prototype;return t.load=function(e,i,r){if(e.el="string"==typeof r?document.querySelector(r):r,e.options=_T({},pJ,i),e.isInput="input"===e.el.tagName.toLowerCase(),e.attr=e.options.attr,e.bindInputFocusEvents=e.options.bindInputFocusEvents,e.showCursor=!e.isInput&&e.options.showCursor,e.cursorChar=e.options.cursorChar,e.cursorBlinking=!0,e.elContent=e.attr?e.el.getAttribute(e.attr):e.el.textContent,e.contentType=e.options.contentType,e.typeSpeed=e.options.typeSpeed,e.startDelay=e.options.startDelay,e.backSpeed=e.options.backSpeed,e.smartBackspace=e.options.smartBackspace,e.backDelay=e.options.backDelay,e.fadeOut=e.options.fadeOut,e.fadeOutClass=e.options.fadeOutClass,e.fadeOutDelay=e.options.fadeOutDelay,e.isPaused=!1,e.strings=e.options.strings.map(function(c){return c.trim()}),e.stringsElement="string"==typeof e.options.stringsElement?document.querySelector(e.options.stringsElement):e.options.stringsElement,e.stringsElement){e.strings=[],e.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var s=Array.prototype.slice.apply(e.stringsElement.children),o=s.length;if(o)for(var a=0;a<o;a+=1)e.strings.push(s[a].innerHTML.trim())}for(var l in e.strPos=0,e.currentElContent=this.getCurrentElContent(e),e.currentElContent&&e.currentElContent.length>0&&(e.strPos=e.currentElContent.length-1,e.strings.unshift(e.currentElContent)),e.sequence=[],e.strings)e.sequence[l]=l;e.arrayPos=0,e.stopNum=0,e.loop=e.options.loop,e.loopCount=e.options.loopCount,e.curLoop=0,e.shuffle=e.options.shuffle,e.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},e.typingComplete=!1,e.autoInsertCss=e.options.autoInsertCss,e.autoInsertCss&&(this.appendCursorAnimationCss(e),this.appendFadeOutAnimationCss(e))},t.getCurrentElContent=function(e){return e.attr?e.el.getAttribute(e.attr):e.isInput?e.el.value:"html"===e.contentType?e.el.innerHTML:e.el.textContent},t.appendCursorAnimationCss=function(e){var i="data-typed-js-cursor-css";if(e.showCursor&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML="\n        .typed-cursor{\n          opacity: 1;\n        }\n        .typed-cursor.typed-cursor--blink{\n          animation: typedjsBlink 0.7s infinite;\n          -webkit-animation: typedjsBlink 0.7s infinite;\n                  animation: typedjsBlink 0.7s infinite;\n        }\n        @keyframes typedjsBlink{\n          50% { opacity: 0.0; }\n        }\n        @-webkit-keyframes typedjsBlink{\n          0% { opacity: 1; }\n          50% { opacity: 0.0; }\n          100% { opacity: 1; }\n        }\n      ",document.body.appendChild(r)}},t.appendFadeOutAnimationCss=function(e){var i="data-typed-fadeout-js-css";if(e.fadeOut&&!document.querySelector("["+i+"]")){var r=document.createElement("style");r.setAttribute(i,"true"),r.innerHTML="\n        .typed-fade-out{\n          opacity: 0;\n          transition: opacity .25s;\n        }\n        .typed-cursor.typed-cursor--blink.typed-fade-out{\n          -webkit-animation: 0;\n          animation: 0;\n        }\n      ",document.body.appendChild(r)}},n}()),JF=new(function(){function n(){}var t=n.prototype;return t.typeHtmlChars=function(e,i,r){if("html"!==r.contentType)return i;var s=e.substring(i).charAt(0);if("<"===s||"&"===s){var o;for(o="<"===s?">":";";e.substring(i+1).charAt(0)!==o&&!(1+ ++i>e.length););i++}return i},t.backSpaceHtmlChars=function(e,i,r){if("html"!==r.contentType)return i;var s=e.substring(i).charAt(0);if(">"===s||";"===s){var o;for(o=">"===s?"<":"&";e.substring(i-1).charAt(0)!==o&&!(--i<0););i--}return i},n}()),mJ=function(){function n(e,i){gJ.load(this,i,e),this.begin()}var t=n.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(e){void 0===e&&(e=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,e&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var e=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){0===e.strPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],e.strPos):e.backspace(e.strings[e.sequence[e.arrayPos]],e.strPos)},this.startDelay)},t.typewrite=function(e,i){var r=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var s=this.humanizer(this.typeSpeed),o=1;!0!==this.pause.status?this.timeout=setTimeout(function(){i=JF.typeHtmlChars(e,i,r);var a=0,l=e.substring(i);if("^"===l.charAt(0)&&/^\^\d+/.test(l)){var c=1;c+=(l=/\d+/.exec(l)[0]).length,a=parseInt(l),r.temporaryPause=!0,r.options.onTypingPaused(r.arrayPos,r),e=e.substring(0,i)+e.substring(i+c),r.toggleBlinking(!0)}if("`"===l.charAt(0)){for(;"`"!==e.substring(i+o).charAt(0)&&(o++,!(i+o>e.length)););var p=e.substring(0,i),_=e.substring(p.length+1,i+o),b=e.substring(i+o+1);e=p+_+b,o--}r.timeout=setTimeout(function(){r.toggleBlinking(!1),i>=e.length?r.doneTyping(e,i):r.keepTyping(e,i,o),r.temporaryPause&&(r.temporaryPause=!1,r.options.onTypingResumed(r.arrayPos,r))},a)},s):this.setPauseStatus(e,i,!0)},t.keepTyping=function(e,i,r){0===i&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var s=e.substring(0,i+=r);this.replaceText(s),this.typewrite(e,i)},t.doneTyping=function(e,i){var r=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),!1===this.loop||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){r.backspace(e,i)},this.backDelay))},t.backspace=function(e,i){var r=this;if(!0!==this.pause.status){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var s=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=JF.backSpaceHtmlChars(e,i,r);var o=e.substring(0,i);if(r.replaceText(o),r.smartBackspace){var a=r.strings[r.arrayPos+1];r.stopNum=a&&o===a.substring(0,i)?i:0}i>r.stopNum?(i--,r.backspace(e,i)):i<=r.stopNum&&(r.arrayPos++,r.arrayPos===r.strings.length?(r.arrayPos=0,r.options.onLastStringBackspaced(),r.shuffleStringsIfNeeded(),r.begin()):r.typewrite(r.strings[r.sequence[r.arrayPos]],i))},s)}else this.setPauseStatus(e,i,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(e,i,r){this.pause.typewrite=r,this.pause.curString=e,this.pause.curStrPos=i},t.toggleBlinking=function(e){this.cursor&&(this.pause.status||this.cursorBlinking!==e&&(this.cursorBlinking=e,e?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(e){return Math.round(Math.random()*e/2)+e},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},t.initFadeOut=function(){var e=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){e.arrayPos++,e.replaceText(""),e.strings.length>e.arrayPos?e.typewrite(e.strings[e.sequence[e.arrayPos]],0):(e.typewrite(e.strings[0],0),e.arrayPos=0)},this.fadeOutDelay)},t.replaceText=function(e){this.attr?this.el.setAttribute(this.attr,e):this.isInput?this.el.value=e:"html"===this.contentType?this.el.innerHTML=e:this.el.textContent=e},t.bindFocusEvents=function(){var e=this;this.isInput&&(this.el.addEventListener("focus",function(i){e.stop()}),this.el.addEventListener("blur",function(i){e.el.value&&0!==e.el.value.length||e.start()}))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},n}();const _J=["wrapper"],yJ=["*"];let vJ=(()=>{class n{constructor(){this.typeSpeed=30,this.completed=new at,this.preStringTyped=new at,this.stringTyped=new at,this.lastStringBackspaced=new at,this.typingPaused=new at,this.typingResumed=new at,this.reset=new at,this.stopped=new at,this.started=new at,this.destroyed=new at}ngAfterViewInit(){this.typed=new mJ(this.content.nativeElement.querySelector(".typing"),this.options),!1!==this.showCursor&&this.updateCursorStyle()}toggle(){this.typed.toggle()}stop(){this.typed.stop()}start(){this.typed.start()}destroy(){this.typed.destroy()}doReset(e){this.typed.reset(e)}get options(){const e=s=>()=>s.emit(),i=s=>o=>s.emit(o),r={strings:this.strings??[""],stringsElement:this.stringsElement,typeSpeed:this.typeSpeed,startDelay:this.startDelay,backSpeed:this.backSpeed,smartBackspace:this.smartBackspace,shuffle:this.shuffle,backDelay:this.backDelay,fadeOut:this.fadeOut,fadeOutClass:this.fadeOutClass,fadeOutDelay:this.fadeOutDelay,loop:this.loop,loopCount:this.loopCount,showCursor:this.showCursor,autoInsertCss:this.autoInsertCss,attr:this.attr,bindInputFocusEvents:this.bindInputFocusEvents,contentType:this.contentType,onComplete:e(this.completed),preStringTyped:i(this.preStringTyped),onStringTyped:i(this.stringTyped),onLastStringBackspaced:e(this.lastStringBackspaced),onTypingPaused:i(this.typingPaused),onTypingResumed:i(this.typingResumed),onReset:e(this.reset),onStop:i(this.stopped),onStart:i(this.started),onDestroy:e(this.destroyed)};return Object.keys(r).forEach(s=>{void 0===r[s]&&delete r[s]}),r}updateCursorStyle(){const e=getComputedStyle(this.content.nativeElement.querySelector(".typing")),i=this.content.nativeElement.querySelector(".typed-cursor").style;i.fontSize=e.fontSize,i.color=this.cursorColor||e.color}ngOnChanges(e){this.typed&&(this.typed.destroy(),this.ngAfterViewInit())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pn({type:n,selectors:[["ngx-typed-js"]],viewQuery:function(e,i){if(1&e&&xi(_J,7),2&e){let r;Rn(r=Pn())&&(i.content=r.first)}},inputs:{cursorColor:"cursorColor",strings:"strings",stringsElement:"stringsElement",typeSpeed:"typeSpeed",startDelay:"startDelay",backSpeed:"backSpeed",smartBackspace:"smartBackspace",shuffle:"shuffle",backDelay:"backDelay",fadeOut:"fadeOut",fadeOutClass:"fadeOutClass",fadeOutDelay:"fadeOutDelay",loop:"loop",loopCount:"loopCount",showCursor:"showCursor",cursorChar:"cursorChar",autoInsertCss:"autoInsertCss",attr:"attr",bindInputFocusEvents:"bindInputFocusEvents",contentType:"contentType"},outputs:{completed:"completed",preStringTyped:"preStringTyped",stringTyped:"stringTyped",lastStringBackspaced:"lastStringBackspaced",typingPaused:"typingPaused",typingResumed:"typingResumed",reset:"reset",stopped:"stopped",started:"started",destroyed:"destroyed"},features:[Ji],ngContentSelectors:yJ,decls:3,vars:0,consts:[["wrapper",""]],template:function(e,i){1&e&&(kc(),me(0,"div",null,0),Fc(2),_e())},styles:["[_nghost-%COMP%] > .typing[_ngcontent-%COMP%]{display:inline}"]}),n})(),IJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Sn({type:n}),n.\u0275inj=vn({imports:[[]]}),n})();class cn{static equals(t,e,i){return i?this.resolveFieldData(t,i)===this.resolveFieldData(e,i):this.equalsByValue(t,e)}static equalsByValue(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){var s,o,a,i=Array.isArray(t),r=Array.isArray(e);if(i&&r){if((o=t.length)!=e.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[s],e[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(t),c=this.isDate(e);if(l!=c)return!1;if(l&&c)return t.getTime()==e.getTime();var p=t instanceof RegExp,_=e instanceof RegExp;if(p!=_)return!1;if(p&&_)return t.toString()==e.toString();var b=Object.keys(t);if((o=b.length)!==Object.keys(e).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(e,b[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(t[a=b[s]],e[a]))return!1;return!0}return t!=t&&e!=e}static resolveFieldData(t,e){if(t&&e){if(this.isFunction(e))return e(t);if(-1==e.indexOf("."))return t[e];{let i=e.split("."),r=t;for(let s=0,o=i.length;s<o;++s){if(null==r)return null;r=r[i[s]]}return r}}return null}static isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)}static reorderArray(t,e,i){t&&e!==i&&(i>=t.length&&(i%=t.length,e%=t.length),t.splice(i,0,t.splice(e,1)[0]))}static insertIntoOrderedArray(t,e,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>e){i.splice(o,0,t),s=!0;break}s||i.push(t)}else i.push(t)}static findIndexInList(t,e){let i=-1;if(e)for(let r=0;r<e.length;r++)if(e[r]==t){i=r;break}return i}static contains(t,e){if(null!=t&&e&&e.length)for(let i of e)if(this.equals(t,i))return!0;return!1}static removeAccents(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t}static isDate(t){return"[object Date]"===Object.prototype.toString.call(t)}static isEmpty(t){return null==t||""===t||Array.isArray(t)&&0===t.length||!this.isDate(t)&&"object"==typeof t&&0===Object.keys(t).length}static isNotEmpty(t){return!this.isEmpty(t)}static compare(t,e,i,r=1){let s=-1;const o=this.isEmpty(t),a=this.isEmpty(e);return s=o&&a?0:o?r:a?-r:"string"==typeof t&&"string"==typeof e?t.localeCompare(e,i,{numeric:!0}):t<e?-1:t>e?1:0,s}static sort(t,e,i=1,r,s=1){return(1===s?i:s)*cn.compare(t,e,r,i)}static merge(t,e){if(null!=t||null!=e)return null!=t&&"object"!=typeof t||null!=e&&"object"!=typeof e?null!=t&&"string"!=typeof t||null!=e&&"string"!=typeof e?e||t:[t||"",e||""].join(" "):{...t||{},...e||{}}}static isPrintableCharacter(t=""){return this.isNotEmpty(t)&&1===t.length&&t.match(/\S| /)}static getItemValue(t,...e){return this.isFunction(t)?t(...e):t}static findLastIndex(t,e){let i=-1;if(this.isNotEmpty(t))try{i=t.findLastIndex(e)}catch{i=t.lastIndexOf([...t].reverse().find(e))}return i}static findLast(t,e){let i;if(this.isNotEmpty(t))try{i=t.findLast(e)}catch{i=[...t].reverse().find(e)}return i}}var XF=0;function yg(n="pn_id_"){return`${n}${++XF}`}var yh=function bJ(){let n=[];const r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(((s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l})(s,a)))},clear:s=>{s&&((s=>{n=n.filter(o=>o.value!==s)})(r(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();let Ar=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),EJ=(()=>{class n{filter(e,i,r,s,o){let a=[];if(e)for(let l of e)for(let c of i){let p=cn.resolveFieldData(l,c);if(this.filters[s](p,r,o)){a.push(l);break}}return a}filters={startsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=cn.removeAccents(i.toString()).toLocaleLowerCase(r);return cn.removeAccents(e.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=cn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1!==cn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},notContains:(e,i,r)=>{if(null==i||"string"==typeof i&&""===i.trim())return!0;if(null==e)return!1;let s=cn.removeAccents(i.toString()).toLocaleLowerCase(r);return-1===cn.removeAccents(e.toString()).toLocaleLowerCase(r).indexOf(s)},endsWith:(e,i,r)=>{if(null==i||""===i.trim())return!0;if(null==e)return!1;let s=cn.removeAccents(i.toString()).toLocaleLowerCase(r),o=cn.removeAccents(e.toString()).toLocaleLowerCase(r);return-1!==o.indexOf(s,o.length-s.length)},equals:(e,i,r)=>null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():cn.removeAccents(e.toString()).toLocaleLowerCase(r)==cn.removeAccents(i.toString()).toLocaleLowerCase(r)),notEquals:(e,i,r)=>!(null==i||"string"==typeof i&&""===i.trim()||null!=e&&(e.getTime&&i.getTime?e.getTime()===i.getTime():cn.removeAccents(e.toString()).toLocaleLowerCase(r)==cn.removeAccents(i.toString()).toLocaleLowerCase(r))),in:(e,i)=>{if(null==i||0===i.length)return!0;for(let r=0;r<i.length;r++)if(cn.equals(e,i[r]))return!0;return!1},between:(e,i)=>null==i||null==i[0]||null==i[1]||null!=e&&(e.getTime?i[0].getTime()<=e.getTime()&&e.getTime()<=i[1].getTime():i[0]<=e&&e<=i[1]),lt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<i.getTime():e<i),lte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()<=i.getTime():e<=i),gt:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>i.getTime():e>i),gte:(e,i,r)=>null==i||null!=e&&(e.getTime&&i.getTime?e.getTime()>=i.getTime():e>=i),is:(e,i,r)=>this.filters.equals(e,i,r),isNot:(e,i,r)=>this.filters.notEquals(e,i,r),before:(e,i,r)=>this.filters.lt(e,i,r),after:(e,i,r)=>this.filters.gt(e,i,r),dateIs:(e,i)=>null==i||null!=e&&e.toDateString()===i.toDateString(),dateIsNot:(e,i)=>null==i||null!=e&&e.toDateString()!==i.toDateString(),dateBefore:(e,i)=>null==i||null!=e&&e.getTime()<i.getTime(),dateAfter:(e,i)=>null==i||null!=e&&e.getTime()>i.getTime()};register(e,i){this.filters[e]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CJ=(()=>{class n{clickSource=new oe;clickObservable=this.clickSource.asObservable();add(e){e&&this.clickSource.next(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kv=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[Ar.STARTS_WITH,Ar.CONTAINS,Ar.NOT_CONTAINS,Ar.ENDS_WITH,Ar.EQUALS,Ar.NOT_EQUALS],numeric:[Ar.EQUALS,Ar.NOT_EQUALS,Ar.LESS_THAN,Ar.LESS_THAN_OR_EQUAL_TO,Ar.GREATER_THAN,Ar.GREATER_THAN_OR_EQUAL_TO],date:[Ar.DATE_IS,Ar.DATE_IS_NOT,Ar.DATE_BEFORE,Ar.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new oe;translationObserver=this.translationSource.asObservable();getTranslation(e){return this.translation[e]}setTranslation(e){this.translation={...this.translation,...e},this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tu=(()=>{class n{template;type;name;constructor(e){this.template=e}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(ie(Gs))};static \u0275dir=dt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),Js=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs]})}return n})(),eL=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage"})(),xe=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(e,i){e&&i&&(e.classList?e.classList.add(i):e.className+=" "+i)}static addMultipleClasses(e,i){if(e&&i)if(e.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)e.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)e.className+=" "+r[s]}}static removeClass(e,i){e&&i&&(e.classList?e.classList.remove(i):e.className=e.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(e,i){e&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(e,s)))}static hasClass(e,i){return!(!e||!i)&&(e.classList?e.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(e.className))}static siblings(e){return Array.prototype.filter.call(e.parentNode.children,function(i){return i!==e})}static find(e,i){return Array.from(e.querySelectorAll(i))}static findSingle(e,i){return this.isElement(e)?e.querySelector(i):null}static index(e){let i=e.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==e)return r;1==i[s].nodeType&&r++}return-1}static indexWithinGroup(e,i){let r=e.parentNode?e.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==e)return s;r[o].attributes&&r[o].attributes[i]&&1==r[o].nodeType&&s++}return-1}static appendOverlay(e,i,r="self"){"self"!==r&&e&&i&&this.appendChild(e,i)}static alignOverlay(e,i,r="self",s=!0){e&&i&&(s&&(e.style.minWidth=`${n.getOuterWidth(i)}px`),"self"===r?this.relativePosition(e,i):this.absolutePosition(e,i))}static relativePosition(e,i){const r=W=>{if(W)return"relative"===getComputedStyle(W).getPropertyValue("position")?W:r(W.parentElement)},s=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),o=i.offsetHeight,a=i.getBoundingClientRect(),l=this.getWindowScrollTop(),c=this.getWindowScrollLeft(),p=this.getViewport(),b=r(e)?.getBoundingClientRect()||{top:-1*l,left:-1*c};let T,P;a.top+o+s.height>p.height?(T=a.top-b.top-s.height,e.style.transformOrigin="bottom",a.top+T<0&&(T=-1*a.top)):(T=o+a.top-b.top,e.style.transformOrigin="top");const N=a.left+s.width-p.width;P=s.width>p.width?-1*(a.left-b.left):N>0?a.left-b.left-N:a.left-b.left,e.style.top=T+"px",e.style.left=P+"px"}static absolutePosition(e,i){const r=e.offsetParent?{width:e.offsetWidth,height:e.offsetHeight}:this.getHiddenElementDimensions(e),s=r.height,o=r.width,a=i.offsetHeight,l=i.offsetWidth,c=i.getBoundingClientRect(),p=this.getWindowScrollTop(),_=this.getWindowScrollLeft(),b=this.getViewport();let T,P;c.top+a+s>b.height?(T=c.top+p-s,e.style.transformOrigin="bottom",T<0&&(T=p)):(T=a+c.top+p,e.style.transformOrigin="top"),P=c.left+o>b.width?Math.max(0,c.left+_+l-o):c.left+_,e.style.top=T+"px",e.style.left=P+"px"}static getParents(e,i=[]){return null===e.parentNode?i:this.getParents(e.parentNode,i.concat([e.parentNode]))}static getScrollableParents(e){let i=[];if(e){let r=this.getParents(e);const s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=1===a.nodeType&&a.dataset.scrollselectors;if(l){let c=l.split(",");for(let p of c){let _=this.findSingle(a,p);_&&o(_)&&i.push(_)}}9!==a.nodeType&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetHeight;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementOuterWidth(e){e.style.visibility="hidden",e.style.display="block";let i=e.offsetWidth;return e.style.display="none",e.style.visibility="visible",i}static getHiddenElementDimensions(e){let i={};return e.style.visibility="hidden",e.style.display="block",i.width=e.offsetWidth,i.height=e.offsetHeight,e.style.display="none",e.style.visibility="visible",i}static scrollInView(e,i){let r=getComputedStyle(e).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(e).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=e.getBoundingClientRect(),p=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,_=e.scrollTop,b=e.clientHeight,T=this.getOuterHeight(i);p<0?e.scrollTop=_+p:p+T>b&&(e.scrollTop=_+p-b+T)}static fadeIn(e,i){e.style.opacity=0;let r=+new Date,s=0,o=function(){s=+e.style.opacity.replace(",",".")+((new Date).getTime()-r)/i,e.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(e,i){var r=1,a=50/i;let l=setInterval(()=>{(r-=a)<=0&&(r=0,clearInterval(l)),e.style.opacity=r},50)}static getWindowScrollTop(){let e=document.documentElement;return(window.pageYOffset||e.scrollTop)-(e.clientTop||0)}static getWindowScrollLeft(){let e=document.documentElement;return(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}static matches(e,i){var r=Element.prototype;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(e,i)}static getOuterWidth(e,i){let r=e.offsetWidth;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(e){let i=getComputedStyle(e);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(e){let i=getComputedStyle(e);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(e,i){let r=e.offsetHeight;if(i){let s=getComputedStyle(e);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(e){let i=e.offsetHeight,r=getComputedStyle(e);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(e){let i=e.offsetWidth,r=getComputedStyle(e);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let e=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0];return{width:e.innerWidth||r.clientWidth||s.clientWidth,height:e.innerHeight||r.clientHeight||s.clientHeight}}static getOffset(e){var i=e.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(e,i){let r=e.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,e)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||(e.indexOf("Trident/")>0?(e.indexOf("rv:"),!0):e.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(e,i){if(this.isElement(i))i.appendChild(e);else{if(!(i&&i.el&&i.el.nativeElement))throw"Cannot append "+i+" to "+e;i.el.nativeElement.appendChild(e)}}static removeChild(e,i){if(this.isElement(i))i.removeChild(e);else{if(!i.el||!i.el.nativeElement)throw"Cannot remove "+e+" from "+i;i.el.nativeElement.removeChild(e)}}static removeElement(e){"remove"in Element.prototype?e.remove():e.parentNode.removeChild(e)}static isElement(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}static calculateScrollbarWidth(e){if(e){let i=getComputedStyle(e);return e.offsetWidth-e.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let e=document.createElement("div");e.className="p-scrollbar-measure",document.body.appendChild(e);let i=e.offsetHeight-e.clientHeight;return document.body.removeChild(e),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(e,i,r){e[i].apply(e,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let e=this.resolveUserAgent();this.browser={},e.browser&&(this.browser[e.browser]=!0,this.browser.version=e.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let e=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}static isHidden(e){return!e||null===e.offsetParent}static isVisible(e){return e&&null!=e.offsetParent}static isExist(e){return null!==e&&typeof e<"u"&&e.nodeName&&e.parentNode}static focus(e,i){e&&document.activeElement!==e&&e.focus(i)}static getFocusableElements(e,i=""){let r=this.find(e,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`),s=[];for(let o of r)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static getFirstFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[0]:null}static getLastFocusableElement(e,i){const r=this.getFocusableElements(e,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(e,i=!1){const r=n.getFocusableElements(e);let s=0;if(r&&r.length>0){const o=r.indexOf(r[0].ownerDocument.activeElement);i?s=-1==o||0===o?r.length-1:o-1:-1!=o&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(e,i){if(!e)return null;switch(e){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:const r=typeof e;if("string"===r)return document.querySelector(e);if("object"===r&&e.hasOwnProperty("nativeElement"))return this.isExist(e.nativeElement)?e.nativeElement:void 0;const o=(a=e)&&a.constructor&&a.call&&a.apply?e():e;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(e,i){if(e){const r=e.getAttribute(i);return isNaN(r)?"true"===r||"false"===r?"true"===r:r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(e="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,e)}static unblockBodyScroll(e="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,e)}}return n})();class tL{element;listener;scrollableParents;constructor(t,e=(()=>{})){this.element=t,this.listener=e}bindScrollListener(){this.scrollableParents=xe.getScrollableParents(this.element);for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let t=0;t<this.scrollableParents.length;t++)this.scrollableParents[t].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}const TJ=["*"];let Fa=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const e=cn.isEmpty(this.label);this.role=e?void 0:"img",this.ariaLabel=e?void 0:this.label,this.ariaHidden=e}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=pn({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[qs],ngContentSelectors:TJ,decls:1,vars:0,template:function(i,r){1&i&&(kc(),Fc(0))},encapsulation:2,changeDetection:0})}return n})(),nL=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["ChevronLeftIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9.61296 13C9.50997 13.0005 9.40792 12.9804 9.3128 12.9409C9.21767 12.9014 9.13139 12.8433 9.05902 12.7701L3.83313 7.54416C3.68634 7.39718 3.60388 7.19795 3.60388 6.99022C3.60388 6.78249 3.68634 6.58325 3.83313 6.43628L9.05902 1.21039C9.20762 1.07192 9.40416 0.996539 9.60724 1.00012C9.81032 1.00371 10.0041 1.08597 10.1477 1.22959C10.2913 1.37322 10.3736 1.56698 10.3772 1.77005C10.3808 1.97313 10.3054 2.16968 10.1669 2.31827L5.49496 6.99022L10.1669 11.6622C10.3137 11.8091 10.3962 12.0084 10.3962 12.2161C10.3962 12.4238 10.3137 12.6231 10.1669 12.7701C10.0945 12.8433 10.0083 12.9014 9.91313 12.9409C9.81801 12.9804 9.71596 13.0005 9.61296 13Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),iL=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["ChevronRightIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),Zv=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),rL=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(e,i,r,s,o,a){this.document=e,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){Wo(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(e){let i=this.getInk();if(!i||"none"===this.document.defaultView?.getComputedStyle(i,null).display)return;if(xe.removeClass(i,"p-ink-active"),!xe.getHeight(i)&&!xe.getWidth(i)){let a=Math.max(xe.getOuterWidth(this.el.nativeElement),xe.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=xe.getOffset(this.el.nativeElement),s=e.pageX-r.left+this.document.body.scrollTop-xe.getWidth(i)/2,o=e.pageY-r.top+this.document.body.scrollLeft-xe.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),xe.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&xe.removeClass(a,"p-ink-active")},401)}getInk(){const e=this.el.nativeElement.children;for(let i=0;i<e.length;i++)if("string"==typeof e[i].className&&-1!==e[i].className.indexOf("p-ink"))return e[i];return null}resetInk(){let e=this.getInk();e&&xe.removeClass(e,"p-ink-active")}onAnimationEnd(e){this.timeout&&clearTimeout(this.timeout),xe.removeClass(e.currentTarget,"p-ink-active")}create(){let e=this.renderer.createElement("span");this.renderer.addClass(e,"p-ink"),this.renderer.appendChild(this.el.nativeElement,e),this.renderer.setAttribute(e,"aria-hidden","true"),this.renderer.setAttribute(e,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(e,"animationend",this.onAnimationEnd.bind(this)))}remove(){let e=this.getInk();e&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,xe.removeElement(e))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(ie(qi),ie(nr),ie(Sr),ie(Gn),ie(qt),ie(Kv,8))};static \u0275dir=dt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),Qv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs]})}return n})(),sL=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:yg()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;constructor(e,i,r,s,o,a){this.platformId=e,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){Wo(this.platformId)&&this.zone.runOutsideAngular(()=>{if("hover"===this.getOption("tooltipEvent"))this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener);else if("focus"===this.getOption("tooltipEvent")){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let e=this.getTarget(this.el.nativeElement);e.addEventListener("focus",this.focusListener),e.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...e.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){(this.isAutoHide()||!(xe.hasClass(e.relatedTarget,"p-tooltip")||xe.hasClass(e.relatedTarget,"p-tooltip-text")||xe.hasClass(e.relatedTarget,"p-tooltip-arrow")))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?xe.appendChild(this.container,this.el.nativeElement):xe.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){this.containerMouseleaveListener||(this.containerMouseleaveListener=this.renderer.listen(this.container??this.container.nativeElement,"mouseleave",i=>{this.deactivate()}))}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),xe.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?yh.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&yh.clear(this.container),this.remove()}updateText(){const e=this.getOption("tooltipLabel");if(e instanceof Gs){const i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let e=this.el.nativeElement.getBoundingClientRect();return{left:e.left+xe.getWindowScrollLeft(),top:e.top+xe.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let e=this.getHostOffset(),i=e.left+xe.getOuterWidth(this.el.nativeElement),r=e.top+(xe.getOuterHeight(this.el.nativeElement)-xe.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let e=this.getHostOffset(),i=e.left-xe.getOuterWidth(this.container),r=e.top+(xe.getOuterHeight(this.el.nativeElement)-xe.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let e=this.getHostOffset(),i=e.left+(xe.getOuterWidth(this.el.nativeElement)-xe.getOuterWidth(this.container))/2,r=e.top-xe.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let e=this.getHostOffset(),i=e.left+(xe.getOuterWidth(this.el.nativeElement)-xe.getOuterWidth(this.container))/2,r=e.top+xe.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions={...this._tooltipOptions,...e}}getOption(e){return this._tooltipOptions[e]}getTarget(e){return xe.hasClass(e,"p-inputwrapper")?xe.findSingle(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,s=xe.getOuterWidth(this.container),o=xe.getOuterHeight(this.container),a=xe.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new tL(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){if("hover"===this.getOption("tooltipEvent"))this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener);else if("focus"===this.getOption("tooltipEvent")){let e=this.getTarget(this.el.nativeElement);e.removeEventListener("focus",this.focusListener),e.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):xe.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&yh.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(ie(nr),ie(Gn),ie(qt),ie(Kv),ie(Sr),ie(Es))};static \u0275dir=dt({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){1&i&&Dt("keydown.escape",function(o){return r.onPressEscape(o)},0,A0)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",autoHide:"autoHide",fitContent:"fitContent",hideOnEscape:"hideOnEscape",content:["pTooltip","content"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ji]})}return n})(),Yv=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs]})}return n})();function SJ(n,t){1&n&&Di(0)}function DJ(n,t){if(1&n&&(ni(0),Ee(1,SJ,1,0,"ng-container",3),ii()),2&n){const e=Pe(2);Te(1),pe("ngTemplateOutlet",e.contentTemplate)}}function AJ(n,t){if(1&n&&(me(0,"div",1),Fc(1),Ee(2,DJ,2,1,"ng-container",2),_e()),2&n){const e=Pe();pe("hidden",!e.selected),St("id",e.tabView.getTabContentId(e.id))("aria-hidden",!e.selected)("aria-labelledby",e.tabView.getTabHeaderActionId(e.id))("data-pc-name","tabpanel"),Te(2),pe("ngIf",e.contentTemplate&&(e.cache?e.loaded:e.selected))}}const oL=["*"],xJ=["content"],RJ=["navbar"],PJ=["prevBtn"],OJ=["nextBtn"],MJ=["inkbar"],NJ=["elementToObserve"];function kJ(n,t){1&n&&We(0,"ChevronLeftIcon"),2&n&&St("aria-hidden",!0)}function FJ(n,t){}function LJ(n,t){1&n&&Ee(0,FJ,0,0,"ng-template")}function VJ(n,t){if(1&n){const e=Ai();me(0,"button",13,14),Dt("click",function(){return $t(e),Xt(Pe().navBackward())}),Ee(2,kJ,1,1,"ChevronLeftIcon",15),Ee(3,LJ,1,0,null,16),_e()}if(2&n){const e=Pe();St("tabindex",e.tabindex)("aria-label",e.prevButtonAriaLabel),Te(2),pe("ngIf",!e.previousIconTemplate),Te(1),pe("ngTemplateOutlet",e.previousIconTemplate)}}function BJ(n,t){1&n&&We(0,"span",25),2&n&&pe("ngClass",Pe(3).$implicit.leftIcon)}function UJ(n,t){}function HJ(n,t){1&n&&Ee(0,UJ,0,0,"ng-template")}function jJ(n,t){if(1&n&&(me(0,"span",26),Ee(1,HJ,1,0,null,16),_e()),2&n){const e=Pe(3).$implicit;Te(1),pe("ngTemplateOutlet",e.leftIconTemplate)}}function zJ(n,t){1&n&&We(0,"span",27),2&n&&pe("ngClass",Pe(3).$implicit.rightIcon)}function $J(n,t){}function WJ(n,t){1&n&&Ee(0,$J,0,0,"ng-template")}function qJ(n,t){if(1&n&&(me(0,"span",28),Ee(1,WJ,1,0,null,16),_e()),2&n){const e=Pe(3).$implicit;Te(1),pe("ngTemplateOutlet",e.rightIconTemplate)}}function GJ(n,t){if(1&n&&(ni(0),Ee(1,BJ,1,1,"span",20),Ee(2,jJ,2,1,"span",21),me(3,"span",22),rt(4),_e(),Ee(5,zJ,1,1,"span",23),Ee(6,qJ,2,1,"span",24),ii()),2&n){const e=Pe(2).$implicit;Te(1),pe("ngIf",e.leftIcon&&!e.leftIconTemplate),Te(1),pe("ngIf",e.leftIconTemplate),Te(2),Bc(e.header),Te(1),pe("ngIf",e.rightIcon&&!e.rightIconTemplate),Te(1),pe("ngIf",e.rightIconTemplate)}}function KJ(n,t){1&n&&Di(0)}function ZJ(n,t){if(1&n){const e=Ai();me(0,"TimesIcon",31),Dt("click",function(r){$t(e);const s=Pe(3).$implicit;return Xt(Pe().close(r,s))}),_e()}2&n&&pe("styleClass","p-tabview-close")}function QJ(n,t){1&n&&We(0,"span",32)}function YJ(n,t){}function JJ(n,t){1&n&&Ee(0,YJ,0,0,"ng-template")}function XJ(n,t){if(1&n&&(ni(0),Ee(1,ZJ,1,1,"TimesIcon",29),Ee(2,QJ,1,0,"span",30),Ee(3,JJ,1,0,null,16),ii()),2&n){const e=Pe(2).$implicit;Te(1),pe("ngIf",!e.closeIconTemplate),Te(1),pe("ngIf",e.closeIconTemplate),Te(1),pe("ngTemplateOutlet",e.closeIconTemplate)}}const eX=function(n,t){return{"p-highlight":n,"p-disabled":t}};function tX(n,t){if(1&n){const e=Ai();me(0,"li",18)(1,"a",19),Dt("click",function(r){$t(e);const s=Pe().$implicit;return Xt(Pe().open(r,s))})("keydown",function(r){$t(e);const s=Pe().$implicit;return Xt(Pe().onTabKeyDown(r,s))}),Ee(2,GJ,7,5,"ng-container",15),Ee(3,KJ,1,0,"ng-container",16),Ee(4,XJ,4,3,"ng-container",15),_e()()}if(2&n){const e=Pe(),i=e.$implicit,r=e.index,s=Pe();dr(i.headerStyleClass),pe("ngClass",go(19,eX,i.selected,i.disabled))("ngStyle",i.headerStyle),St("data-p-disabled",i.disabled),Te(1),pe("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass),St("id",s.getTabHeaderActionId(i.id))("aria-controls",s.getTabContentId(i.id))("aria-selected",i.selected)("tabindex",i.disabled||!i.selected?"-1":s.tabindex)("aria-disabled",i.disabled)("data-pc-index",r)("data-pc-section","headeraction"),Te(1),pe("ngIf",!i.headerTemplate),Te(1),pe("ngTemplateOutlet",i.headerTemplate),Te(1),pe("ngIf",i.closable)}}function nX(n,t){1&n&&Ee(0,tX,5,22,"li",17),2&n&&pe("ngIf",!t.$implicit.closed)}function iX(n,t){1&n&&We(0,"ChevronRightIcon"),2&n&&St("aria-hidden",!0)}function rX(n,t){}function sX(n,t){1&n&&Ee(0,rX,0,0,"ng-template")}function oX(n,t){if(1&n){const e=Ai();me(0,"button",33,34),Dt("click",function(){return $t(e),Xt(Pe().navForward())}),Ee(2,iX,1,1,"ChevronRightIcon",15),Ee(3,sX,1,0,null,16),_e()}if(2&n){const e=Pe();St("tabindex",e.tabindex)("aria-label",e.nextButtonAriaLabel),Te(2),pe("ngIf",!e.nextIconTemplate),Te(1),pe("ngTemplateOutlet",e.nextIconTemplate)}}const aX=function(n){return{"p-tabview p-component":!0,"p-tabview-scrollable":n}};let aL=(()=>{class n{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(e){this._headerStyle=e,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(e){this._headerStyleClass=e,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(e){this._selected=e,this.loaded||this.cd.detectChanges(),e&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(e){this._disabled=e,this.tabView.cd.markForCheck()}get header(){return this._header}set header(e){this._header=e,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(e){this._leftIcon=e,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(e){this._rightIcon=e,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(e,i,r,s){this.el=i,this.viewContainer=r,this.cd=s,this.tabView=e,this.id=yg()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":default:this.contentTemplate=e.template;break;case"righticon":this.rightIconTemplate=e.template;break;case"lefticon":this.leftIconTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(i){return new(i||n)(ie(rn(()=>lL)),ie(Gn),ie(Es),ie(Ks))};static \u0275cmp=pn({type:n,selectors:[["p-tabPanel"]],contentQueries:function(i,r,s){if(1&i&&Ta(s,tu,4),2&i){let o;Rn(o=Pn())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:oL,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(i,r){1&i&&(kc(),Ee(0,AJ,3,6,"div",0)),2&i&&pe("ngIf",!r.closed)},dependencies:[_o,Il],encapsulation:2})}return n})(),lL=(()=>{class n{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(e))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new at;onClose=new at;activeIndexChange=new at;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(e,i,r,s){this.platformId=e,this.el=i,this.cd=r,this.renderer=s}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(e=>{this.initTabs()}),this.templates.forEach(e=>{switch(e.getType()){case"previousicon":this.previousIconTemplate=e.template;break;case"nexticon":this.nextIconTemplate=e.template}})}ngAfterViewInit(){Wo(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}bindResizeObserver(){this.container=xe.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=xe.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){Wo(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(e,i){switch(e.code){case"ArrowLeft":this.onTabArrowLeftKey(e);break;case"ArrowRight":this.onTabArrowRightKey(e);break;case"Home":case"PageUp":this.onTabHomeKey(e);break;case"End":case"PageDown":this.onTabEndKey(e);break;case"Enter":case"Space":this.open(e,i)}}onTabArrowLeftKey(e){const i=this.findPrevHeaderAction(e.target.parentElement),r=xe.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,r):this.onTabEndKey(e),e.preventDefault()}onTabArrowRightKey(e){const i=this.findNextHeaderAction(e.target.parentElement),r=xe.getAttribute(i,"data-pc-index");i?this.changeFocusedTab(e,i,r):this.onTabHomeKey(e),e.preventDefault()}onTabHomeKey(e){const i=this.findFirstHeaderAction(),r=xe.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,r),e.preventDefault()}onTabEndKey(e){const i=this.findLastHeaderAction(),r=xe.getAttribute(i,"data-pc-index");this.changeFocusedTab(e,i,r),e.preventDefault()}changeFocusedTab(e,i,r){i&&(xe.focus(i),i.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(e,this.tabs[r])}findNextHeaderAction(e,i=!1){const r=i?e:e.nextElementSibling;return r?xe.getAttribute(r,"data-p-disabled")||"inkbar"===xe.getAttribute(r,"data-pc-section")?this.findNextHeaderAction(r):xe.findSingle(r,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,i=!1){const r=i?e:e.previousElementSibling;return r?xe.getAttribute(r,"data-p-disabled")||"inkbar"===xe.getAttribute(r,"data-pc-section")?this.findPrevHeaderAction(r):xe.findSingle(r,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const e=this.navbar.nativeElement.lastElementChild,i="inkbar"===xe.getAttribute(e,"data-pc-section")?e.previousElementSibling:e;return this.findPrevHeaderAction(i,!0)}open(e,i){if(i.disabled)e&&e.preventDefault();else{if(!i.selected){let r=this.findSelectedTab();r&&(r.selected=!1),this.tabChanged=!0,i.selected=!0;let s=this.findTabIndex(i);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(s),this.onChange.emit({originalEvent:e,index:s}),this.updateScrollBar(s)}e&&e.preventDefault()}}close(e,i){this.controlClose?this.onClose.emit({originalEvent:e,index:this.findTabIndex(i),close:()=>{this.closeTab(i)}}):(this.closeTab(i),this.onClose.emit({originalEvent:e,index:this.findTabIndex(i)}))}closeTab(e){if(!e.disabled){if(e.selected){this.tabChanged=!0,e.selected=!1;for(let i=0;i<this.tabs.length;i++){let r=this.tabs[i];if(!r.closed&&!e.disabled){r.selected=!0;break}}}e.closed=!0}}findSelectedTab(){for(let e=0;e<this.tabs.length;e++)if(this.tabs[e].selected)return this.tabs[e];return null}findTabIndex(e){let i=-1;for(let r=0;r<this.tabs.length;r++)if(this.tabs[r]==e){i=r;break}return i}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if(this.navbar){const e=xe.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!e)return;this.inkbar.nativeElement.style.width=xe.getWidth(e)+"px",this.inkbar.nativeElement.style.left=xe.getOffset(e).left-xe.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(e){this.navbar.nativeElement.children[e].scrollIntoView({block:"nearest"})}updateButtonState(){const e=this.content.nativeElement,{scrollLeft:i,scrollWidth:r}=e,s=xe.getWidth(e);this.backwardIsDisabled=0===i,this.forwardIsDisabled=i===r-s}onScroll(e){this.scrollable&&this.updateButtonState(),e.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((e,i)=>i?e+xe.getWidth(i):e,0)}navBackward(){const e=this.content.nativeElement,i=xe.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft-i;e.scrollLeft=r<=0?0:r}navForward(){const e=this.content.nativeElement,i=xe.getWidth(e)-this.getVisibleButtonWidths(),r=e.scrollLeft+i,s=e.scrollWidth-i;e.scrollLeft=r>=s?s:r}static \u0275fac=function(i){return new(i||n)(ie(nr),ie(Gn),ie(Ks),ie(Sr))};static \u0275cmp=pn({type:n,selectors:[["p-tabView"]],contentQueries:function(i,r,s){if(1&i&&(Ta(s,aL,4),Ta(s,tu,4)),2&i){let o;Rn(o=Pn())&&(r.tabPanels=o),Rn(o=Pn())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(xi(xJ,5),xi(RJ,5),xi(PJ,5),xi(OJ,5),xi(MJ,5),xi(NJ,5)),2&i){let s;Rn(s=Pn())&&(r.content=s.first),Rn(s=Pn())&&(r.navbar=s.first),Rn(s=Pn())&&(r.prevBtn=s.first),Rn(s=Pn())&&(r.nextBtn=s.first),Rn(s=Pn())&&(r.inkbar=s.first),Rn(s=Pn())&&(r.elementToObserve=s.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex",selectOnFocus:"selectOnFocus",nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:"autoHideButtons",tabindex:"tabindex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:oL,decls:14,vars:13,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["elementToObserve",""],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"styleClass","click"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""]],template:function(i,r){1&i&&(kc(),me(0,"div",0)(1,"div",1,2),Ee(3,VJ,4,4,"button",3),me(4,"div",4,5),Dt("scroll",function(o){return r.onScroll(o)}),me(6,"ul",6,7),Ee(8,nX,1,1,"ng-template",8),We(9,"li",9,10),_e()(),Ee(11,oX,4,4,"button",11),_e(),me(12,"div",12),Fc(13),_e()()),2&i&&(dr(r.styleClass),pe("ngClass",di(11,aX,r.scrollable))("ngStyle",r.style),St("data-pc-name","tabview"),Te(3),pe("ngIf",r.scrollable&&!r.backwardIsDisabled&&r.autoHideButtons),Te(1),St("data-pc-section","navcontent"),Te(2),St("data-pc-section","nav"),Te(2),pe("ngForOf",r.tabs),Te(1),St("data-pc-section","inkbar"),Te(2),pe("ngIf",r.scrollable&&!r.forwardIsDisabled&&r.buttonVisible))},dependencies:function(){return[Ra,qc,_o,Il,Gc,sL,rL,Zv,nL,iL]},styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return n})(),lX=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs,Js,Yv,Qv,Zv,nL,iL,Js]})}return n})();const cX=E(324);let uX=(()=>{class n{constructor(e){this.el=e}ngAfterViewInit(){this.mixer=cX(this.el.nativeElement,{selectors:{target:".mix"},animation:{duration:300}})}ngOnDestroy(){this.mixer&&this.mixer.destroy()}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Gn))};static#t=this.\u0275dir=dt({type:n,selectors:[["","appMixitup",""]]})}return n})();class Jv{}class Xv{}class Yo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dX{encodeKey(t){return cL(t)}encodeValue(t){return cL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fX=/%(\d[a-f0-9])/gi,pX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cL(n){return encodeURIComponent(n).replace(fX,(t,e)=>pX[e]??t)}function eI(n){return`${n}`}class Sl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dX,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function hX(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(eI):[eI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Sl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(eI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(eI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gX{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function uL(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dL(n){return typeof Blob<"u"&&n instanceof Blob}function hL(n){return typeof FormData<"u"&&n instanceof FormData}class vg{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function mX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yo),this.context||(this.context=new gX),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Sl,this.urlWithParams=e}serializeBody(){return null===this.body?null:uL(this.body)||dL(this.body)||hL(this.body)||function _X(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hL(this.body)?null:dL(this.body)?this.body.type||null:uL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,c=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((_,b)=>_.set(b,t.setHeaders[b]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((_,b)=>_.set(b,t.setParams[b]),c)),new vg(e,i,s,{params:c,headers:l,context:p,reportProgress:a,responseType:r,withCredentials:o})}}var vh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(vh||{});class yT{constructor(t,e=200,i="OK"){this.headers=t.headers||new Yo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class vT extends yT{constructor(t={}){super(t),this.type=vh.ResponseHeader}clone(t={}){return new vT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ih extends yT{constructor(t={}){super(t),this.type=vh.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ih({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fL extends yT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function IT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let pL=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof vg)s=e;else{let l,c;l=r.headers instanceof Yo?r.headers:new Yo(r.headers),r.params&&(c=r.params instanceof Sl?r.params:new Sl({fromObject:r.params})),s=new vg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=V(s).pipe(ch(l=>this.handler.handle(l)));if(e instanceof vg||"events"===r.observe)return o;const a=o.pipe(hr(l=>l instanceof Ih));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe($e(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe($e(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe($e(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe($e(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Sl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,IT(r,i))}post(e,i,r={}){return this.request("POST",e,IT(r,i))}put(e,i,r={}){return this.request("PUT",e,IT(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(De(Jv))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function _L(n,t){return t(n)}function vX(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const bX=new Ue(""),Ig=new Ue(""),yL=new Ue("");function wX(){let n=null;return(t,e)=>{null===n&&(n=(et(bX,{optional:!0})??[]).reduceRight(vX,_L));const i=et(Vy),r=i.add();return n(t,e).pipe(eg(()=>i.remove(r)))}}let vL=(()=>{class n extends Jv{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=et(Vy)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Ig),...this.injector.get(yL,[])]));this.chain=r.reduceRight((s,o)=>function IX(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(s,o,this.injector),_L)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(eg(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(De(Xv),De(bs))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const SX=/^\)\]\}',?\n/;let bL=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new ve(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?O(i.\u0275loadImpl()):V(null)).pipe(Fe(()=>new bt(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((N,L)=>o.setRequestHeader(N,L.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const N=e.detectContentTypeHeader();null!==N&&o.setRequestHeader("Content-Type",N)}if(e.responseType){const N=e.responseType.toLowerCase();o.responseType="json"!==N?N:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const N=o.statusText||"OK",L=new Yo(o.getAllResponseHeaders()),W=function DX(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new vT({headers:L,status:o.status,statusText:N,url:W}),l},p=()=>{let{headers:N,status:L,statusText:W,url:H}=c(),q=null;204!==L&&(q=typeof o.response>"u"?o.responseText:o.response),0===L&&(L=q?200:0);let ee=L>=200&&L<300;if("json"===e.responseType&&"string"==typeof q){const Ae=q;q=q.replace(SX,"");try{q=""!==q?JSON.parse(q):null}catch(Ve){q=Ae,ee&&(ee=!1,q={error:Ve,text:q})}}ee?(s.next(new Ih({body:q,headers:N,status:L,statusText:W,url:H||void 0})),s.complete()):s.error(new fL({error:q,headers:N,status:L,statusText:W,url:H||void 0}))},_=N=>{const{url:L}=c(),W=new fL({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:L||void 0});s.error(W)};let b=!1;const T=N=>{b||(s.next(c()),b=!0);let L={type:vh.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(L.total=N.total),"text"===e.responseType&&o.responseText&&(L.partialText=o.responseText),s.next(L)},P=N=>{let L={type:vh.UploadProgress,loaded:N.loaded};N.lengthComputable&&(L.total=N.total),s.next(L)};return o.addEventListener("load",p),o.addEventListener("error",_),o.addEventListener("timeout",_),o.addEventListener("abort",_),e.reportProgress&&(o.addEventListener("progress",T),null!==a&&o.upload&&o.upload.addEventListener("progress",P)),o.send(a),s.next({type:vh.Sent}),()=>{o.removeEventListener("error",_),o.removeEventListener("abort",_),o.removeEventListener("load",p),o.removeEventListener("timeout",_),e.reportProgress&&(o.removeEventListener("progress",T),null!==a&&o.upload&&o.upload.removeEventListener("progress",P)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(De(bN))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();const bT=new Ue("XSRF_ENABLED"),wL=new Ue("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),EL=new Ue("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class CL{}let RX=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=fN(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(De(qi),De(nr),De(wL))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac})}return n})();function PX(n,t){const e=n.url.toLowerCase();if(!et(bT)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=et(CL).getToken(),r=et(EL);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Dl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Dl||{});function OX(...n){const t=[pL,bL,vL,{provide:Jv,useExisting:vL},{provide:Xv,useExisting:bL},{provide:Ig,useValue:PX,multi:!0},{provide:bT,useValue:!0},{provide:CL,useClass:RX}];for(const e of n)t.push(...e.\u0275providers);return function s0(n){return{\u0275providers:n}}(t)}const TL=new Ue("LEGACY_INTERCEPTOR_FN");function MX(){return function nu(n,t){return{\u0275kind:n,\u0275providers:t}}(Dl.LegacyInterceptors,[{provide:TL,useFactory:wX},{provide:Ig,useExisting:TL,multi:!0}])}let NX=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({providers:[OX(MX())]})}return n})();var wo=E(534);(0,wo.registerVersion)("firebase","10.14.1","app");const $X=new class zX extends jF{}(class jX extends HF{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),wT=new Hd("ANGULARFIRE2_VERSION");const ET=(n,t)=>{const e=t?[t]:(0,wo.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i};class CT{constructor(){return ET(WX)}}const WX="app-check";function bh(){}class DL{zone;delegate;constructor(t,e=$X){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(o){r.runGuarded(()=>{t.apply(this,[o])})},e,i)}}class qX{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bh,{},bh,bh)),e.pipe(Ht({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let TT=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new DL(Zone.current)),this.insideAngular=e.run(()=>new DL(Zone.current,Wv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(De(qt))};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function iu(n){return wh().ngZone.run(()=>n())}function As(n){return function KX(n){return function(e){return(e=e.lift(new qX(n.ngZone))).pipe(Qi(n.outsideAngular),ui(n.insideAngular))}}(wh())(n)}const ZX=(n,t)=>function(){const i=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),iu(()=>n.apply(void 0,i))},QX=(n,t)=>function(){let e;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(t&&(e||=iu(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",bh,{},bh,bh))),i[s]=ZX(i[s],e));const r=function GX(n){return wh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!t){if(r instanceof bt){const s=wh();return r.pipe(Qi(s.outsideAngular),ui(s.insideAngular))}return iu(()=>r)}return r instanceof bt?r.pipe(As):r instanceof Promise?iu(()=>new Promise((s,o)=>r.then(a=>iu(()=>s(a)),a=>iu(()=>o(a))))):"function"==typeof r&&e?function(){return setTimeout(()=>{e&&"scheduled"===e.state&&e.invoke()},10),r.apply(this,arguments)}:iu(()=>r)};class AL{constructor(){return(0,wo.getApps)()}}E(200);var gn=E(58),Jo=E(879),xL=E(537);class PL{constructor(){return ET("auth")}}var ru,NL,Ce=E(861),OL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ML={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(j,U,$){$||($=0);var J=Array(16);if("string"==typeof U)for(var X=0;16>X;++X)J[X]=U.charCodeAt($++)|U.charCodeAt($++)<<8|U.charCodeAt($++)<<16|U.charCodeAt($++)<<24;else for(X=0;16>X;++X)J[X]=U[$++]|U[$++]<<8|U[$++]<<16|U[$++]<<24;var se=j.g[3],z=(U=j.g[0])+(se^($=j.g[1])&((X=j.g[2])^se))+J[0]+3614090360&4294967295;z=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=($=(X=(se=(U=$+(z<<7&4294967295|z>>>25))+((z=se+(X^U&($^X))+J[1]+3905402710&4294967295)<<12&4294967295|z>>>20))+((z=X+($^se&(U^$))+J[2]+606105819&4294967295)<<17&4294967295|z>>>15))+((z=$+(U^X&(se^U))+J[3]+3250441966&4294967295)<<22&4294967295|z>>>10))+((z=U+(se^$&(X^se))+J[4]+4118548399&4294967295)<<7&4294967295|z>>>25))+((z=se+(X^U&($^X))+J[5]+1200080426&4294967295)<<12&4294967295|z>>>20))+((z=X+($^se&(U^$))+J[6]+2821735955&4294967295)<<17&4294967295|z>>>15))+((z=$+(U^X&(se^U))+J[7]+4249261313&4294967295)<<22&4294967295|z>>>10))+((z=U+(se^$&(X^se))+J[8]+1770035416&4294967295)<<7&4294967295|z>>>25))+((z=se+(X^U&($^X))+J[9]+2336552879&4294967295)<<12&4294967295|z>>>20))+((z=X+($^se&(U^$))+J[10]+4294925233&4294967295)<<17&4294967295|z>>>15))+((z=$+(U^X&(se^U))+J[11]+2304563134&4294967295)<<22&4294967295|z>>>10))+((z=U+(se^$&(X^se))+J[12]+1804603682&4294967295)<<7&4294967295|z>>>25))+((z=se+(X^U&($^X))+J[13]+4254626195&4294967295)<<12&4294967295|z>>>20))+((z=X+($^se&(U^$))+J[14]+2792965006&4294967295)<<17&4294967295|z>>>15))+((z=$+(U^X&(se^U))+J[15]+1236535329&4294967295)<<22&4294967295|z>>>10))+((z=U+(X^se&($^X))+J[1]+4129170786&4294967295)<<5&4294967295|z>>>27))+((z=se+($^X&(U^$))+J[6]+3225465664&4294967295)<<9&4294967295|z>>>23))+((z=X+(U^$&(se^U))+J[11]+643717713&4294967295)<<14&4294967295|z>>>18))+((z=$+(se^U&(X^se))+J[0]+3921069994&4294967295)<<20&4294967295|z>>>12))+((z=U+(X^se&($^X))+J[5]+3593408605&4294967295)<<5&4294967295|z>>>27))+((z=se+($^X&(U^$))+J[10]+38016083&4294967295)<<9&4294967295|z>>>23))+((z=X+(U^$&(se^U))+J[15]+3634488961&4294967295)<<14&4294967295|z>>>18))+((z=$+(se^U&(X^se))+J[4]+3889429448&4294967295)<<20&4294967295|z>>>12))+((z=U+(X^se&($^X))+J[9]+568446438&4294967295)<<5&4294967295|z>>>27))+((z=se+($^X&(U^$))+J[14]+3275163606&4294967295)<<9&4294967295|z>>>23))+((z=X+(U^$&(se^U))+J[3]+4107603335&4294967295)<<14&4294967295|z>>>18))+((z=$+(se^U&(X^se))+J[8]+1163531501&4294967295)<<20&4294967295|z>>>12))+((z=U+(X^se&($^X))+J[13]+2850285829&4294967295)<<5&4294967295|z>>>27))+((z=se+($^X&(U^$))+J[2]+4243563512&4294967295)<<9&4294967295|z>>>23))+((z=X+(U^$&(se^U))+J[7]+1735328473&4294967295)<<14&4294967295|z>>>18))+((z=$+(se^U&(X^se))+J[12]+2368359562&4294967295)<<20&4294967295|z>>>12))+((z=U+($^X^se)+J[5]+4294588738&4294967295)<<4&4294967295|z>>>28))+((z=se+(U^$^X)+J[8]+2272392833&4294967295)<<11&4294967295|z>>>21))+((z=X+(se^U^$)+J[11]+1839030562&4294967295)<<16&4294967295|z>>>16))+((z=$+(X^se^U)+J[14]+4259657740&4294967295)<<23&4294967295|z>>>9))+((z=U+($^X^se)+J[1]+2763975236&4294967295)<<4&4294967295|z>>>28))+((z=se+(U^$^X)+J[4]+1272893353&4294967295)<<11&4294967295|z>>>21))+((z=X+(se^U^$)+J[7]+4139469664&4294967295)<<16&4294967295|z>>>16))+((z=$+(X^se^U)+J[10]+3200236656&4294967295)<<23&4294967295|z>>>9))+((z=U+($^X^se)+J[13]+681279174&4294967295)<<4&4294967295|z>>>28))+((z=se+(U^$^X)+J[0]+3936430074&4294967295)<<11&4294967295|z>>>21))+((z=X+(se^U^$)+J[3]+3572445317&4294967295)<<16&4294967295|z>>>16))+((z=$+(X^se^U)+J[6]+76029189&4294967295)<<23&4294967295|z>>>9))+((z=U+($^X^se)+J[9]+3654602809&4294967295)<<4&4294967295|z>>>28))+((z=se+(U^$^X)+J[12]+3873151461&4294967295)<<11&4294967295|z>>>21))+((z=X+(se^U^$)+J[15]+530742520&4294967295)<<16&4294967295|z>>>16))+((z=$+(X^se^U)+J[2]+3299628645&4294967295)<<23&4294967295|z>>>9))+((z=U+(X^($|~se))+J[0]+4096336452&4294967295)<<6&4294967295|z>>>26))+((z=se+($^(U|~X))+J[7]+1126891415&4294967295)<<10&4294967295|z>>>22))+((z=X+(U^(se|~$))+J[14]+2878612391&4294967295)<<15&4294967295|z>>>17))+((z=$+(se^(X|~U))+J[5]+4237533241&4294967295)<<21&4294967295|z>>>11))+((z=U+(X^($|~se))+J[12]+1700485571&4294967295)<<6&4294967295|z>>>26))+((z=se+($^(U|~X))+J[3]+2399980690&4294967295)<<10&4294967295|z>>>22))+((z=X+(U^(se|~$))+J[10]+4293915773&4294967295)<<15&4294967295|z>>>17))+((z=$+(se^(X|~U))+J[1]+2240044497&4294967295)<<21&4294967295|z>>>11))+((z=U+(X^($|~se))+J[8]+1873313359&4294967295)<<6&4294967295|z>>>26))+((z=se+($^(U|~X))+J[15]+4264355552&4294967295)<<10&4294967295|z>>>22))+((z=X+(U^(se|~$))+J[6]+2734768916&4294967295)<<15&4294967295|z>>>17))+((z=$+(se^(X|~U))+J[13]+1309151649&4294967295)<<21&4294967295|z>>>11))+((se=(U=$+((z=U+(X^($|~se))+J[4]+4149444226&4294967295)<<6&4294967295|z>>>26))+((z=se+($^(U|~X))+J[11]+3174756917&4294967295)<<10&4294967295|z>>>22))^((X=se+((z=X+(U^(se|~$))+J[2]+718787259&4294967295)<<15&4294967295|z>>>17))|~U))+J[9]+3951481745&4294967295,j.g[0]=j.g[0]+U&4294967295,j.g[1]=j.g[1]+(X+(z<<21&4294967295|z>>>11))&4294967295,j.g[2]=j.g[2]+X&4294967295,j.g[3]=j.g[3]+se&4294967295}function o(j,U){this.h=U;for(var $=[],J=!0,X=j.length-1;0<=X;X--){var se=0|j[X];J&&se==U||($[X]=se,J=!1)}this.g=$}(function t(j,U){function $(){}$.prototype=U.prototype,j.D=U.prototype,j.prototype=new $,j.prototype.constructor=j,j.C=function(J,X,se){for(var z=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)z[mr-2]=arguments[mr];return U.prototype[X].apply(J,z)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(j,U){void 0===U&&(U=j.length);for(var $=U-this.blockSize,J=this.B,X=this.h,se=0;se<U;){if(0==X)for(;se<=$;)r(this,j,se),se+=this.blockSize;if("string"==typeof j){for(;se<U;)if(J[X++]=j.charCodeAt(se++),X==this.blockSize){r(this,J),X=0;break}}else for(;se<U;)if(J[X++]=j[se++],X==this.blockSize){r(this,J),X=0;break}}this.h=X,this.o+=U},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var U=1;U<j.length-8;++U)j[U]=0;var $=8*this.o;for(U=j.length-8;U<j.length;++U)j[U]=255&$,$/=256;for(this.u(j),j=Array(16),U=$=0;4>U;++U)for(var J=0;32>J;J+=8)j[$++]=this.g[U]>>>J&255;return j};var a={};function l(j){return-128<=j&&128>j?function s(j,U){var $=a;return Object.prototype.hasOwnProperty.call($,j)?$[j]:$[j]=U(j)}(j,function(U){return new o([0|U],0>U?-1:0)}):new o([0|j],0>j?-1:0)}function c(j){if(isNaN(j)||!isFinite(j))return _;if(0>j)return L(c(-j));for(var U=[],$=1,J=0;j>=$;J++)U[J]=j/$|0,$*=4294967296;return new o(U,0)}var _=l(0),b=l(1),T=l(16777216);function P(j){if(0!=j.h)return!1;for(var U=0;U<j.g.length;U++)if(0!=j.g[U])return!1;return!0}function N(j){return-1==j.h}function L(j){for(var U=j.g.length,$=[],J=0;J<U;J++)$[J]=~j.g[J];return new o($,~j.h).add(b)}function W(j,U){return j.add(L(U))}function H(j,U){for(;(65535&j[U])!=j[U];)j[U+1]+=j[U]>>>16,j[U]&=65535,U++}function q(j,U){this.g=j,this.h=U}function ee(j,U){if(P(U))throw Error("division by zero");if(P(j))return new q(_,_);if(N(j))return U=ee(L(j),U),new q(L(U.g),L(U.h));if(N(U))return U=ee(j,L(U)),new q(L(U.g),U.h);if(30<j.g.length){if(N(j)||N(U))throw Error("slowDivide_ only works with positive integers.");for(var $=b,J=U;0>=J.l(j);)$=Ae($),J=Ae(J);var X=Ve($,1),se=Ve(J,1);for(J=Ve(J,2),$=Ve($,2);!P(J);){var z=se.add(J);0>=z.l(j)&&(X=X.add($),se=z),J=Ve(J,1),$=Ve($,1)}return U=W(j,X.j(U)),new q(X,U)}for(X=_;0<=j.l(U);){for($=Math.max(1,Math.floor(j.m()/U.m())),J=48>=(J=Math.ceil(Math.log($)/Math.LN2))?1:Math.pow(2,J-48),z=(se=c($)).j(U);N(z)||0<z.l(j);)z=(se=c($-=J)).j(U);P(se)&&(se=b),X=X.add(se),j=W(j,z)}return new q(X,j)}function Ae(j){for(var U=j.g.length+1,$=[],J=0;J<U;J++)$[J]=j.i(J)<<1|j.i(J-1)>>>31;return new o($,j.h)}function Ve(j,U){var $=U>>5;U%=32;for(var J=j.g.length-$,X=[],se=0;se<J;se++)X[se]=0<U?j.i(se+$)>>>U|j.i(se+$+1)<<32-U:j.i(se+$);return new o(X,j.h)}(n=o.prototype).m=function(){if(N(this))return-L(this).m();for(var j=0,U=1,$=0;$<this.g.length;$++){var J=this.i($);j+=(0<=J?J:4294967296+J)*U,U*=4294967296}return j},n.toString=function(j){if(2>(j=j||10)||36<j)throw Error("radix out of range: "+j);if(P(this))return"0";if(N(this))return"-"+L(this).toString(j);for(var U=c(Math.pow(j,6)),$=this,J="";;){var X=ee($,U).g,se=((0<($=W($,X.j(U))).g.length?$.g[0]:$.h)>>>0).toString(j);if(P($=X))return se+J;for(;6>se.length;)se="0"+se;J=se+J}},n.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h},n.l=function(j){return N(j=W(this,j))?-1:P(j)?0:1},n.abs=function(){return N(this)?L(this):this},n.add=function(j){for(var U=Math.max(this.g.length,j.g.length),$=[],J=0,X=0;X<=U;X++){var se=J+(65535&this.i(X))+(65535&j.i(X)),z=(se>>>16)+(this.i(X)>>>16)+(j.i(X)>>>16);J=z>>>16,$[X]=(z&=65535)<<16|(se&=65535)}return new o($,-2147483648&$[$.length-1]?-1:0)},n.j=function(j){if(P(this)||P(j))return _;if(N(this))return N(j)?L(this).j(L(j)):L(L(this).j(j));if(N(j))return L(this.j(L(j)));if(0>this.l(T)&&0>j.l(T))return c(this.m()*j.m());for(var U=this.g.length+j.g.length,$=[],J=0;J<2*U;J++)$[J]=0;for(J=0;J<this.g.length;J++)for(var X=0;X<j.g.length;X++){var se=this.i(J)>>>16,z=65535&this.i(J),mr=j.i(X)>>>16,to=65535&j.i(X);$[2*J+2*X]+=z*to,H($,2*J+2*X),$[2*J+2*X+1]+=se*to,H($,2*J+2*X+1),$[2*J+2*X+1]+=z*mr,H($,2*J+2*X+1),$[2*J+2*X+2]+=se*mr,H($,2*J+2*X+2)}for(J=0;J<U;J++)$[J]=$[2*J+1]<<16|$[2*J];for(J=U;J<2*U;J++)$[J]=0;return new o($,0)},n.A=function(j){return ee(this,j).h},n.and=function(j){for(var U=Math.max(this.g.length,j.g.length),$=[],J=0;J<U;J++)$[J]=this.i(J)&j.i(J);return new o($,this.h&j.h)},n.or=function(j){for(var U=Math.max(this.g.length,j.g.length),$=[],J=0;J<U;J++)$[J]=this.i(J)|j.i(J);return new o($,this.h|j.h)},n.xor=function(j){for(var U=Math.max(this.g.length,j.g.length),$=[],J=0;J<U;J++)$[J]=this.i(J)^j.i(J);return new o($,this.h^j.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,NL=ML.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=function p(j,U){if(0==j.length)throw Error("number format error: empty string");if(2>(U=U||10)||36<U)throw Error("radix out of range: "+U);if("-"==j.charAt(0))return L(p(j.substring(1),U));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var $=c(Math.pow(U,8)),J=_,X=0;X<j.length;X+=8){var se=Math.min(8,j.length-X),z=parseInt(j.substring(X,X+se),U);8>se?(se=c(Math.pow(U,se)),J=J.j(se).add(c(z))):J=(J=J.j($)).add(c(z))}return J},ru=ML.Integer=o}).apply(typeof OL<"u"?OL:typeof self<"u"?self:typeof window<"u"?window:{});var kL,wg,FL,iI,xT,LL,VL,BL,nI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},La={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,w,D){return f==Array.prototype||f==Object.prototype||(f[w]=D.value),f},i=function e(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof nI&&nI];for(var w=0;w<f.length;++w){var D=f[w];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}(this);!function r(f,w){if(w)e:{var D=i;f=f.split(".");for(var F=0;F<f.length-1;F++){var ne=f[F];if(!(ne in D))break e;D=D[ne]}(w=w(F=D[f=f[f.length-1]]))!=F&&null!=w&&t(D,f,{configurable:!0,writable:!0,value:w})}}("Array.prototype.values",function(f){return f||function(){return function s(f,w){f instanceof String&&(f+="");var D=0,F=!1,ne={next:function(){if(!F&&D<f.length){var ye=D++;return{value:w(ye,f[ye]),done:!1}}return F=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}(this,function(w,D){return D})}});var o=o||{},a=this||self;function l(f){var w=typeof f;return"array"==(w="object"!=w?w:f?Array.isArray(f)?"array":w:"null")||"object"==w&&"number"==typeof f.length}function c(f){var w=typeof f;return"object"==w&&null!=f||"function"==w}function p(f,w,D){return f.call.apply(f.bind,arguments)}function _(f,w,D){if(!f)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,F),f.apply(w,ne)}}return function(){return f.apply(w,arguments)}}function b(f,w,D){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:_).apply(null,arguments)}function T(f,w){var D=Array.prototype.slice.call(arguments,1);return function(){var F=D.slice();return F.push.apply(F,arguments),f.apply(this,F)}}function P(f,w){function D(){}D.prototype=w.prototype,f.aa=w.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(F,ne,ye){for(var ze=Array(arguments.length-2),zn=2;zn<arguments.length;zn++)ze[zn-2]=arguments[zn];return w.prototype[ne].apply(F,ze)}}function N(f){const w=f.length;if(0<w){const D=Array(w);for(let F=0;F<w;F++)D[F]=f[F];return D}return[]}function L(f,w){for(let D=1;D<arguments.length;D++){const F=arguments[D];if(l(F)){const ne=f.length||0,ye=F.length||0;f.length=ne+ye;for(let ze=0;ze<ye;ze++)f[ne+ze]=F[ze]}else f.push(F)}}function H(f){return/^[\s\xa0]*$/.test(f)}function q(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function ee(f){return ee[" "](f),f}ee[" "]=function(){};var Ae=!(-1==q().indexOf("Gecko")||-1!=q().toLowerCase().indexOf("webkit")&&-1==q().indexOf("Edge")||-1!=q().indexOf("Trident")||-1!=q().indexOf("MSIE")||-1!=q().indexOf("Edge"));function Ve(f,w,D){for(const F in f)w.call(D,f[F],F,f)}function U(f){const w={};for(const D in f)w[D]=f[D];return w}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(f,w){let D,F;for(let ne=1;ne<arguments.length;ne++){for(D in F=arguments[ne],F)f[D]=F[D];for(let ye=0;ye<$.length;ye++)D=$[ye],Object.prototype.hasOwnProperty.call(F,D)&&(f[D]=F[D])}}function X(f){var w=1;f=f.split(":");const D=[];for(;0<w&&f.length;)D.push(f.shift()),w--;return f.length&&D.push(f.join(":")),D}function se(f){a.setTimeout(()=>{throw f},0)}function z(){var f=Bt;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}var to=new class W{constructor(w,D){this.i=w,this.j=D,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}(()=>new nt,f=>f.reset());class nt{constructor(){this.next=this.g=this.h=null}set(w,D){this.h=w,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,lt=!1,Bt=new class mr{constructor(){this.h=this.g=null}add(w,D){const F=to.get();F.set(w,D),this.h?this.h.next=F:this.g=F,this.h=F}},jn=()=>{const f=a.Promise.resolve(void 0);ct=()=>{f.then(Qr)}};var Qr=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(D){se(D)}var w=to;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}lt=!1};function ai(){this.s=this.s,this.C=this.C}function Ln(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ai.prototype.s=!1,ai.prototype.ma=function(){this.s||(this.s=!0,this.N())},ai.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ln.prototype.h=function(){this.defaultPrevented=!0};var En=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,w),a.removeEventListener("test",D,w)}catch{}return f}();function Za(f,w){if(Ln.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,F=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(Ae){e:{try{ee(w.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(w=null)}}else"mouseover"==D?w=f.fromElement:"mouseout"==D&&(w=f.toElement);this.relatedTarget=w,F?(this.clientX=void 0!==F.clientX?F.clientX:F.pageX,this.clientY=void 0!==F.clientY?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:df[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Za.aa.h.call(this)}}P(Za,Ln);var df={2:"touch",3:"pen",4:"mouse"};Za.prototype.h=function(){Za.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Yn="closure_listenable_"+(1e6*Math.random()|0),Co=0;function hs(f,w,D,F,ne){this.listener=f,this.proxy=null,this.src=w,this.type=D,this.capture=!!F,this.ha=ne,this.key=++Co,this.da=this.fa=!1}function Qa(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Yl(f){this.src=f,this.g={},this.h=0}function HA(f,w){var D=w.type;if(D in f.g){var ye,F=f.g[D],ne=Array.prototype.indexOf.call(F,w,void 0);(ye=0<=ne)&&Array.prototype.splice.call(F,ne,1),ye&&(Qa(w),0==f.g[D].length&&(delete f.g[D],f.h--))}}function jA(f,w,D,F){for(var ne=0;ne<f.length;++ne){var ye=f[ne];if(!ye.da&&ye.listener==w&&ye.capture==!!D&&ye.ha==F)return ne}return-1}Yl.prototype.add=function(f,w,D,F,ne){var ye=f.toString();(f=this.g[ye])||(f=this.g[ye]=[],this.h++);var ze=jA(f,w,F,ne);return-1<ze?(w=f[ze],D||(w.fa=!1)):((w=new hs(w,this.src,ye,!!F,ne)).fa=D,f.push(w)),w};var zA="closure_lm_"+(1e6*Math.random()|0),$A={};function P4(f,w,D,F,ne){if(F&&F.once)return M4(f,w,D,F,ne);if(Array.isArray(w)){for(var ye=0;ye<w.length;ye++)P4(f,w[ye],D,F,ne);return null}return D=KA(D),f&&f[Yn]?f.K(w,D,c(F)?!!F.capture:!!F,ne):O4(f,w,D,!1,F,ne)}function O4(f,w,D,F,ne,ye){if(!w)throw Error("Invalid event type");var ze=c(ne)?!!ne.capture:!!ne,zn=qA(f);if(zn||(f[zA]=zn=new Yl(f)),(D=zn.add(w,D,F,ze,ye)).proxy)return D;if(F=function sue(){const w=oue;return function f(D){return w.call(f.src,f.listener,D)}}(),D.proxy=F,F.src=f,F.listener=D,f.addEventListener)En||(ne=ze),void 0===ne&&(ne=!1),f.addEventListener(w.toString(),F,ne);else if(f.attachEvent)f.attachEvent(k4(w.toString()),F);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(F)}return D}function M4(f,w,D,F,ne){if(Array.isArray(w)){for(var ye=0;ye<w.length;ye++)M4(f,w[ye],D,F,ne);return null}return D=KA(D),f&&f[Yn]?f.L(w,D,c(F)?!!F.capture:!!F,ne):O4(f,w,D,!0,F,ne)}function N4(f,w,D,F,ne){if(Array.isArray(w))for(var ye=0;ye<w.length;ye++)N4(f,w[ye],D,F,ne);else F=c(F)?!!F.capture:!!F,D=KA(D),f&&f[Yn]?(f=f.i,(w=String(w).toString())in f.g&&-1<(D=jA(ye=f.g[w],D,F,ne))&&(Qa(ye[D]),Array.prototype.splice.call(ye,D,1),0==ye.length&&(delete f.g[w],f.h--))):f&&(f=qA(f))&&(w=f.g[w.toString()],f=-1,w&&(f=jA(w,D,F,ne)),(D=-1<f?w[f]:null)&&WA(D))}function WA(f){if("number"!=typeof f&&f&&!f.da){var w=f.src;if(w&&w[Yn])HA(w.i,f);else{var D=f.type,F=f.proxy;w.removeEventListener?w.removeEventListener(D,F,f.capture):w.detachEvent?w.detachEvent(k4(D),F):w.addListener&&w.removeListener&&w.removeListener(F),(D=qA(w))?(HA(D,f),0==D.h&&(D.src=null,w[zA]=null)):Qa(f)}}}function k4(f){return f in $A?$A[f]:$A[f]="on"+f}function oue(f,w){if(f.da)f=!0;else{w=new Za(w,this);var D=f.listener,F=f.ha||f.src;f.fa&&WA(f),f=D.call(F,w)}return f}function qA(f){return(f=f[zA])instanceof Yl?f:null}var GA="__closure_events_fn_"+(1e9*Math.random()>>>0);function KA(f){return"function"==typeof f?f:(f[GA]||(f[GA]=function(w){return f.handleEvent(w)}),f[GA])}function Nr(){ai.call(this),this.i=new Yl(this),this.M=this,this.F=null}function Yr(f,w){var D,F=f.F;if(F)for(D=[];F;F=F.F)D.push(F);if(f=f.M,F=w.type||w,"string"==typeof w)w=new Ln(w,f);else if(w instanceof Ln)w.target=w.target||f;else{var ne=w;J(w=new Ln(F,f),ne)}if(ne=!0,D)for(var ye=D.length-1;0<=ye;ye--){var ze=w.g=D[ye];ne=Cb(ze,F,!0,w)&&ne}if(ne=Cb(ze=w.g=f,F,!0,w)&&ne,ne=Cb(ze,F,!1,w)&&ne,D)for(ye=0;ye<D.length;ye++)ne=Cb(ze=w.g=D[ye],F,!1,w)&&ne}function Cb(f,w,D,F){if(!(w=f.i.g[String(w)]))return!0;w=w.concat();for(var ne=!0,ye=0;ye<w.length;++ye){var ze=w[ye];if(ze&&!ze.da&&ze.capture==D){var zn=ze.listener,_r=ze.ha||ze.src;ze.fa&&HA(f.i,ze),ne=!1!==zn.call(_r,F)&&ne}}return ne&&!F.defaultPrevented}function F4(f,w,D){if("function"==typeof f)D&&(f=b(f,D));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=b(f.handleEvent,f)}return 2147483647<Number(w)?-1:a.setTimeout(f,w||0)}function L4(f){f.g=F4(()=>{f.g=null,f.i&&(f.i=!1,L4(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}P(Nr,ai),Nr.prototype[Yn]=!0,Nr.prototype.removeEventListener=function(f,w,D,F){N4(this,f,w,D,F)},Nr.prototype.N=function(){if(Nr.aa.N.call(this),this.i){var w,f=this.i;for(w in f.g){for(var D=f.g[w],F=0;F<D.length;F++)Qa(D[F]);delete f.g[w],f.h--}}this.F=null},Nr.prototype.K=function(f,w,D,F){return this.i.add(String(f),w,!1,D,F)},Nr.prototype.L=function(f,w,D,F){return this.i.add(String(f),w,!0,D,F)};class aue extends ai{constructor(w,D){super(),this.m=w,this.l=D,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:L4(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _m(f){ai.call(this),this.h=f,this.g={}}P(_m,ai);var V4=[];function B4(f){Ve(f.g,function(w,D){this.g.hasOwnProperty(D)&&WA(w)},f),f.g={}}_m.prototype.N=function(){_m.aa.N.call(this),B4(this)},_m.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ZA=a.JSON.stringify,lue=a.JSON.parse,cue=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function QA(){}function H4(){}QA.prototype.h=null;var ym={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function YA(){Ln.call(this,"d")}function JA(){Ln.call(this,"c")}P(YA,Ln),P(JA,Ln);var xu={},j4=null;function Tb(){return j4=j4||new Nr}function z4(f){Ln.call(this,xu.La,f)}function vm(f){const w=Tb();Yr(w,new z4(w))}function $4(f,w){Ln.call(this,xu.STAT_EVENT,f),this.stat=w}function Jr(f){const w=Tb();Yr(w,new $4(w,f))}function W4(f,w){Ln.call(this,xu.Ma,f),this.size=w}function Im(f,w){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function bm(){this.g=!0}function hf(f,w,D,F){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+function fue(f,w){if(!f.g)return w;if(!w)return null;try{var D=JSON.parse(w);if(D)for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var F=D[f];if(!(2>F.length)){var ne=F[1];if(Array.isArray(ne)&&!(1>ne.length)){var ye=ne[0];if("noop"!=ye&&"stop"!=ye&&"close"!=ye)for(var ze=1;ze<ne.length;ze++)ne[ze]=""}}}return ZA(D)}catch{return w}}(f,D)+(F?" "+F:"")})}xu.La="serverreachability",P(z4,Ln),xu.STAT_EVENT="statevent",P($4,Ln),xu.Ma="timingevent",P(W4,Ln),bm.prototype.xa=function(){this.g=!1},bm.prototype.info=function(){};var XA,Sb={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},q4={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Db(){}function Jl(f,w,D,F){this.j=f,this.i=w,this.l=D,this.R=F||1,this.U=new _m(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new G4}function G4(){this.i=null,this.g="",this.h=!1}P(Db,QA),Db.prototype.g=function(){return new XMLHttpRequest},Db.prototype.i=function(){return{}},XA=new Db;var K4={},e1={};function t1(f,w,D){f.L=1,f.v=Pb(Ya(w)),f.m=D,f.P=!0,Z4(f,null)}function Z4(f,w){f.F=Date.now(),Ab(f),f.A=Ya(f.v);var D=f.A,F=f.R;Array.isArray(F)||(F=[String(F)]),cH(D.i,"t",F),f.C=0,D=f.j.J,f.h=new G4,f.g=DH(f.j,D?w:null,!f.m),0<f.O&&(f.M=new aue(b(f.Y,f,f.g),f.O)),w=f.U,D=f.g,F=f.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(V4[0]=ne.toString()),ne=V4);for(var ye=0;ye<ne.length;ye++){var ze=P4(D,ne[ye],F||w.handleEvent,!1,w.h||w);if(!ze)break;w.g[ze.key]=ze}w=f.H?U(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),vm(),function uue(f,w,D,F,ne,ye){f.info(function(){if(f.g)if(ye)for(var ze="",zn=ye.split("&"),_r=0;_r<zn.length;_r++){var mn=zn[_r].split("=");if(1<mn.length){var kr=mn[0];mn=mn[1];var Fr=kr.split("_");ze=2<=Fr.length&&"type"==Fr[1]?ze+(kr+"=")+mn+"&":ze+(kr+"=redacted&")}}else ze=null;else ze=ye;return"XMLHTTP REQ ("+F+") [attempt "+ne+"]: "+w+"\n"+D+"\n"+ze})}(f.i,f.u,f.A,f.l,f.R,f.m)}function Q4(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function pue(f,w){var D=f.C,F=w.indexOf("\n",D);return-1==F?e1:(D=Number(w.substring(D,F)),isNaN(D)?K4:(F+=1)+D>w.length?e1:(w=w.slice(F,F+D),f.C=F+D,w))}function Ab(f){f.S=Date.now()+f.I,Y4(f,f.I)}function Y4(f,w){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Im(b(f.ba,f),w)}function n1(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function wm(f){0==f.j.G||f.J||EH(f.j,f)}function Ru(f){n1(f);var w=f.M;w&&"function"==typeof w.ma&&w.ma(),f.M=null,B4(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function r1(f,w){try{var D=f.j;if(0!=D.G&&(D.g==f||s1(D.h,f)))if(!f.K&&s1(D.h,f)&&3==D.G){try{var F=D.Da.g.parse(w)}catch{F=null}if(Array.isArray(F)&&3==F.length){var ne=F;if(0==ne[0]){e:if(!D.u){if(D.g){if(!(D.g.F+3e3<f.F))break e;Fb(D),Nb(D)}c1(D),Jr(18)}}else D.za=ne[1],0<D.za-D.T&&37500>ne[2]&&D.F&&0==D.v&&!D.C&&(D.C=Im(b(D.Za,D),6e3));if(1>=eH(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Ou(D,11)}else if((f.K||D.g==f)&&Fb(D),!H(w))for(ne=D.Da.g.parse(w),w=0;w<ne.length;w++){let mn=ne[w];if(D.T=mn[0],mn=mn[1],2==D.G)if("c"==mn[0]){D.K=mn[1],D.ia=mn[2];const kr=mn[3];null!=kr&&(D.la=kr,D.j.info("VER="+D.la));const Fr=mn[4];null!=Fr&&(D.Aa=Fr,D.j.info("SVER="+D.Aa));const gf=mn[5];null!=gf&&"number"==typeof gf&&0<gf&&(D.L=F=1.5*gf,D.j.info("backChannelRequestTimeoutMs_="+F)),F=D;const To=f.g;if(To){const Vb=To.g?To.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vb){var ye=F.h;ye.g||-1==Vb.indexOf("spdy")&&-1==Vb.indexOf("quic")&&-1==Vb.indexOf("h2")||(ye.j=ye.l,ye.g=new Set,ye.h&&(o1(ye,ye.h),ye.h=null))}if(F.D){const d1=To.g?To.g.getResponseHeader("X-HTTP-Session-Id"):null;d1&&(F.ya=d1,li(F.I,F.D,d1))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms"));var ze=f;if((F=D).qa=SH(F,F.J?F.ia:null,F.W),ze.K){tH(F.h,ze);var zn=ze,_r=F.L;_r&&(zn.I=_r),zn.B&&(n1(zn),Ab(zn)),F.g=ze}else bH(F);0<D.i.length&&kb(D)}else"stop"!=mn[0]&&"close"!=mn[0]||Ou(D,7);else 3==D.G&&("stop"==mn[0]||"close"==mn[0]?"stop"==mn[0]?Ou(D,7):l1(D):"noop"!=mn[0]&&D.l&&D.l.ta(mn),D.v=0)}vm()}catch{}}function J4(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X4(f){return!!f.h||!!f.g&&f.g.size>=f.j}function eH(f){return f.h?1:f.g?f.g.size:0}function s1(f,w){return f.h?f.h==w:!!f.g&&f.g.has(w)}function o1(f,w){f.g?f.g.add(w):f.h=w}function tH(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}function nH(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let w=f.i;for(const D of f.g.values())w=w.concat(D.D);return w}return N(f.i)}function iH(f,w){if(f.forEach&&"function"==typeof f.forEach)f.forEach(w,void 0);else if(l(f)||"string"==typeof f)Array.prototype.forEach.call(f,w,void 0);else for(var D=function _ue(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||"string"==typeof f){var w=[];f=f.length;for(var D=0;D<f;D++)w.push(D);return w}w=[],D=0;for(const F in f)w[D++]=F;return w}}}(f),F=function mue(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(l(f)){for(var w=[],D=f.length,F=0;F<D;F++)w.push(f[F]);return w}for(F in w=[],D=0,f)w[D++]=f[F];return w}(f),ne=F.length,ye=0;ye<ne;ye++)w.call(void 0,F[ye],D&&D[ye],f)}Jl.prototype.ca=function(f){f=f.target;const w=this.M;w&&3==Ja(f)?w.j():this.Y(f)},Jl.prototype.Y=function(f){try{if(f==this.g)e:{const Fr=Ja(this.g);var w=this.g.Ba();if(this.g.Z(),!(3>Fr)&&(3!=Fr||this.g&&(this.h.h||this.g.oa()||mH(this.g)))){this.J||4!=Fr||7==w||vm(),n1(this);var D=this.g.Z();this.X=D;t:if(Q4(this)){var F=mH(this.g);f="";var ne=F.length,ye=4==Ja(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ru(this),wm(this);var ze="";break t}this.h.i=new a.TextDecoder}for(w=0;w<ne;w++)this.h.h=!0,f+=this.h.i.decode(F[w],{stream:!(ye&&w==ne-1)});F.length=0,this.h.g+=f,this.C=0,ze=this.h.g}else ze=this.g.oa();if(this.o=200==D,function due(f,w,D,F,ne,ye,ze){f.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+ne+"]: "+w+"\n"+D+"\n"+ye+" "+ze})}(this.i,this.u,this.A,this.l,this.R,Fr,D),this.o){if(this.T&&!this.K){t:{if(this.g){var zn,_r=this.g;if((zn=_r.g?_r.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(zn)){var mn=zn;break t}}mn=null}if(!(D=mn)){this.o=!1,this.s=3,Jr(12),Ru(this),wm(this);break e}hf(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,r1(this,D)}if(this.P){let To;for(D=!0;!this.J&&this.C<ze.length;){if(To=pue(this,ze),To==e1){4==Fr&&(this.s=4,Jr(14),D=!1),hf(this.i,this.l,null,"[Incomplete Response]");break}if(To==K4){this.s=4,Jr(15),hf(this.i,this.l,ze,"[Invalid Chunk]"),D=!1;break}hf(this.i,this.l,To,null),r1(this,To)}if(Q4(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Fr||0!=ze.length||this.h.h||(this.s=1,Jr(16),D=!1),this.o=this.o&&D,D){if(0<ze.length&&!this.W){this.W=!0;var kr=this.j;kr.g==this&&kr.ba&&!kr.M&&(kr.j.info("Great, no buffering proxy detected. Bytes received: "+ze.length),u1(kr),kr.M=!0,Jr(11))}}else hf(this.i,this.l,ze,"[Invalid Chunked Response]"),Ru(this),wm(this)}else hf(this.i,this.l,ze,null),r1(this,ze);4==Fr&&Ru(this),this.o&&!this.J&&(4==Fr?EH(this.j,this):(this.o=!1,Ab(this)))}else(function Pue(f){const w={};f=(f.g&&2<=Ja(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let F=0;F<f.length;F++){if(H(f[F]))continue;var D=X(f[F]);const ne=D[0];if("string"!=typeof(D=D[1]))continue;D=D.trim();const ye=w[ne]||[];w[ne]=ye,ye.push(D)}!function j(f,w){for(const D in f)w.call(void 0,f[D],D,f)}(w,function(F){return F.join(", ")})})(this.g),400==D&&0<ze.indexOf("Unknown SID")?(this.s=3,Jr(12)):(this.s=0,Jr(13)),Ru(this),wm(this)}}}catch{}},Jl.prototype.cancel=function(){this.J=!0,Ru(this)},Jl.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function hue(f,w){f.info(function(){return"TIMEOUT: "+w})}(this.i,this.A),2!=this.L&&(vm(),Jr(17)),Ru(this),this.s=2,wm(this)):Y4(this,this.S-f)},J4.prototype.cancel=function(){if(this.i=nH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var rH=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pu(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Pu){this.h=f.h,xb(this,f.j),this.o=f.o,this.g=f.g,Rb(this,f.s),this.l=f.l;var w=f.i,D=new Tm;D.i=w.i,w.g&&(D.g=new Map(w.g),D.h=w.h),sH(this,D),this.m=f.m}else f&&(w=String(f).match(rH))?(this.h=!1,xb(this,w[1]||"",!0),this.o=Em(w[2]||""),this.g=Em(w[3]||"",!0),Rb(this,w[4]),this.l=Em(w[5]||"",!0),sH(this,w[6]||"",!0),this.m=Em(w[7]||"")):(this.h=!1,this.i=new Tm(null,this.h))}function Ya(f){return new Pu(f)}function xb(f,w,D){f.j=D?Em(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Rb(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function sH(f,w,D){w instanceof Tm?(f.i=w,function Cue(f,w){w&&!f.j&&(Xl(f),f.i=null,f.g.forEach(function(D,F){var ne=F.toLowerCase();F!=ne&&(aH(this,F),cH(this,ne,D))},f)),f.j=w}(f.i,f.h)):(D||(w=Cm(w,wue)),f.i=new Tm(w,f.h))}function li(f,w,D){f.i.set(w,D)}function Pb(f){return li(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Em(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Cm(f,w,D){return"string"==typeof f?(f=encodeURI(f).replace(w,vue),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function vue(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Pu.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Cm(w,oH,!0),":");var D=this.g;return(D||"file"==w)&&(f.push("//"),(w=this.o)&&f.push(Cm(w,oH,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(D=this.s)&&f.push(":",String(D))),(D=this.l)&&(this.g&&"/"!=D.charAt(0)&&f.push("/"),f.push(Cm(D,"/"==D.charAt(0)?bue:Iue,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",Cm(D,Eue)),f.join("")};var f,oH=/[#\/\?@]/g,Iue=/[#\?:]/g,bue=/[#\?]/g,wue=/[#\?@]/g,Eue=/#/g;function Tm(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Xl(f){f.g||(f.g=new Map,f.h=0,f.i&&function yue(f,w){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var F=f[D].indexOf("="),ne=null;if(0<=F){var ye=f[D].substring(0,F);ne=f[D].substring(F+1)}else ye=f[D];w(ye,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}(f.i,function(w,D){f.add(decodeURIComponent(w.replace(/\+/g," ")),D)}))}function aH(f,w){Xl(f),w=ff(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function lH(f,w){return Xl(f),w=ff(f,w),f.g.has(w)}function cH(f,w,D){aH(f,w),0<D.length&&(f.i=null,f.g.set(ff(f,w),N(D)),f.h+=D.length)}function ff(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function ec(f,w,D,F,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),F(D)}catch{}}function Due(){this.g=new cue}function Aue(f,w,D){const F=D||"";try{iH(f,function(ne,ye){let ze=ne;c(ne)&&(ze=ZA(ne)),w.push(F+ye+"="+encodeURIComponent(ze))})}catch(ne){throw w.push(F+"type="+encodeURIComponent("_badmap")),ne}}function Sm(f){this.l=f.Ub||null,this.j=f.eb||!1}function Ob(f,w){Nr.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function uH(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Dm(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Am(f)}function Am(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function dH(f){let w="";return Ve(f,function(D,F){w+=F,w+=":",w+=D,w+="\r\n"}),w}function a1(f,w,D){e:{for(F in D){var F=!1;break e}F=!0}F||(D=dH(D),"string"==typeof f?null!=D&&encodeURIComponent(String(D)):li(f,w,D))}function Ci(f){Nr.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Tm.prototype).add=function(f,w){Xl(this),this.i=null,f=ff(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(w),this.h+=1,this},n.forEach=function(f,w){Xl(this),this.g.forEach(function(D,F){D.forEach(function(ne){f.call(w,ne,F,this)},this)},this)},n.na=function(){Xl(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),D=[];for(let F=0;F<w.length;F++){const ne=f[F];for(let ye=0;ye<ne.length;ye++)D.push(w[F])}return D},n.V=function(f){Xl(this);let w=[];if("string"==typeof f)lH(this,f)&&(w=w.concat(this.g.get(ff(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)w=w.concat(f[D])}return w},n.set=function(f,w){return Xl(this),this.i=null,lH(this,f=ff(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},n.get=function(f,w){return f&&0<(f=this.V(f)).length?String(f[0]):w},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var D=0;D<w.length;D++){var F=w[D];const ye=encodeURIComponent(String(F)),ze=this.V(F);for(F=0;F<ze.length;F++){var ne=ye;""!==ze[F]&&(ne+="="+encodeURIComponent(String(ze[F]))),f.push(ne)}}return this.i=f.join("&")},P(Sm,QA),Sm.prototype.g=function(){return new Ob(this.l,this.j)},Sm.prototype.i=(f={},function(){return f}),P(Ob,Nr),(n=Ob.prototype).open=function(f,w){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Am(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||a).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dm(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Am(this)),this.g&&(this.readyState=3,Am(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uH(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Dm(this):Am(this),3==this.readyState&&uH(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,Dm(this))},n.Qa=function(f){this.g&&(this.response=f,Dm(this))},n.ga=function(){this.g&&Dm(this)},n.setRequestHeader=function(f,w){this.u.append(f,w)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var D=w.next();!D.done;)f.push((D=D.value)[0]+": "+D[1]),D=w.next();return f.join("\r\n")},Object.defineProperty(Ob.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),P(Ci,Nr);var xue=/^https?$/i,Rue=["POST","PUT"];function hH(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,fH(f),Mb(f)}function fH(f){f.A||(f.A=!0,Yr(f,"complete"),Yr(f,"error"))}function pH(f){if(f.h&&typeof o<"u"&&(!f.v[1]||4!=Ja(f)||2!=f.Z()))if(f.u&&4==Ja(f))F4(f.Ea,0,f);else if(Yr(f,"readystatechange"),4==Ja(f)){f.h=!1;try{const ze=f.Z();e:switch(ze){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var D;if(!(D=w)){var F;if(F=0===ze){var ne=String(f.D).match(rH)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),F=!xue.test(ne?ne.toLowerCase():"")}D=F}if(D)Yr(f,"complete"),Yr(f,"success");else{f.m=6;try{var ye=2<Ja(f)?f.g.statusText:""}catch{ye=""}f.l=ye+" ["+f.Z()+"]",fH(f)}}finally{Mb(f)}}}function Mb(f,w){if(f.g){gH(f);const D=f.g,F=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Yr(f,"ready");try{D.onreadystatechange=F}catch{}}}function gH(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function Ja(f){return f.g?f.g.readyState:0}function mH(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function xm(f,w,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||w}function _H(f){this.Aa=0,this.i=[],this.j=new bm,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xm("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xm("baseRetryDelayMs",5e3,f),this.cb=xm("retryDelaySeedMs",1e4,f),this.Wa=xm("forwardChannelMaxRetries",2,f),this.wa=xm("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new J4(f&&f.concurrentRequestLimit),this.Da=new Due,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function l1(f){if(yH(f),3==f.G){var w=f.U++,D=Ya(f.I);if(li(D,"SID",f.K),li(D,"RID",w),li(D,"TYPE","terminate"),Rm(f,D),(w=new Jl(f,f.j,w)).L=2,w.v=Pb(Ya(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(w.v.toString(),"")}catch{}!D&&a.Image&&((new Image).src=w.v,D=!0),D||(w.g=DH(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Ab(w)}TH(f)}function Nb(f){f.g&&(u1(f),f.g.cancel(),f.g=null)}function yH(f){Nb(f),f.u&&(a.clearTimeout(f.u),f.u=null),Fb(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function kb(f){if(!X4(f.h)&&!f.s){f.s=!0;var w=f.Ga;ct||jn(),lt||(ct(),lt=!0),Bt.add(w,f),f.B=0}}function vH(f,w){var D;D=w?w.l:f.U++;const F=Ya(f.I);li(F,"SID",f.K),li(F,"RID",D),li(F,"AID",f.T),Rm(f,F),f.m&&f.o&&a1(F,f.m,f.o),D=new Jl(f,f.j,D,f.B+1),null===f.m&&(D.H=f.o),w&&(f.i=w.D.concat(f.i)),w=IH(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),o1(f.h,D),t1(D,F,w)}function Rm(f,w){f.H&&Ve(f.H,function(D,F){li(w,F,D)}),f.l&&iH({},function(D,F){li(w,F,D)})}function IH(f,w,D){D=Math.min(f.i.length,D);var F=f.l?b(f.l.Na,f.l,f):null;e:{var ne=f.i;let ye=-1;for(;;){const ze=["count="+D];-1==ye?0<D?(ye=ne[0].g,ze.push("ofs="+ye)):ye=0:ze.push("ofs="+ye);let zn=!0;for(let _r=0;_r<D;_r++){let mn=ne[_r].g;const kr=ne[_r].map;if(mn-=ye,0>mn)ye=Math.max(0,ne[_r].g-100),zn=!1;else try{Aue(kr,ze,"req"+mn+"_")}catch{F&&F(kr)}}if(zn){F=ze.join("&");break e}}}return f=f.i.splice(0,D),w.D=f,F}function bH(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;ct||jn(),lt||(ct(),lt=!0),Bt.add(w,f),f.v=0}}function c1(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Im(b(f.Fa,f),CH(f,f.v)),f.v++,0))}function u1(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function wH(f){f.g=new Jl(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var w=Ya(f.qa);li(w,"RID","rpc"),li(w,"SID",f.K),li(w,"AID",f.T),li(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&li(w,"TO",f.ja),li(w,"TYPE","xmlhttp"),Rm(f,w),f.m&&f.o&&a1(w,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=Pb(Ya(w)),D.m=null,D.P=!0,Z4(D,f)}function Fb(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function EH(f,w){var D=null;if(f.g==w){Fb(f),u1(f),f.g=null;var F=2}else{if(!s1(f.h,w))return;D=w.D,tH(f.h,w),F=1}if(0!=f.G)if(w.o)if(1==F){D=w.m?w.m.length:0,w=Date.now()-w.F;var ne=f.B;Yr(F=Tb(),new W4(F,D)),kb(f)}else bH(f);else if(3==(ne=w.s)||0==ne&&0<w.X||!(1==F&&function Oue(f,w){return!(eH(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=w.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Im(b(f.Ga,f,w),CH(f,f.B)),f.B++,0)))}(f,w)||2==F&&c1(f)))switch(D&&0<D.length&&(w=f.h,w.i=w.i.concat(D)),ne){case 1:Ou(f,5);break;case 4:Ou(f,10);break;case 3:Ou(f,6);break;default:Ou(f,2)}}function CH(f,w){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*w}function Ou(f,w){if(f.j.info("Error code "+w),2==w){var D=b(f.fb,f),F=f.Xa;const ne=!F;F=new Pu(F||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||xb(F,"https"),Pb(F),ne?function Tue(f,w){const D=new bm;if(a.Image){const F=new Image;F.onload=T(ec,D,"TestLoadImage: loaded",!0,w,F),F.onerror=T(ec,D,"TestLoadImage: error",!1,w,F),F.onabort=T(ec,D,"TestLoadImage: abort",!1,w,F),F.ontimeout=T(ec,D,"TestLoadImage: timeout",!1,w,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=f}else w(!1)}(F.toString(),D):function Sue(f,w){new bm;const F=new AbortController,ne=setTimeout(()=>{F.abort(),ec(0,0,!1,w)},1e4);fetch(f,{signal:F.signal}).then(ye=>{clearTimeout(ne),ec(0,0,!!ye.ok,w)}).catch(()=>{clearTimeout(ne),ec(0,0,!1,w)})}(F.toString(),D)}else Jr(2);f.G=0,f.l&&f.l.sa(w),TH(f),yH(f)}function TH(f){if(f.G=0,f.ka=[],f.l){const w=nH(f.h);(0!=w.length||0!=f.i.length)&&(L(f.ka,w),L(f.ka,f.i),f.h.i.length=0,N(f.i),f.i.length=0),f.l.ra()}}function SH(f,w,D){var F=D instanceof Pu?Ya(D):new Pu(D);if(""!=F.g)w&&(F.g=w+"."+F.g),Rb(F,F.s);else{var ne=a.location;F=ne.protocol,w=w?w+"."+ne.hostname:ne.hostname,ne=+ne.port;var ye=new Pu(null);F&&xb(ye,F),w&&(ye.g=w),ne&&Rb(ye,ne),D&&(ye.l=D),F=ye}return w=f.ya,(D=f.D)&&w&&li(F,D,w),li(F,"VER",f.la),Rm(f,F),F}function DH(f,w,D){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(w=new Ci(f.Ca&&!f.pa?new Sm({eb:D}):f.pa)).Ha(f.J),w}function AH(){}function Lb(){}function Os(f,w){Nr.call(this),this.g=new _H(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!H(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!H(w)&&(this.g.D=w,null!==(f=this.h)&&w in f&&w in(f=this.h)&&delete f[w]),this.j=new pf(this)}function xH(f){YA.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const D in w){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,w=null!==w&&f in w?w[f]:void 0),this.data=w}else this.data=f}function RH(){JA.call(this),this.status=1}function pf(f){this.g=f}(n=Ci.prototype).Ha=function(f){this.J=f},n.ea=function(f,w,D,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():XA.g(),this.v=function U4(f){return f.h||(f.h=f.i())}(this.o?this.o:XA),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(ye){return void hH(this,ye)}if(f=D||"",D=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var ne in F)D.set(ne,F[ne]);else{if("function"!=typeof F.keys||"function"!=typeof F.get)throw Error("Unknown input type for opt_headers: "+String(F));for(const ye of F.keys())D.set(ye,F.get(ye))}F=Array.from(D.keys()).find(ye=>"content-type"==ye.toLowerCase()),ne=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Rue,w,void 0))||F||ne||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,ze]of D)this.g.setRequestHeader(ye,ze);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gH(this),this.u=!0,this.g.send(f),this.u=!1}catch(ye){hH(this,ye)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Yr(this,"complete"),Yr(this,"abort"),Mb(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mb(this,!0)),Ci.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pH(this):this.bb())},n.bb=function(){pH(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Ja(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&0==w.indexOf(f)&&(w=w.substring(f.length)),lue(w)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=_H.prototype).la=8,n.G=1,n.connect=function(f,w,D,F){Jr(0),this.W=f,this.H=w||{},D&&void 0!==F&&(this.H.OSID=D,this.H.OAID=F),this.F=this.X,this.I=SH(this,null,this.W),kb(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const ne=new Jl(this,this.j,f);let ye=this.o;if(this.S&&(ye?(ye=U(ye),J(ye,this.S)):ye=this.S),null!==this.m||this.O||(ne.H=ye,ye=null),this.P)e:{for(var w=0,D=0;D<this.i.length;D++){var F=this.i[D];if(void 0===(F="__data__"in F.map&&"string"==typeof(F=F.map.__data__)?F.length:void 0))break;if(4096<(w+=F)){w=D;break e}if(4096===w||D===this.i.length-1){w=D+1;break e}}w=1e3}else w=1e3;w=IH(this,ne,w),li(D=Ya(this.I),"RID",f),li(D,"CVER",22),this.D&&li(D,"X-HTTP-Session-Id",this.D),Rm(this,D),ye&&(this.O?w="headers="+encodeURIComponent(String(dH(ye)))+"&"+w:this.m&&a1(D,this.m,ye)),o1(this.h,ne),this.Ua&&li(D,"TYPE","init"),this.P?(li(D,"$req",w),li(D,"SID","null"),ne.T=!0,t1(ne,D,null)):t1(ne,D,w),this.G=2}}else 3==this.G&&(f?vH(this,f):0==this.i.length||X4(this.h)||vH(this))},n.Fa=function(){if(this.u=null,wH(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Im(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jr(10),Nb(this),wH(this))},n.Za=function(){null!=this.C&&(this.C=null,Nb(this),c1(this),Jr(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Jr(2)):(this.j.info("Failed to ping google.com"),Jr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=AH.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},Lb.prototype.g=function(f,w){return new Os(f,w)},P(Os,Nr),Os.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Os.prototype.close=function(){l1(this.g)},Os.prototype.o=function(f){var w=this.g;if("string"==typeof f){var D={};D.__data__=f,f=D}else this.u&&((D={}).__data__=ZA(f),f=D);w.i.push(new class{constructor(f,w){this.g=f,this.map=w}}(w.Ya++,f)),3==w.G&&kb(w)},Os.prototype.N=function(){this.g.l=null,delete this.j,l1(this.g),delete this.g,Os.aa.N.call(this)},P(xH,YA),P(RH,JA),P(pf,AH),pf.prototype.ua=function(){Yr(this.g,"a")},pf.prototype.ta=function(f){Yr(this.g,new xH(f))},pf.prototype.sa=function(f){Yr(this.g,new RH)},pf.prototype.ra=function(){Yr(this.g,"b")},Lb.prototype.createWebChannel=Lb.prototype.g,Os.prototype.send=Os.prototype.o,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,BL=La.createWebChannelTransport=function(){return new Lb},VL=La.getStatEventTarget=function(){return Tb()},LL=La.Event=xu,xT=La.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sb.NO_ERROR=0,Sb.TIMEOUT=8,Sb.HTTP_ERROR=6,iI=La.ErrorCode=Sb,q4.COMPLETE="complete",FL=La.EventType=q4,H4.EventType=ym,ym.OPEN="a",ym.CLOSE="b",ym.ERROR="c",ym.MESSAGE="d",Nr.prototype.listen=Nr.prototype.K,wg=La.WebChannel=H4,La.FetchXmlHttpFactory=Sm,Ci.prototype.listenOnce=Ci.prototype.L,Ci.prototype.getLastError=Ci.prototype.Ka,Ci.prototype.getLastErrorCode=Ci.prototype.Ba,Ci.prototype.getStatus=Ci.prototype.Z,Ci.prototype.getResponseJson=Ci.prototype.Oa,Ci.prototype.getResponseText=Ci.prototype.oa,Ci.prototype.send=Ci.prototype.ea,Ci.prototype.setWithCredentials=Ci.prototype.Ha,kL=La.XhrIo=Ci}).apply(typeof nI<"u"?nI:typeof self<"u"?self:typeof window<"u"?window:{});const UL="@firebase/firestore";class ir{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let Eh="10.14.0";const Al=new Jo.Yd("@firebase/firestore");function Ch(){return Al.logLevel}function ke(n,...t){if(Al.logLevel<=Jo.in.DEBUG){const e=t.map(RT);Al.debug(`Firestore (${Eh}): ${n}`,...e)}}function Pi(n,...t){if(Al.logLevel<=Jo.in.ERROR){const e=t.map(RT);Al.error(`Firestore (${Eh}): ${n}`,...e)}}function xs(n,...t){if(Al.logLevel<=Jo.in.WARN){const e=t.map(RT);Al.warn(`Firestore (${Eh}): ${n}`,...e)}}function RT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tt(n="Unexpected state"){const t=`FIRESTORE (${Eh}) INTERNAL ASSERTION FAILED: `+n;throw Pi(t),new Error(t)}function st(n,t){n||tt()}function je(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends gn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class HL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ir.UNAUTHENTICATED))}shutdown(){}}class aee{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class lee{constructor(t){this.t=t,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;st(void 0===this.o);let r=this.i;const s=c=>this.i!==r?(r=this.i,e(c)):Promise.resolve();let o=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rr,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;t.enqueueRetryable((0,Ce.Z)(function*(){yield c.promise,yield s(i.currentUser)}))},l=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st("string"==typeof i.accessToken),new HL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return st(null===t||"string"==typeof t),new ir(t)}}class cee{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uee{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new cee(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dee{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){st(void 0===this.o);const i=s=>{null!=s.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ke("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(st("string"==typeof e.token),this.R=e.token,new jL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hee(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class zL{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=hee(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Mt(n,t){return n<t?-1:n>t?1:0}function Th(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function $L(n){return n+"\0"}class hi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Me(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Me(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return hi.fromMillis(Date.now())}static fromDate(t){return hi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new hi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pt(t)}static min(){return new pt(new hi(0,0))}static max(){return new pt(new hi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Eg{constructor(t,e,i){void 0===e?e=0:e>t.length&&tt(),void 0===i?i=t.length-e:i>t.length-e&&tt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Eg.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Eg?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class on extends Eg{construct(t,e,i){return new on(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new on(e)}static emptyPath(){return new on([])}}const fee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends Eg{construct(t,e,i){return new ri(t,e,i)}static isValidIdentifier(t){return fee.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Me(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let o=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new Me(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Me(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else"`"===a?(o=!o,r++):"."!==a||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Me(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ri(e)}static emptyPath(){return new ri([])}}class qe{constructor(t){this.path=t}static fromPath(t){return new qe(on.fromString(t))}static fromName(t){return new qe(on.fromString(t).popFirst(5))}static empty(){return new qe(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===on.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return on.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qe(new on(t.slice()))}}class Sh{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function PT(n){return n.fields.find(t=>2===t.kind)}function su(n){return n.fields.filter(t=>2!==t.kind)}Sh.UNKNOWN_ID=-1;class ou{constructor(t,e){this.fieldPath=t,this.kind=e}}class Dh{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Dh(0,Rs.min())}}function WL(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=pt.fromTimestamp(1e9===i?new hi(e+1,0):new hi(e,i));return new Rs(r,qe.empty(),t)}function qL(n){return new Rs(n.readTime,n.key,-1)}class Rs{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Rs(pt.min(),qe.empty(),-1)}static max(){return new Rs(pt.max(),qe.empty(),-1)}}function OT(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=qe.comparator(n.documentKey,t.documentKey),0!==e?e:Mt(n.largestBatchId,t.largestBatchId))}const GL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function xl(n){return MT.apply(this,arguments)}function MT(){return(MT=(0,Ce.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==GL)throw n;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class re{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new re((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof re?e:re.resolve(e)}catch(e){return re.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):re.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):re.reject(e)}static resolve(t){return new re((e,i)=>{e(t)})}static reject(t){return new re((e,i)=>{i(t)})}static waitFor(t){return new re((e,i)=>{let r=0,s=0,o=!1;t.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=re.resolve(!1);for(const i of t)e=e.next(r=>r?re.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new re((i,r)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;e(t[c]).next(p=>{o[c]=p,++a,a===s&&i(o)},p=>r(p))}})}static doWhile(t,e){return new re((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class rI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new rr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Cg(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=NT(i.target.error);this.V.reject(new Cg(t,r))}}static open(t,e,i,r){try{return new rI(e,t.transaction(r,i))}catch(s){throw new Cg(e,s)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ke("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new _ee(e)}}class Xo{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===Xo.S((0,gn.z$)())&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ke("SimpleDb","Removing database:",t),au(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,gn.hl)())return!1;if(Xo.v())return!0;const t=(0,gn.z$)(),e=Xo.S(t),i=0<e&&e<10,r=ZL(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,Ce.Z)(function*(){return e.db||(ke("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=o=>{i(o.target.result)},s.onblocked=()=>{r(new Cg(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;r("VersionError"===a.name?new Me(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new Me(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Cg(t,a))},s.onupgradeneeded=o=>{ke("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',o.oldVersion),e.p.O(o.target.result,s.transaction,o.oldVersion,e.version).next(()=>{ke("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ce.Z)(function*(){const o="readonly"===e;let a=0;for(;;){++a;try{s.db=yield s.M(t);const l=rI.open(s.db,t,o?"readonly":"readwrite",i),c=r(l).next(p=>(l.g(),p)).catch(p=>(l.abort(p),re.reject(p))).toPromise();return c.catch(()=>{}),yield l.m,c}catch(l){const c=l,p="FirebaseError"!==c.name&&a<3;if(ke("SimpleDb","Transaction failed with error:",c.message,"Retrying:",p),s.close(),!p)return Promise.reject(c)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function ZL(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class mee{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return au(this.B.delete())}}class Cg extends Me{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Rl(n){return"IndexedDbTransactionError"===n.name}class _ee{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ke("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),au(i)}add(t){return ke("SimpleDb","ADD",this.store.name,t,t),au(this.store.add(t))}get(t){return au(this.store.get(t)).next(e=>(void 0===e&&(e=null),ke("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ke("SimpleDb","DELETE",this.store.name,t),au(this.store.delete(t))}count(){return ke("SimpleDb","COUNT",this.store.name),au(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const s=r.getAll(i.range);return new re((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(i),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new re((r,s)=>{i.onerror=o=>{s(o.target.error)},i.onsuccess=o=>{r(o.target.result)}})}j(t,e){ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(s,o,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new re((i,r)=>{e.onerror=s=>{const o=NT(s.target.error);r(o)},e.onsuccess=s=>{const o=s.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():i()}):i()}})}W(t,e){const i=[];return new re((r,s)=>{t.onerror=o=>{s(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void r();const l=new mee(a),c=e(a.primaryKey,a.value,l);if(c instanceof re){const p=c.catch(_=>(l.done(),re.reject(_)));i.push(p)}l.isDone?r():null===l.K?a.continue():a.continue(l.K)}}).next(()=>re.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function au(n){return new re((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=NT(i.target.error);e(r)}})}let QL=!1;function NT(n){const t=Xo.S((0,gn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return QL||(QL=!0,setTimeout(()=>{throw i},0)),i}}return n}class yee{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;ke("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ce.Z)(function*(){e.task=null;try{ke("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){Rl(i)?ke("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield xl(i)}yield e.X(6e4)}))}}class vee{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,Ce.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,s=!0;return re.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(o=>{if(null!==o&&!i.has(o))return ke("IndexBackfiller",`Processing collection: ${o}`),this.ne(t,o,r).next(a=>{r-=a,i.add(o)});s=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(t,o).next(()=>this.re(r,s)).next(a=>(ke("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>o.size)}))}re(t,e){let i=t;return e.changes.forEach((r,s)=>{const o=qL(s);OT(o,i)>0&&(i=o)}),new Rs(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Ps=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Tg(n){return null==n}function Sg(n){return 0===n&&1/n==-1/0}function YL(n){return"number"==typeof n&&Number.isInteger(n)&&!Sg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function xr(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=JL(t)),t=Iee(n.get(e),t);return JL(t)}function Iee(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function JL(n){return n+"\x01\x01"}function ea(n){const t=n.length;if(st(t>=2),2===t)return st("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const o=n.indexOf("\x01",s);switch((o<0||o>e)&&tt(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let l;0===r.length?l=a:(r+=a,l=r,r=""),i.push(l);break;case"\x10":r+=n.substring(s,o),r+="\0";break;case"\x11":r+=n.substring(s,o+1);break;default:tt()}s=o+2}return new on(i)}const XL=["userId","batchId"];function sI(n,t){return[n,xr(t)]}function e2(n,t,e){return[n,xr(t),e]}const bee={},wee=["prefixPath","collectionGroup","readTime","documentId"],Eee=["prefixPath","collectionGroup","documentId"],Cee=["collectionGroup","readTime","prefixPath","documentId"],Tee=["canonicalId","targetId"],See=["targetId","path"],Dee=["path","targetId"],Aee=["collectionId","parent"],xee=["indexId","uid"],Ree=["uid","sequenceNumber"],Pee=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Oee=["indexId","uid","orderedDocumentKey"],Mee=["userId","collectionPath","documentId"],Nee=["userId","collectionPath","largestBatchId"],kee=["userId","collectionGroup","largestBatchId"],t2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fee=[...t2,"documentOverlays"],n2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r2=n2,kT=[...r2,"indexConfiguration","indexState","indexEntries"],Lee=kT,Vee=[...kT,"globals"];class FT extends KL{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function Gi(n,t){const e=je(n);return Xo.F(e._e,t)}function s2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Pl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function a2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Qn{constructor(t,e){this.comparator=t,this.root=e||fr.EMPTY}insert(t,e){return new Qn(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(t){return new Qn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oI(this.root,t,this.comparator,!1)}getReverseIterator(){return new oI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oI(this.root,t,this.comparator,!0)}}class oI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??fr.RED,this.left=r??fr.EMPTY,this.right=s??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new fr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return fr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const t=this.left.check();if(t!==this.right.check())throw tt();return t+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1,fr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(t,e,i,r,s){return this}insert(t,e,i){return new fr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(t){this.comparator=t,this.data=new Qn(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new l2(this.data.getIterator())}getIteratorFrom(t){return new l2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Fn(this.comparator);return e.data=t,e}}class l2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ah(n){return n.hasNext()?n.getNext():void 0}class us{constructor(t){this.fields=t,t.sort(ri.comparator)}static empty(){return new us([])}unionWith(t){let e=new Fn(ri.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new us(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Th(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class c2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class wi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c2("Invalid base64 string: "+s):s}}(t);return new wi(e)}static fromUint8Array(t){const e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new wi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const Uee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(n){if(st(!!n),"string"==typeof n){let t=0;const e=Uee.exec(n);if(st(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fi(n.seconds),nanos:fi(n.nanos)}}function fi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ba(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function aI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function lI(n){const t=n.mapValue.fields.__previous_value__;return aI(t)?lI(t):t}function Dg(n){const t=Va(n.mapValue.fields.__local_write_time__.timestampValue);return new hi(t.seconds,t.nanos)}class Hee{constructor(t,e,i,r,s,o,a,l,c){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ol{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ol&&t.projectId===this.projectId&&t.database===this.database}}const Ml={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},cI={nullValue:"NULL_VALUE"};function Nl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?aI(n)?4:p2(n)?9007199254740991:hI(n)?10:11:tt()}function ta(n,t){if(n===t)return!0;const e=Nl(n);if(e!==Nl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Dg(n).isEqual(Dg(t));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Va(r.timestampValue),a=Va(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return s=t,Ba(n.bytesValue).isEqual(Ba(s.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return fi(r.geoPointValue.latitude)===fi(s.geoPointValue.latitude)&&fi(r.geoPointValue.longitude)===fi(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return fi(r.integerValue)===fi(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=fi(r.doubleValue),a=fi(s.doubleValue);return o===a?Sg(o)===Sg(a):isNaN(o)&&isNaN(a)}return!1}(n,t);case 9:return Th(n.arrayValue.values||[],t.arrayValue.values||[],ta);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(s2(o)!==s2(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(void 0===a[l]||!ta(o[l],a[l])))return!1;return!0}(n,t);default:return tt()}var s}function Ag(n,t){return void 0!==(n.values||[]).find(e=>ta(e,t))}function kl(n,t){if(n===t)return 0;const e=Nl(n),i=Nl(t);if(e!==i)return Mt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Mt(n.booleanValue,t.booleanValue);case 2:return function(s,o){const a=fi(s.integerValue||s.doubleValue),l=fi(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,t);case 3:return u2(n.timestampValue,t.timestampValue);case 4:return u2(Dg(n),Dg(t));case 5:return Mt(n.stringValue,t.stringValue);case 6:return function(s,o){const a=Ba(s),l=Ba(o);return a.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const p=Mt(a[c],l[c]);if(0!==p)return p}return Mt(a.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){const a=Mt(fi(s.latitude),fi(o.latitude));return 0!==a?a:Mt(fi(s.longitude),fi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return d2(n.arrayValue,t.arrayValue);case 10:return function(s,o){var a,l,c,p;const T=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,P=null===(l=(o.fields||{}).value)||void 0===l?void 0:l.arrayValue,N=Mt((null===(c=T?.values)||void 0===c?void 0:c.length)||0,(null===(p=P?.values)||void 0===p?void 0:p.length)||0);return 0!==N?N:d2(T,P)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Ml.mapValue&&o===Ml.mapValue)return 0;if(s===Ml.mapValue)return 1;if(o===Ml.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},p=Object.keys(c);l.sort(),p.sort();for(let _=0;_<l.length&&_<p.length;++_){const b=Mt(l[_],p[_]);if(0!==b)return b;const T=kl(a[l[_]],c[p[_]]);if(0!==T)return T}return Mt(l.length,p.length)}(n.mapValue,t.mapValue);default:throw tt()}}function u2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Mt(n,t);const e=Va(n),i=Va(t),r=Mt(e.seconds,i.seconds);return 0!==r?r:Mt(e.nanos,i.nanos)}function d2(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const s=kl(e[r],i[r]);if(s)return s}return Mt(e.length,i.length)}function xh(n){return LT(n)}function LT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Va(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ba(n.bytesValue).toBase64():"referenceValue"in n?qe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const s of e.values||[])r?r=!1:i+=",",i+=LT(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${LT(e.fields[o])}`;return r+"}"}(n.mapValue):tt()}function lu(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function VT(n){return!!n&&"integerValue"in n}function xg(n){return!!n&&"arrayValue"in n}function h2(n){return!!n&&"nullValue"in n}function f2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function dI(n){return!!n&&"mapValue"in n}function hI(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Rg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Pl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Rg(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Rg(n.arrayValue.values[e]);return t}return Object.assign({},n)}function p2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const g2={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function jee(n){return"nullValue"in n?cI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lu(Ol.empty(),qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?hI(n)?g2:{mapValue:{}}:tt()}function zee(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lu(Ol.empty(),qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?g2:"mapValue"in n?hI(n)?{mapValue:{}}:Ml:tt()}function m2(n,t){const e=kl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function _2(n,t){const e=kl(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class pr{constructor(t){this.value=t}static empty(){return new pr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!dI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rg(e)}setAll(t){let e=ri.emptyPath(),i={},r=[];t.forEach((o,a)=>{if(!e.isImmediateParentOf(a)){const l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=a.popLast()}o?i[a.lastSegment()]=Rg(o):r.push(a.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());dI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ta(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];dI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Pl(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new pr(Rg(this.value))}}function y2(n){const t=[];return Pl(n.fields,(e,i)=>{const r=new ri([e]);if(dI(i)){const s=y2(i.mapValue).fields;if(0===s.length)t.push(r);else for(const o of s)t.push(r.child(o))}else t.push(r)}),new us(t)}class si{constructor(t,e,i,r,s,o,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new si(t,0,pt.min(),pt.min(),pt.min(),pr.empty(),0)}static newFoundDocument(t,e,i,r){return new si(t,1,e,pt.min(),i,r,0)}static newNoDocument(t,e){return new si(t,2,e,pt.min(),pt.min(),pr.empty(),0)}static newUnknownDocument(t,e){return new si(t,3,e,pt.min(),pt.min(),pr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(pt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fl{constructor(t,e){this.position=t,this.inclusive=e}}function v2(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],o=n.position[r];if(i=s.field.isKeyField()?qe.comparator(qe.fromName(o.referenceValue),e.key):kl(o,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function I2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ta(n.position[e],t.position[e]))return!1;return!0}class Pg{constructor(t,e="asc"){this.field=t,this.dir=e}}function $ee(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class b2{}class an extends b2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Wee(t,e,i):"array-contains"===e?new Kee(t,i):"in"===e?new D2(t,i):"not-in"===e?new Zee(t,i):"array-contains-any"===e?new Qee(t,i):new an(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new qee(t,i):new Gee(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(kl(e,this.value)):null!==e&&Nl(this.value)===Nl(e)&&this.matchesComparison(kl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends b2{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Mn(t,e)}matches(t){return Rh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rh(n){return"and"===n.op}function BT(n){return"or"===n.op}function UT(n){return w2(n)&&Rh(n)}function w2(n){for(const t of n.filters)if(t instanceof Mn)return!1;return!0}function HT(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+xh(n.value);if(UT(n))return n.filters.map(t=>HT(t)).join(",");{const t=n.filters.map(e=>HT(e)).join(",");return`${n.op}(${t})`}}function E2(n,t){return n instanceof an?(i=n,(r=t)instanceof an&&i.op===r.op&&i.field.isEqual(r.field)&&ta(i.value,r.value)):n instanceof Mn?function(i,r){return r instanceof Mn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((s,o,a)=>s&&E2(o,r.filters[a]),!0)}(n,t):void tt();var i,r}function C2(n,t){const e=n.filters.concat(t);return Mn.create(e,n.op)}function T2(n){return n instanceof an?`${(e=n).field.canonicalString()} ${e.op} ${xh(e.value)}`:n instanceof Mn?function(e){return e.op.toString()+" {"+e.getFilters().map(T2).join(" ,")+"}"}(n):"Filter";var e}class Wee extends an{constructor(t,e,i){super(t,e,i),this.key=qe.fromName(i.referenceValue)}matches(t){const e=qe.comparator(t.key,this.key);return this.matchesComparison(e)}}class qee extends an{constructor(t,e){super(t,"in",e),this.keys=S2(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Gee extends an{constructor(t,e){super(t,"not-in",e),this.keys=S2(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function S2(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>qe.fromName(i.referenceValue))}class Kee extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return xg(e)&&Ag(e.arrayValue,this.value)}}class D2 extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ag(this.value.arrayValue,e)}}class Zee extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ag(this.value.arrayValue,e)}}class Qee extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!xg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ag(this.value.arrayValue,i))}}class Yee{constructor(t,e=null,i=[],r=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function jT(n,t=null,e=[],i=[],r=null,s=null,o=null){return new Yee(n,t,e,i,r,s,o)}function cu(n){const t=je(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>HT(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),Tg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>xh(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>xh(i)).join(",")),t.ue=e}return t.ue}function Og(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!$ee(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!E2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!I2(n.startAt,t.startAt)&&I2(n.endAt,t.endAt)}function fI(n){return qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function pI(n,t){return n.filters.filter(e=>e instanceof an&&e.field.isEqual(t))}function A2(n,t,e){let i=cI,r=!0;for(const s of pI(n,t)){let o=cI,a=!0;switch(s.op){case"<":case"<=":o=jee(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=cI}m2({value:i,inclusive:r},{value:o,inclusive:a})<0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];m2({value:i,inclusive:r},{value:o,inclusive:e.inclusive})<0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}function x2(n,t,e){let i=Ml,r=!0;for(const s of pI(n,t)){let o=Ml,a=!0;switch(s.op){case">=":case">":o=zee(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ml}_2({value:i,inclusive:r},{value:o,inclusive:a})>0&&(i=o,r=a)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const o=e.position[s];_2({value:i,inclusive:r},{value:o,inclusive:e.inclusive})>0&&(i=o,r=e.inclusive);break}return{value:i,inclusive:r}}class Ua{constructor(t,e=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null}}function R2(n,t,e,i,r,s,o,a){return new Ua(n,t,e,i,r,s,o,a)}function Ph(n){return new Ua(n)}function P2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function zT(n){return null!==n.collectionGroup}function Oh(n){const t=je(n);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Fn(ri.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Pg(s,i))}),e.has(ri.keyField().canonicalString())||t.ce.push(new Pg(ri.keyField(),i))}return t.ce}function Rr(n){const t=je(n);return t.le||(t.le=function M2(n,t){if("F"===n.limitType)return jT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new Pg(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Fl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Fl(n.startAt.position,n.startAt.inclusive):null;return jT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,Oh(n))),t.le}function $T(n,t){const e=n.filters.concat([t]);return new Ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function gI(n,t,e){return new Ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Mg(n,t){return Og(Rr(n),Rr(t))&&n.limitType===t.limitType}function N2(n){return`${cu(Rr(n))}|lt:${n.limitType}`}function Mh(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>T2(r)).join(", ")}]`),Tg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>xh(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>xh(r)).join(",")),`Target(${i})`}(Rr(n))}; limitType=${n.limitType})`}function Ng(n,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):qe.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(const s of Oh(i))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(o,a,l){const c=v2(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Oh(i),r)||i.endAt&&!function(o,a,l){const c=v2(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Oh(i),r)));var i,r}function k2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F2(n){return(t,e)=>{let i=!1;for(const r of Oh(n)){const s=Jee(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function Jee(n,t,e){const i=n.field.isKeyField()?qe.comparator(t.key,e.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return null!==l&&null!==c?kl(l,c):tt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return tt()}}class Ha{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Pl(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return a2(this.inner)}size(){return this.innerSize}}const Xee=new Qn(qe.comparator);function ds(){return Xee}const L2=new Qn(qe.comparator);function kg(...n){let t=L2;for(const e of n)t=t.insert(e.key,e);return t}function V2(n){let t=L2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function na(){return Fg()}function B2(){return Fg()}function Fg(){return new Ha(n=>n.toString(),(n,t)=>n.isEqual(t))}const ete=new Qn(qe.comparator),tte=new Fn(qe.comparator);function zt(...n){let t=tte;for(const e of n)t=t.add(e);return t}const nte=new Fn(Mt);function WT(){return nte}function qT(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sg(t)?"-0":t}}function U2(n){return{integerValue:""+n}}function H2(n,t){return YL(t)?U2(t):qT(n,t)}class mI{constructor(){this._=void 0}}function ite(n,t,e){return n instanceof Nh?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&aI(s)&&(s=lI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof uu?z2(n,t):n instanceof du?$2(n,t):function(r,s){const o=j2(r,s),a=W2(o)+W2(r.Pe);return VT(o)&&VT(r.Pe)?U2(a):qT(r.serializer,a)}(n,t)}function rte(n,t,e){return n instanceof uu?z2(n,t):n instanceof du?$2(n,t):e}function j2(n,t){return n instanceof kh?VT(i=t)||(s=i)&&"doubleValue"in s?t:{integerValue:0}:null;var i,s}class Nh extends mI{}class uu extends mI{constructor(t){super(),this.elements=t}}function z2(n,t){const e=q2(t);for(const i of n.elements)e.some(r=>ta(r,i))||e.push(i);return{arrayValue:{values:e}}}class du extends mI{constructor(t){super(),this.elements=t}}function $2(n,t){let e=q2(t);for(const i of n.elements)e=e.filter(r=>!ta(r,i));return{arrayValue:{values:e}}}class kh extends mI{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function W2(n){return fi(n.integerValue||n.doubleValue)}function q2(n){return xg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Lg{constructor(t,e){this.field=t,this.transform=e}}class ote{constructor(t,e){this.version=t,this.transformResults=e}}class pi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new pi}static exists(t){return new pi(void 0,t)}static updateTime(t){return new pi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _I(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class yI{}function G2(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Lh(n.key,pi.none()):new Fh(n.key,n.data,pi.none());{const e=n.data,i=pr.empty();let r=new Fn(ri.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);null===o&&s.length>1&&(s=s.popLast(),o=e.field(s)),null===o?i.delete(s):i.set(s,o),r=r.add(s)}return new ja(n.key,i,new us(r.toArray()),pi.none())}}function ate(n,t,e){n instanceof Fh?function(r,s,o){const a=r.value.clone(),l=Q2(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,t,e):n instanceof ja?function(r,s,o){if(!_I(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Q2(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Z2(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Vg(n,t,e,i){return n instanceof Fh?function(s,o,a,l){if(!_I(s.precondition,o))return a;const c=s.value.clone(),p=Y2(s.fieldTransforms,l,o);return c.setAll(p),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,t,e,i):n instanceof ja?function(s,o,a,l){if(!_I(s.precondition,o))return a;const c=Y2(s.fieldTransforms,l,o),p=o.data;return p.setAll(Z2(s)),p.setAll(c),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,t,e,i):(a=e,_I(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function lte(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=j2(i.transform,r||null);null!=s&&(null===e&&(e=pr.empty()),e.set(i.field,s))}return e||null}function K2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Th(i,r,(s,o)=>function ste(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof uu&&r instanceof uu||i instanceof du&&r instanceof du?Th(i.elements,r.elements,ta):i instanceof kh&&r instanceof kh?ta(i.Pe,r.Pe):i instanceof Nh&&r instanceof Nh);var i,r}(s,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class Fh extends yI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ja extends yI{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Z2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Q2(n,t,e){const i=new Map;st(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],o=s.transform,a=t.data.field(s.field);i.set(s.field,rte(o,a,e[r]))}return i}function Y2(n,t,e){const i=new Map;for(const r of n){const s=r.transform,o=e.data.field(r.field);i.set(r.field,ite(s,o,t))}return i}class Lh extends yI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GT extends yI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KT{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&ate(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Vg(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Vg(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=B2();return this.mutations.forEach(r=>{const s=t.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=e.has(r.key)?null:a;const l=G2(o,a);null!==l&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(pt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),zt())}isEqual(t){return this.batchId===t.batchId&&Th(this.mutations,t.mutations,(e,i)=>K2(e,i))&&Th(this.baseMutations,t.baseMutations,(e,i)=>K2(e,i))}}class ZT{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){st(t.mutations.length===i.length);let r=ete;const s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new ZT(t,e,i,r)}}class QT{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class cte{constructor(t,e){this.count=t,this.unchangedNames=e}}var Bi,hn;function X2(n){switch(n){default:return tt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function eV(n){if(void 0===n)return Pi("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Bi.OK:return ge.OK;case Bi.CANCELLED:return ge.CANCELLED;case Bi.UNKNOWN:return ge.UNKNOWN;case Bi.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Bi.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Bi.INTERNAL:return ge.INTERNAL;case Bi.UNAVAILABLE:return ge.UNAVAILABLE;case Bi.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Bi.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Bi.NOT_FOUND:return ge.NOT_FOUND;case Bi.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Bi.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Bi.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Bi.ABORTED:return ge.ABORTED;case Bi.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Bi.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Bi.DATA_LOSS:return ge.DATA_LOSS;default:return tt()}}(hn=Bi||(Bi={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";function tV(){return new TextEncoder}const ute=new ru([4294967295,4294967295],0);function nV(n){const t=tV().encode(n),e=new NL;return e.update(t),new Uint8Array(e.digest())}function iV(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ru([e,i],0),new ru([r,s],0)]}class YT{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Bg(`Invalid padding: ${e}`);if(i<0)throw new Bg(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new Bg(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new Bg(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=ru.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(ru.fromNumber(i)));return 1===r.compare(ute)&&(r=new ru([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=nV(t),[i,r]=iV(e);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new YT(s,r,e);return i.forEach(a=>o.insert(a)),o}insert(t){if(0===this.Ie)return;const e=nV(t),[i,r]=iV(e);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class Bg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ug{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Hg.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ug(pt.min(),r,new Qn(Mt),ds(),zt())}}class Hg{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Hg(i,e,zt(),zt(),zt())}}class II{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class rV{constructor(t,e){this.targetId=t,this.me=e}}class sV{constructor(t,e,i=wi.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class oV{constructor(){this.fe=0,this.ge=lV(),this.pe=wi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=zt(),e=zt(),i=zt();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:tt()}}),new Hg(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=lV()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class dte{constructor(t){this.Le=t,this.Be=new Map,this.ke=ds(),this.qe=aV(),this.Qe=new Qn(Mt)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:tt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const s=r.target;if(fI(s))if(0===i){const o=new qe(s.path);this.Ue(e,o,si.newNoDocument(o,pt.min()))}else st(1===i);else{const o=this.Ye(e);if(o!==i){const a=this.Ze(t),l=a?this.Xe(a,t,o):1;0!==l&&(this.je(e),this.Qe=this.Qe.insert(e,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e;let o,a;try{o=Ba(i).toUint8Array()}catch(l){if(l instanceof c2)return xs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new YT(o,r,s)}catch(l){return xs(l instanceof Bg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,s,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&fI(a.target)){const l=new qe(a.target.path);null!==this.ke.get(l)||this.it(o,l)||this.Ue(o,l,si.newNoDocument(l,t))}s.be&&(e.set(o,s.ve()),s.Ce())}});let i=zt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));const r=new Ug(t,e,this.Qe,this.ke,i);return this.ke=ds(),this.qe=aV(),this.Qe=new Qn(Mt),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new oV,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Fn(Mt),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||ke("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new oV),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function aV(){return new Qn(qe.comparator)}function lV(){return new Qn(qe.comparator)}const hte={asc:"ASCENDING",desc:"DESCENDING"},fte={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pte={and:"AND",or:"OR"};class gte{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function JT(n,t){return n.useProto3Json||Tg(t)?t:{value:t}}function Vh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cV(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function mte(n,t){return Vh(n,t.toTimestamp())}function Oi(n){return st(!!n),pt.fromTimestamp(function(e){const i=Va(e);return new hi(i.seconds,i.nanos)}(n))}function XT(n,t){return eS(n,t).canonicalString()}function eS(n,t){const e=(r=n,new on(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function uV(n){const t=on.fromString(n);return st(bV(t)),t}function jg(n,t){return XT(n.databaseId,t.path)}function ia(n,t){const e=uV(t);if(e.get(1)!==n.databaseId.projectId)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Me(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new qe(fV(e))}function dV(n,t){return XT(n.databaseId,t)}function hV(n){const t=uV(n);return 4===t.length?on.emptyPath():fV(t)}function tS(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fV(n){return st(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pV(n,t,e){return{name:jg(n,t),fields:e.value.mapValue.fields}}function gV(n,t,e){const i=ia(n,t.name),r=Oi(t.updateTime),s=t.createTime?Oi(t.createTime):pt.min(),o=new pr({mapValue:{fields:t.fields}}),a=si.newFoundDocument(i,r,s,o);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function zg(n,t){let e;if(t instanceof Fh)e={update:pV(n,t.key,t.value)};else if(t instanceof Lh)e={delete:jg(n,t.key)};else if(t instanceof ja)e={update:pV(n,t.key,t.data),updateMask:Cte(t.fieldMask)};else{if(!(t instanceof GT))return tt();e={verify:jg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof du)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof kh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw tt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:mte(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:tt()),e;var s}function nS(n,t){const e=t.currentDocument?void 0!==(s=t.currentDocument).updateTime?pi.updateTime(Oi(s.updateTime)):void 0!==s.exists?pi.exists(s.exists):pi.none():pi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,a){let l=null;"setToServerValue"in a?(st("REQUEST_TIME"===a.setToServerValue),l=new Nh):"appendMissingElements"in a?l=new uu(a.appendMissingElements.values||[]):"removeAllFromArray"in a?l=new du(a.removeAllFromArray.values||[]):"increment"in a?l=new kh(o,a.increment):tt();const c=ri.fromServerFormat(a.fieldPath);return new Lg(c,l)}(n,r)):[];var s;if(t.update){const r=ia(n,t.update.name),s=new pr({mapValue:{fields:t.update.fields}});if(t.updateMask){const o=new us((t.updateMask.fieldPaths||[]).map(p=>ri.fromServerFormat(p)));return new ja(r,s,o,e,i)}return new Fh(r,s,e,i)}if(t.delete){const r=ia(n,t.delete);return new Lh(r,e)}if(t.verify){const r=ia(n,t.verify);return new GT(r,e)}return tt()}function mV(n,t){return{documents:[dV(n,t.path)]}}function bI(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=dV(n,r);const s=function(c){if(0!==c.length)return IV(Mn.create(c,"and"))}(t.filters);s&&(e.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(p=>{return{field:Ll((b=p).field),direction:bte(b.dir)};var b})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const a=JT(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(c=t.startAt).inclusive,values:c.position}),t.endAt&&(e.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{_t:e,parent:r};var c}function yV(n){let t=hV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){st(1===i);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let s=[];e.where&&(s=function(_){const b=vV(_);return b instanceof Mn&&UT(b)?b.getFilters():[b]}(e.where));let o=[];e.orderBy&&(o=e.orderBy.map(b=>{return new Pg(Bh((P=b).field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let a=null;e.limit&&(a=function(_){let b;return b="object"==typeof _?_.value:_,Tg(b)?null:b}(e.limit));let l=null;var _;e.startAt&&(l=new Fl((_=e.startAt).values||[],!!_.before));let c=null;return e.endAt&&(c=function(_){return new Fl(_.values||[],!_.before)}(e.endAt)),R2(t,r,o,s,a,"F",l,c)}function vV(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Bh(e.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bh(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bh(e.unaryFilter.field);return an.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bh(e.unaryFilter.field);return an.create(o,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(n):void 0!==n.fieldFilter?an.create(Bh((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Mn.create(e.compositeFilter.filters.map(i=>vV(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return tt()}}(e.compositeFilter.op))}(n):tt();var e}function bte(n){return hte[n]}function wte(n){return fte[n]}function Ete(n){return pte[n]}function Ll(n){return{fieldPath:n.canonicalString()}}function Bh(n){return ri.fromServerFormat(n.fieldPath)}function IV(n){return n instanceof an?function(e){if("=="===e.op){if(f2(e.value))return{unaryFilter:{field:Ll(e.field),op:"IS_NAN"}};if(h2(e.value))return{unaryFilter:{field:Ll(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(f2(e.value))return{unaryFilter:{field:Ll(e.field),op:"IS_NOT_NAN"}};if(h2(e.value))return{unaryFilter:{field:Ll(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ll(e.field),op:wte(e.op),value:e.value}}}(n):n instanceof Mn?function(e){const i=e.getFilters().map(r=>IV(r));return 1===i.length?i[0]:{compositeFilter:{op:Ete(e.op),filters:i}}}(n):tt()}function Cte(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function bV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class za{constructor(t,e,i,r,s=pt.min(),o=pt.min(),a=wi.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wV{constructor(t){this.ct=t}}function EV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:wI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:jg(s=n.ct,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Vh(s,o.version.toTimestamp()),createTime:Vh(s,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:hu(t.version)};else{if(!t.isUnknownDocument())return tt();i.unknownDocument={path:e.path.toArray(),version:hu(t.version)}}var s,o;return i}function wI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function hu(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fu(n){const t=new hi(n.seconds,n.nanoseconds);return pt.fromTimestamp(t)}function pu(n,t){const e=(t.baseMutations||[]).map(s=>nS(n.ct,s));for(let s=0;s<t.mutations.length-1;++s)s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(t.mutations[s].updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s);const i=t.mutations.map(s=>nS(n.ct,s)),r=hi.fromMillis(t.localWriteTimeMs);return new KT(t.batchId,r,e,i)}function $g(n){const t=fu(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?fu(n.lastLimboFreeSnapshotVersion):pt.min();let i;return i=void 0!==n.query.documents?(st(1===(s=n.query).documents.length),Rr(Ph(hV(s.documents[0])))):function(s){return Rr(yV(s))}(n.query),new za(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,wi.fromBase64String(n.resumeToken));var s}function CV(n,t){const e=hu(t.snapshotVersion),i=hu(t.lastLimboFreeSnapshotVersion);let r;r=fI(t.target)?mV(n.ct,t.target):bI(n.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cu(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function iS(n){const t=yV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gI(t,t.limit,"L"):t}function rS(n,t){return new QT(t.largestBatchId,nS(n.ct,t.overlayMutation))}function TV(n,t){const e=t.path.lastSegment();return[n,xr(t.path.popLast()),e]}function SV(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:hu(i.readTime),documentKey:xr(i.documentKey.path),largestBatchId:i.largestBatchId}}class Ste{getBundleMetadata(t,e){return DV(t).get(e).next(i=>{if(i)return{id:(s=i).bundleId,createTime:fu(s.createTime),version:s.version};var s})}saveBundleMetadata(t,e){return DV(t).put({bundleId:(r=e).id,createTime:hu(Oi(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return AV(t).get(e).next(i=>{if(i)return{name:(s=i).name,query:iS(s.bundledQuery),readTime:fu(s.readTime)};var s})}saveNamedQuery(t,e){return AV(t).put({name:(r=e).name,readTime:hu(Oi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function DV(n){return Gi(n,"bundles")}function AV(n){return Gi(n,"namedQueries")}class EI{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new EI(t,e.uid||"")}getOverlay(t,e){return Wg(t).get(TV(this.userId,e)).next(i=>i?rS(this.serializer,i):null)}getOverlays(t,e){const i=na();return re.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,o)=>{const a=new QT(e,o);r.push(this.ht(t,a))}),re.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(o=>r.add(xr(o.getCollectionPath())));const s=[];return r.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,i+1],!1,!0);s.push(Wg(t).j("collectionPathOverlayIndex",a))}),re.waitFor(s)}getOverlaysForCollection(t,e,i){const r=na(),s=xr(e),o=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Wg(t).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=rS(this.serializer,l);r.set(c.getKey(),c)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=na();let o;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Wg(t).J({index:"collectionGroupOverlayIndex",range:a},(l,c,p)=>{const _=rS(this.serializer,c);s.size()<r||_.largestBatchId===o?(s.set(_.getKey(),_),o=_.largestBatchId):p.done()}).next(()=>s)}ht(t,e){return Wg(t).put(function(r,s,o){const[a,l,c]=TV(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:zg(r.ct,o.mutation)}}(this.serializer,this.userId,e))}}function Wg(n){return Gi(n,"documentOverlays")}class Dte{Pt(t){return Gi(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?wi.fromUint8Array(i):wi.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class gu{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(fi(t.integerValue));else if("doubleValue"in t){const i=fi(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),Sg(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=Va(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(Ba(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?p2(t)?this.dt(e,Number.MAX_SAFE_INTEGER):hI(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):tt()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const s=t.fields||{};this.dt(e,53);const o="value",a=(null===(r=null===(i=s[o].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(fi(a)),this.Vt(o,e),this.Tt(s[o],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),qe.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function Ate(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function xV(n){const t=64-function(i){let r=0;for(let s=0;s<8;++s){const o=Ate(255&i[s]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(t/8)}gu.vt=new gu;class xte{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=xV(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=xV(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class Rte{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Pte{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class qg{constructor(){this.jt=new xte,this.Ht=new Rte(this.jt),this.Jt=new Pte(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class mu{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new mu(this.indexId,this.documentKey,this.arrayValue,i)}}function Vl(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=RV(n.arrayValue,t.arrayValue),0!==e?e:(e=RV(n.directionalValue,t.directionalValue),0!==e?e:qe.comparator(n.documentKey,t.documentKey)))}function RV(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class PV{constructor(t){this.Xt=new Fn((e,i)=>ri.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(st(t.collectionGroup===this.collectionId),this.nn)return!1;const e=PT(t);if(void 0!==e&&!this.sn(e))return!1;const i=su(t);let r=new Set,s=0,o=0;for(;s<i.length&&this.sn(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const l=i[s];if(!this.on(a,l)||!this._n(this.en[o++],l))return!1}++s}for(;s<i.length;++s)if(o>=this.en.length||!this._n(this.en[o++],i[s]))return!1;return!0}an(){if(this.nn)return null;let t=new Fn(ri.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new ou(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new ou(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new ou(i.field,"asc"===i.dir?0:1)));return new Sh(Sh.UNKNOWN_ID,this.collectionId,e,Dh.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function OV(n){var t,e;if(st(n instanceof an||n instanceof Mn),n instanceof an){if(n instanceof D2){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(s=>an.create(n.field,"==",s)))||[];return Mn.create(r,"or")}return n}const i=n.filters.map(r=>OV(r));return Mn.create(i,n.op)}function Ote(n){if(0===n.getFilters().length)return[];const t=aS(OV(n));return st(MV(t)),sS(t)||oS(t)?[t]:t.getFilters()}function sS(n){return n instanceof an}function oS(n){return n instanceof Mn&&UT(n)}function MV(n){return sS(n)||oS(n)||function(e){if(e instanceof Mn&&BT(e)){for(const i of e.getFilters())if(!sS(i)&&!oS(i))return!1;return!0}return!1}(n)}function aS(n){if(st(n instanceof an||n instanceof Mn),n instanceof an)return n;if(1===n.filters.length)return aS(n.filters[0]);const t=n.filters.map(i=>aS(i));let e=Mn.create(t,n.op);return e=CI(e),MV(e)?e:(st(e instanceof Mn),st(Rh(e)),st(e.filters.length>1),e.filters.reduce((i,r)=>lS(i,r)))}function lS(n,t){let e;return st(n instanceof an||n instanceof Mn),st(t instanceof an||t instanceof Mn),e=n instanceof an?t instanceof an?Mn.create([n,t],"and"):NV(n,t):t instanceof an?NV(t,n):function(r,s){if(st(r.filters.length>0&&s.filters.length>0),Rh(r)&&Rh(s))return C2(r,s.getFilters());const o=BT(r)?r:s,a=BT(r)?s:r,l=o.filters.map(c=>lS(c,a));return Mn.create(l,"or")}(n,t),CI(e)}function NV(n,t){if(Rh(t))return C2(t,n.getFilters());{const e=t.filters.map(i=>lS(n,i));return Mn.create(e,"or")}}function CI(n){if(st(n instanceof an||n instanceof Mn),n instanceof an)return n;const t=n.getFilters();if(1===t.length)return CI(t[0]);if(w2(n))return n;const e=t.map(r=>CI(r)),i=[];return e.forEach(r=>{r instanceof an?i.push(r):r instanceof Mn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Mn.create(i,n.op)}class Mte{constructor(){this.un=new cS}addToCollectionParentIndex(t,e){return this.un.add(e),re.resolve()}getCollectionParents(t,e){return re.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return re.resolve()}deleteFieldIndex(t,e){return re.resolve()}deleteAllFieldIndexes(t){return re.resolve()}createTargetIndexes(t,e){return re.resolve()}getDocumentsMatchingTarget(t,e){return re.resolve(null)}getIndexType(t,e){return re.resolve(0)}getFieldIndexes(t,e){return re.resolve([])}getNextCollectionGroupToUpdate(t){return re.resolve(null)}getMinOffset(t,e){return re.resolve(Rs.min())}getMinOffsetFromCollectionGroup(t,e){return re.resolve(Rs.min())}updateCollectionGroup(t,e,i){return re.resolve()}updateIndexEntries(t,e){return re.resolve()}}class cS{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Fn(on.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Fn(on.comparator)).toArray()}}const TI=new Uint8Array(0);class Nte{constructor(t,e){this.databaseId=e,this.cn=new cS,this.ln=new Ha(i=>cu(i),(i,r)=>Og(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const s={collectionId:i,parent:xr(r)};return kV(t).put(s)}return re.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[$L(e),""],!1,!0);return kV(t).U(r).next(s=>{for(const o of s){if(o.collectionId!==e)break;i.push(ea(o.parent))}return i})}addFieldIndex(t,e){const i=Gg(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])};var a;delete r.indexId;const s=i.add(r);if(e.indexState){const o=Hh(t);return s.next(a=>{o.put(SV(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=Gg(t),r=Hh(t),s=Uh(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=Gg(t),i=Uh(t),r=Hh(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return re.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const s=new PV(i).an();if(null!=s)return this.addFieldIndex(t,s)}}))}getDocumentsMatchingTarget(t,e){const i=Uh(t);let r=!0;const s=new Map;return re.forEach(this.hn(e),o=>this.Pn(t,o).next(a=>{r&&(r=!!a),s.set(o,a)})).next(()=>{if(r){let o=zt();const a=[];return re.forEach(s,(l,c)=>{var q;ke("IndexedDbIndexManager",`Using index ${q=l,`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map(ee=>`${ee.fieldPath}:${ee.kind}`).join(",")}`} to execute ${cu(e)}`);const p=function(q,ee){const Ae=PT(ee);if(void 0===Ae)return null;for(const Ve of pI(q,Ae.fieldPath))switch(Ve.op){case"array-contains-any":return Ve.value.arrayValue.values||[];case"array-contains":return[Ve.value]}return null}(c,l),_=function(q,ee){const Ae=new Map;for(const Ve of su(ee))for(const j of pI(q,Ve.fieldPath))switch(j.op){case"==":case"in":Ae.set(Ve.fieldPath.canonicalString(),j.value);break;case"not-in":case"!=":return Ae.set(Ve.fieldPath.canonicalString(),j.value),Array.from(Ae.values())}return null}(c,l),b=function(q,ee){const Ae=[];let Ve=!0;for(const j of su(ee)){const U=0===j.kind?A2(q,j.fieldPath,q.startAt):x2(q,j.fieldPath,q.startAt);Ae.push(U.value),Ve&&(Ve=U.inclusive)}return new Fl(Ae,Ve)}(c,l),T=function(q,ee){const Ae=[];let Ve=!0;for(const j of su(ee)){const U=0===j.kind?x2(q,j.fieldPath,q.endAt):A2(q,j.fieldPath,q.endAt);Ae.push(U.value),Ve&&(Ve=U.inclusive)}return new Fl(Ae,Ve)}(c,l),P=this.In(l,c,b),N=this.In(l,c,T),L=this.Tn(l,c,_),W=this.En(l.indexId,p,P,b.inclusive,N,T.inclusive,L);return re.forEach(W,H=>i.G(H,e.limit).next(q=>{q.forEach(ee=>{const Ae=qe.fromSegments(ee.documentKey);o.has(Ae)||(o=o.add(Ae),a.push(Ae))})}))}).next(()=>a)}return re.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:Ote(Mn.create(t.filters,"and")).map(i=>jT(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,s,o,a){const l=(null!=e?e.length:1)*Math.max(i.length,s.length),c=l/(null!=e?e.length:1),p=[];for(let _=0;_<l;++_){const b=e?this.dn(e[_/c]):TI,T=this.An(t,b,i[_%c],r),P=this.Rn(t,b,s[_%c],o),N=a.map(L=>this.An(t,b,L,!0));p.push(...this.createRange(T,P,N))}return p}An(t,e,i,r){const s=new mu(t,qe.empty(),e,i);return r?s:s.Zt()}Rn(t,e,i,r){const s=new mu(t,qe.empty(),e,i);return r?s.Zt():s}Pn(t,e){const i=new PV(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let o=null;for(const a of s)i.rn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(t,e){let i=2;const r=this.hn(e);return re.forEach(r,s=>this.Pn(t,s).next(o=>{o?0!==i&&o.fields.length<function(l){let c=new Fn(ri.comparator),p=!1;for(const _ of l.filters)for(const b of _.getFlattenedFilters())b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:c=c.add(b.field));for(const _ of l.orderBy)_.field.isKeyField()||(c=c.add(_.field));return c.size+(p?1:0)}(s)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new qg;for(const r of su(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const o=i.Yt(r.kind);gu.vt.It(s,o)}return i.zt()}dn(t){const e=new qg;return gu.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new qg;return gu.vt.It(lu(this.databaseId,e),i.Yt(function(s){const o=su(s);return 0===o.length?0:o[o.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new qg);let s=0;for(const o of su(t)){const a=i[s++];for(const l of r)if(this.fn(e,o.fieldPath)&&xg(a))r=this.gn(r,o,a);else{const c=l.Yt(o.kind);gu.vt.It(a,c)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],s=[];for(const o of i.arrayValue.values||[])for(const a of r){const l=new qg;l.seed(a.zt()),gu.vt.It(o,l.Yt(e.kind)),s.push(l)}return s}fn(t,e){return!!t.filters.find(i=>i instanceof an&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=Gg(t),r=Hh(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(s=>{const o=[];return re.forEach(s,a=>r.get([a.indexId,this.uid]).next(l=>{o.push(function(p,_){const b=_?new Dh(_.sequenceNumber,new Rs(fu(_.readTime),new qe(ea(_.documentKey)),_.largestBatchId)):Dh.empty(),T=p.fields.map(([P,N])=>new ou(ri.fromServerFormat(P),N));return new Sh(p.indexId,p.collectionGroup,T,b)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Mt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=Gg(t),s=Hh(t);return this.yn(t).next(o=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>re.forEach(a,l=>s.put(SV(l.indexId,this.uid,o,i)))))}updateIndexEntries(t,e){const i=new Map;return re.forEach(e,(r,s)=>{const o=i.get(r.collectionGroup);return(o?re.resolve(o):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),re.forEach(a,l=>this.wn(t,r,l).next(c=>{const p=this.Sn(s,l);return c.isEqual(p)?re.resolve():this.bn(t,s,l,c,p)}))))})}Dn(t,e,i,r){return Uh(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return Uh(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=Uh(t);let s=new Fn(Vl);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(o,a)=>{s=s.add(new mu(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>s)}Sn(t,e){let i=new Fn(Vl);const r=this.Vn(e,t);if(null==r)return i;const s=PT(e);if(null!=s){const o=t.data.field(s.fieldPath);if(xg(o))for(const a of o.arrayValue.values||[])i=i.add(new mu(e.indexId,t.key,this.dn(a),r))}else i=i.add(new mu(e.indexId,t.key,TI,r));return i}bn(t,e,i,r,s){ke("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const o=[];return function(l,c,p,_,b){const T=l.getIterator(),P=c.getIterator();let N=Ah(T),L=Ah(P);for(;N||L;){let W=!1,H=!1;if(N&&L){const q=p(N,L);q<0?H=!0:q>0&&(W=!0)}else null!=N?H=!0:W=!0;W?(_(L),L=Ah(P)):H?(b(N),N=Ah(T)):(N=Ah(T),L=Ah(P))}}(r,s,Vl,a=>{o.push(this.Dn(t,e,i,a))},a=>{o.push(this.vn(t,e,i,a))}),re.waitFor(o)}yn(t){let e=1;return Hh(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((o,a)=>Vl(o,a)).filter((o,a,l)=>!a||0!==Vl(o,l[a-1]));const r=[];r.push(t);for(const o of i){const a=Vl(o,t),l=Vl(o,e);if(0===a)r[0]=t.Zt();else if(a>0&&l<0)r.push(o),r.push(o.Zt());else if(l>0)break}r.push(e);const s=[];for(let o=0;o<r.length;o+=2){if(this.Cn(r[o],r[o+1]))return[];s.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,TI,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,TI,[]]))}return s}Cn(t,e){return Vl(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(FV)}getMinOffset(t,e){return re.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||tt())).next(FV)}}function kV(n){return Gi(n,"collectionParents")}function Uh(n){return Gi(n,"indexEntries")}function Gg(n){return Gi(n,"indexConfiguration")}function Hh(n){return Gi(n,"indexState")}function FV(n){st(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;OT(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Rs(t.readTime,t.documentKey,e)}const LV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pr{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Pr(t,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VV(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],o=IDBKeyRange.only(e.batchId);let a=0;const l=i.J({range:o},(p,_,b)=>(a++,b.delete()));s.push(l.next(()=>{st(1===a)}));const c=[];for(const p of e.mutations){const _=e2(t,p.key.path,e.batchId);s.push(r.delete(_)),c.push(p.key)}return re.waitFor(s).next(()=>c)}function SI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw tt();t=n.noDocument}return JSON.stringify(t).length}Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(41943040,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);class DI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){st(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new DI(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bl(t).J({index:"userMutationsIndex",range:i},(r,s,o)=>{e=!1,o.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=jh(t),o=Bl(t);return o.add({}).next(a=>{st("number"==typeof a);const l=new KT(a,e,i,r),c=function(T,P,N){const L=N.baseMutations.map(H=>zg(T.ct,H)),W=N.mutations.map(H=>zg(T.ct,H));return{userId:P,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:L,mutations:W}}(this.serializer,this.userId,l),p=[];let _=new Fn((b,T)=>Mt(b.canonicalString(),T.canonicalString()));for(const b of r){const T=e2(this.userId,b.key.path,a);_=_.add(b.key.path.popLast()),p.push(o.put(c)),p.push(s.put(T,bee))}return _.forEach(b=>{p.push(this.indexManager.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),re.waitFor(p).next(()=>l)})}lookupMutationBatch(t,e){return Bl(t).get(e).next(i=>i?(st(i.userId===this.userId),pu(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?re.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Bl(t).J({index:"userMutationsIndex",range:r},(o,a,l)=>{a.userId===this.userId&&(st(a.batchId>=i),s=pu(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Bl(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,s,o)=>{i=s.batchId,o.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bl(t).U("userMutationsIndex",e).next(i=>i.map(r=>pu(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=sI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return jh(t).J({range:r},(o,a,l)=>{const[c,p,_]=o,b=ea(p);if(c===this.userId&&e.path.isEqual(b))return Bl(t).get(_).next(T=>{if(!T)throw tt();st(T.userId===this.userId),s.push(pu(this.serializer,T))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fn(Mt);const r=[];return e.forEach(s=>{const o=sI(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=jh(t).J({range:a},(c,p,_)=>{const[b,T,P]=c,N=ea(T);b===this.userId&&s.path.isEqual(N)?i=i.add(P):_.done()});r.push(l)}),re.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=sI(this.userId,i),o=IDBKeyRange.lowerBound(s);let a=new Fn(Mt);return jh(t).J({range:o},(l,c,p)=>{const[_,b,T]=l,P=ea(b);_===this.userId&&i.isPrefixOf(P)?P.length===r&&(a=a.add(T)):p.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Bl(t).get(s).next(o=>{if(null===o)throw tt();st(o.userId===this.userId),i.push(pu(this.serializer,o))}))}),re.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return VV(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),re.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return re.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return jh(t).J({range:i},(s,o,a)=>{if(s[0]===this.userId){const l=ea(s[1]);r.push(l)}else a.done()}).next(()=>{st(0===r.length)})})}containsKey(t,e){return BV(t,this.userId,e)}Nn(t){return UV(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function BV(n,t,e){const i=sI(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return jh(n).J({range:s,H:!0},(a,l,c)=>{const[p,_,b]=a;p===t&&_===r&&(o=!0),c.done()}).next(()=>o)}function Bl(n){return Gi(n,"mutations")}function jh(n){return Gi(n,"documentMutations")}function UV(n){return Gi(n,"mutationQueues")}class _u{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new _u(0)}static kn(){return new _u(-1)}}class kte{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new _u(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>pt.fromTimestamp(new hi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>zh(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(st(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return zh(t).J((o,a)=>{const l=$g(a);l.sequenceNumber<=e&&null===i.get(l.targetId)&&(r++,s.push(this.removeTargetData(t,l)))}).next(()=>re.waitFor(s)).next(()=>r)}forEachTarget(t,e){return zh(t).J((i,r)=>{const s=$g(r);e(s)})}qn(t){return HV(t).get("targetGlobalKey").next(e=>(st(null!==e),e))}Qn(t,e){return HV(t).put("targetGlobalKey",e)}Kn(t,e){return zh(t).put(CV(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=cu(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return zh(t).J({range:r,index:"queryTargetsIndex"},(o,a,l)=>{const c=$g(a);Og(e,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Ul(t);return e.forEach(o=>{const a=xr(o.path);r.push(s.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,o))}),re.waitFor(r)}removeMatchingKeys(t,e,i){const r=Ul(t);return re.forEach(e,s=>{const o=xr(s.path);return re.waitFor([r.delete([i,o]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Ul(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ul(t);let s=zt();return r.J({range:i,H:!0},(o,a,l)=>{const c=ea(o[1]),p=new qe(c);s=s.add(p)}).next(()=>s)}containsKey(t,e){const i=xr(e.path),r=IDBKeyRange.bound([i],[$L(i)],!1,!0);let s=0;return Ul(t).J({index:"documentTargetsIndex",H:!0,range:r},([o,a],l,c)=>{0!==o&&(s++,c.done())}).next(()=>s>0)}ot(t,e){return zh(t).get(e).next(i=>i?$g(i):null)}}function zh(n){return Gi(n,"targets")}function HV(n){return Gi(n,"targetGlobal")}function Ul(n){return Gi(n,"targetDocuments")}function jV([n,t],[e,i]){const r=Mt(n,e);return 0===r?Mt(t,i):r}class Fte{constructor(t){this.Un=t,this.buffer=new Fn(jV),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();jV(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zV{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ce.Z)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Rl(i)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield xl(i)}yield e.Hn(3e5)}))}}class Lte{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return re.resolve(Ps.oe);const i=new Fte(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(LV)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LV):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,s,o,a,l,c;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,o=Date.now(),this.nthSequenceNumber(t,r))).next(_=>(i=_,a=Date.now(),this.removeTargets(t,i,e))).next(_=>(s=_,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(c=Date.now(),Ch()<=Jo.in.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-p}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(l-a)+`ms\n\tRemoved ${_} documents in `+(c-l)+`ms\nTotal Duration: ${c-p}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:_})))}}class Vte{constructor(t,e){this.db=t,this.garbageCollector=function $V(n,t){return new Lte(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return AI(t,i)}removeReference(t,e,i){return AI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return AI(t,e)}nr(t,e){return function(r,s){let o=!1;return UV(r).Y(a=>BV(r,a,s).next(l=>(l&&(o=!0),re.resolve(!l)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.tr(t,(o,a)=>{if(a<=e){const l=this.nr(t,o).next(c=>{if(!c)return s++,i.getEntry(t,o).next(()=>(i.removeEntry(o,pt.min()),Ul(t).delete([0,xr(o.path)])))});r.push(l)}}).next(()=>re.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return AI(t,e)}tr(t,e){const i=Ul(t);let r,s=Ps.oe;return i.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{0===o?(s!==Ps.oe&&e(new qe(ea(r)),s),s=c,r=l):s=Ps.oe}).next(()=>{s!==Ps.oe&&e(new qe(ea(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function AI(n,t){return Ul(n).put((r=n.currentSequenceNumber,{targetId:0,path:xr(t.path),sequenceNumber:r}));var r}class WV{constructor(){this.changes=new Ha(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,si.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?re.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Bte{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return yu(t).put(i)}removeEntry(t,e,i){return yu(t).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],wI(o),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=si.newInvalidDocument(e);return yu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kg(e))},(r,s)=>{i=this.ir(e,s)}).next(()=>i)}sr(t,e){let i={size:0,document:si.newInvalidDocument(e)};return yu(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Kg(e))},(r,s)=>{i={document:this.ir(e,s),size:SI(s)}}).next(()=>i)}getEntries(t,e){let i=ds();return this._r(t,e,(r,s)=>{const o=this.ir(r,s);i=i.insert(r,o)}).next(()=>i)}ar(t,e){let i=ds(),r=new Qn(qe.comparator);return this._r(t,e,(s,o)=>{const a=this.ir(s,o);i=i.insert(s,a),r=r.insert(s,SI(o))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return re.resolve();let r=new Fn(ZV);e.forEach(l=>r=r.add(l));const s=IDBKeyRange.bound(Kg(r.first()),Kg(r.last())),o=r.getIterator();let a=o.getNext();return yu(t).J({index:"documentKeyIndex",range:s},(l,c,p)=>{const _=qe.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&ZV(a,_)<0;)i(a,null),a=o.getNext();a&&a.isEqual(_)&&(i(a,c),a=o.hasNext()?o.getNext():null),a?p.$(Kg(a)):p.done()}).next(()=>{for(;a;)i(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,s){const o=e.path,a=[o.popLast().toArray(),o.lastSegment(),wI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return yu(t).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s?.incrementDocumentReadCount(c.length);let p=ds();for(const _ of c){const b=this.ir(qe.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);b.isFoundDocument()&&(Ng(e,b)||r.has(b.key))&&(p=p.insert(b.key,b))}return p})}getAllFromCollectionGroup(t,e,i,r){let s=ds();const o=KV(e,i),a=KV(e,Rs.max());return yu(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,p)=>{const _=this.ir(qe.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(_.key,_),s.size===r&&p.done()}).next(()=>s)}newChangeBuffer(t){return new Ute(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return GV(t).get("remoteDocumentGlobalKey").next(e=>(st(!!e),e))}rr(t,e){return GV(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function Tte(n,t){let e;if(t.document)e=gV(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=qe.fromSegments(t.noDocument.path),r=fu(t.noDocument.readTime);e=si.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return tt();{const i=qe.fromSegments(t.unknownDocument.path),r=fu(t.unknownDocument.version);e=si.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const s=new hi(r[0],r[1]);return pt.fromTimestamp(s)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(pt.min()))return i}return si.newInvalidDocument(t)}}function qV(n){return new Bte(n)}class Ute extends WV{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new Ha(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Fn((s,o)=>Mt(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.lr.get(s);if(e.push(this.cr.removeEntry(t,s,a.readTime)),o.isValidDocument()){const l=EV(this.cr.serializer,o);r=r.add(s.path.popLast());const c=SI(l);i+=c-a.size,e.push(this.cr.addEntry(t,s,l))}else if(i-=a.size,this.trackRemovals){const l=EV(this.cr.serializer,o.convertToNoDocument(pt.min()));e.push(this.cr.addEntry(t,s,l))}}),r.forEach(s=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.cr.updateMetadata(t,i)),re.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((s,o)=>{this.lr.set(s,{size:o,readTime:i.get(s).readTime})}),i))}}function GV(n){return Gi(n,"remoteDocumentGlobal")}function yu(n){return Gi(n,"remoteDocumentsV14")}function Kg(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function KV(n,t){const e=t.documentKey.path.toArray();return[n,wI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function ZV(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Mt(e[s],i[s]),r)return r;return r=Mt(e.length,i.length),r||(r=Mt(e[e.length-2],i[i.length-2]),r||Mt(e[e.length-1],i[i.length-1]))}class Hte{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class QV{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&Vg(i.mutation,r,us.empty(),hi.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,zt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=zt()){const r=na();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=kg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){const i=na();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,zt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,a)=>{e.set(o,a)})})}computeViews(t,e,i,r){let s=ds();const o=Fg(),a=Fg();return e.forEach((l,c)=>{const p=i.get(c.key);r.has(c.key)&&(void 0===p||p.mutation instanceof ja)?s=s.insert(c.key,c):void 0!==p?(o.set(c.key,p.mutation.getFieldMask()),Vg(p.mutation,c,p.mutation.getFieldMask(),hi.now())):o.set(c.key,us.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((c,p)=>o.set(c,p)),e.forEach((c,p)=>{var _;return a.set(c,new Hte(p,null!==(_=o.get(c))&&void 0!==_?_:null))}),a))}recalculateAndSaveOverlays(t,e){const i=Fg();let r=new Qn((o,a)=>o-a),s=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=e.get(l);if(null===c)return;let p=i.get(l)||us.empty();p=a.applyToLocalView(c,p),i.set(l,p);const _=(r.get(a.batchId)||zt()).add(l);r=r.insert(a.batchId,_)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,p=l.value,_=B2();p.forEach(b=>{if(!s.has(b)){const T=G2(e.get(b),i.get(b));null!==T&&_.set(b,T),s=s.add(b)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,_))}return re.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return qe.isDocumentKey((o=e).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):zT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var o}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):re.resolve(na());let a=-1,l=s;return o.next(c=>re.forEach(c,(p,_)=>(a<_.largestBatchId&&(a=_.largestBatchId),s.get(p)?re.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{l=l.insert(p,b)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,l,c,zt())).next(p=>({batchId:a,changes:V2(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new qe(e)).next(i=>{let r=kg();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const s=e.collectionGroup;let o=kg();return this.indexManager.getCollectionParents(t,s).next(a=>re.forEach(a,l=>{const c=(_=e,b=l.child(s),new Ua(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(p=>{p.forEach((_,b)=>{o=o.insert(_,b)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,c)=>{const p=c.getKey();null===o.get(p)&&(o=o.insert(p,si.newInvalidDocument(p)))});let a=kg();return o.forEach((l,c)=>{const p=s.get(l);void 0!==p&&Vg(p.mutation,c,us.empty(),hi.now()),Ng(e,c)&&(a=a.insert(l,c))}),a})}}class jte{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return re.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:Oi(r.createTime)}),re.resolve();var r}getNamedQuery(t,e){return re.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:iS(r.bundledQuery),readTime:Oi(r.readTime)}),re.resolve();var r}}class zte{constructor(){this.overlays=new Qn(qe.comparator),this.Ir=new Map}getOverlay(t,e){return re.resolve(this.overlays.get(e))}getOverlays(t,e){const i=na();return re.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ht(t,e,s)}),re.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),re.resolve()}getOverlaysForCollection(t,e,i){const r=na(),s=e.length+1,o=new qe(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!e.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return re.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Qn((c,p)=>c-p);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===e&&c.largestBatchId>i){let p=s.get(c.largestBatchId);null===p&&(p=na(),s=s.insert(c.largestBatchId,p)),p.set(c.getKey(),c)}}const a=na(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,p)=>a.set(c,p)),!(a.size()>=r)););return re.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new QT(e,i));let s=this.Ir.get(e);void 0===s&&(s=zt(),this.Ir.set(e,s)),this.Ir.set(e,s.add(i.key))}}class $te{constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(t){return re.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,re.resolve()}}class uS{constructor(){this.Tr=new Fn(sr.Er),this.dr=new Fn(sr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new sr(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new sr(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new qe(new on([])),i=new sr(e,t),r=new sr(e,t+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new qe(new on([])),i=new sr(e,t),r=new sr(e,t+1);let s=zt();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){const e=new sr(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class sr{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return qe.comparator(t.key,e.key)||Mt(t.wr,e.wr)}static Ar(t,e){return Mt(t.wr,e.wr)||qe.comparator(t.key,e.key)}}class Wte{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Fn(sr.Er)}checkEmpty(t){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.Sr;this.Sr++;const o=new KT(s,e,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new sr(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return re.resolve(o)}lookupMutationBatch(t,e){return re.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),s=r<0?0:r;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new sr(e,0),r=new sr(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Fn(Mt);return e.forEach(r=>{const s=new sr(r,0),o=new sr(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),re.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;qe.isDocumentKey(s)||(s=s.child(""));const o=new sr(new qe(s),0);let a=new Fn(Mt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.wr)),!0)},o),re.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){st(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return re.forEach(e.mutations,r=>{const s=new sr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new sr(e,0),r=this.br.firstAfterOrEqual(i);return re.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return re.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class qte{constructor(t){this.Mr=t,this.docs=new Qn(qe.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return re.resolve(i?i.document.mutableCopy():si.newInvalidDocument(e))}getEntries(t,e){let i=ds();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():si.newInvalidDocument(r))}),re.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ds();const o=e.path,a=new qe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:p}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||OT(qL(p),i)<=0||(r.has(p.key)||Ng(e,p))&&(s=s.insert(p.key,p.mutableCopy()))}return re.resolve(s)}getAllFromCollectionGroup(t,e,i,r){tt()}Or(t,e){return re.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Gte(this)}getSize(t){return re.resolve(this.size)}}class Gte extends WV{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),re.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class Kte{constructor(t){this.persistence=t,this.Nr=new Ha(e=>cu(e),Og),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new uS,this.targetCount=0,this.kr=_u.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),re.resolve()}getLastRemoteSnapshotVersion(t){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return re.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),re.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new _u(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,re.resolve()}updateTargetData(t,e){return this.Kn(e),re.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,re.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),re.waitFor(s).next(()=>r)}getTargetCount(t){return re.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return re.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),re.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),re.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),re.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return re.resolve(i)}containsKey(t,e){return re.resolve(this.Br.containsKey(e))}}class dS{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Ps(0),this.Kr=!1,this.Kr=!0,this.$r=new $te,this.referenceDelegate=t(this),this.Ur=new Kte(this),this.indexManager=new Mte,this.remoteDocumentCache=new qte(i=>this.referenceDelegate.Wr(i)),this.serializer=new wV(e),this.Gr=new jte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new zte,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new Wte(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){ke("MemoryPersistence","Starting transaction:",t);const r=new Zte(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,e){return re.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class Zte extends KL{constructor(t){super(),this.currentSequenceNumber=t}}class xI{constructor(t){this.persistence=t,this.Jr=new uS,this.Yr=null}static Zr(t){return new xI(t)}get Xr(){if(this.Yr)return this.Yr;throw tt()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),re.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),re.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),re.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,i=>{const r=qe.fromPath(i);return this.ei(t,r).next(s=>{s||e.removeEntry(r,pt.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return re.or([()=>re.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class Qte{constructor(t){this.serializer=t}O(t,e,i,r){const s=new rI("createOrUpgrade",e);var l;i<1&&r>=1&&(t.createObjectStore("owner"),(l=t).createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XL,{unique:!0}),l.createObjectStore("documentMutations"),YV(t),function(l){l.createObjectStore("remoteDocuments")}(t));let o=re.resolve();return i<3&&r>=3&&(0!==i&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(t),YV(t)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),p={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pt.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",p)}(s))),i<4&&r>=4&&(0!==i&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(p=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",XL,{unique:!0});const _=c.store("mutations"),b=p.map(T=>_.put(T));return re.waitFor(b)})}(t,s))),o=o.next(()=>{!function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(o=o.next(()=>this.ni(s))),i<6&&r>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(t),this.ri(s)))),i<7&&r>=7&&(o=o.next(()=>this.ii(s))),i<8&&r>=8&&(o=o.next(()=>this.si(t,s))),i<9&&r>=9&&(o=o.next(()=>{!function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(o=o.next(()=>this.oi(s))),i<11&&r>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(o=o.next(()=>{!function(l){const c=l.createObjectStore("documentOverlays",{keyPath:Mee});c.createIndex("collectionPathOverlayIndex",Nee,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",kee,{unique:!1})}(t)})),i<13&&r>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:wee});c.createIndex("documentKeyIndex",Eee),c.createIndex("collectionGroupIndex",Cee)}(t)).next(()=>this._i(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(o=o.next(()=>this.ai(t,s))),i<15&&r>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:xee}).createIndex("sequenceNumberIndex",Ree,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Pee}).createIndex("documentKeyIndex",Oee,{unique:!1})}(t))),i<16&&r>=16&&(o=o.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(o=o.next(()=>{!function(l){l.createObjectStore("globals",{keyPath:"name"})}(t)})),o}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=SI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>re.forEach(r,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",o).next(a=>re.forEach(a,l=>{st(l.userId===s.userId);const c=pu(this.serializer,l);return VV(t,s.userId,c).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((o,a)=>{const l=new on(o),c=[0,xr(l)];s.push(e.get(c).next(p=>p?re.resolve():e.put({targetId:0,path:xr(l),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>re.waitFor(s))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:Aee});const i=e.store("collectionParents"),r=new cS,s=o=>{if(r.add(o)){const a=o.lastSegment(),l=o.popLast();return i.put({collectionId:a,parent:xr(l)})}};return e.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new on(o);return s(l.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([o,a,l],c)=>{const p=ea(a);return s(p.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const s=$g(r),o=CV(this.serializer,s);return e.put(o)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((s,o)=>{const a=e.store("remoteDocumentsV14"),l=(_=o,_.document?new qe(on.fromString(_.document.name).popFirst(5)):_.noDocument?qe.fromSegments(_.noDocument.path):_.unknownDocument?qe.fromSegments(_.unknownDocument.path):tt()).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var _;r.push(a.put(c))}).next(()=>re.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=qV(this.serializer),s=new dS(xI.Zr,this.serializer.ct);return i.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let p=null!==(c=a.get(l.userId))&&void 0!==c?c:zt();pu(this.serializer,l).keys().forEach(_=>p=p.add(_)),a.set(l.userId,p)}),re.forEach(a,(l,c)=>{const p=new ir(c),_=EI.lt(this.serializer,p),b=s.getIndexManager(p),T=DI.lt(p,this.serializer,b,s.referenceDelegate);return new QV(r,T,_,b).recalculateAndSaveOverlaysForDocumentKeys(new FT(e,Ps.oe),l).next()})})}}function YV(n){n.createObjectStore("targetDocuments",{keyPath:See}).createIndex("documentTargetsIndex",Dee,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tee,{unique:!0}),n.createObjectStore("targetGlobal")}const hS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class fS{constructor(t,e,i,r,s,o,a,l,c,p,_=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=s,this.window=o,this.document=a,this.ci=c,this.li=p,this.hi=_,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=b=>Promise.resolve(),!fS.D())throw new Me(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Vte(this,r),this.Ai=e+"main",this.serializer=new wV(l),this.Ri=new Xo(this.Ai,this.hi,new Qte(this.serializer)),this.$r=new Dte,this.Ur=new kte(this.referenceDelegate,this.serializer),this.remoteDocumentCache=qV(this.serializer),this.Gr=new Ste,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===p&&Pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ge.FAILED_PRECONDITION,hS);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Ps(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,Ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,Ce.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>PI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(Rl(t))return ke("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Zg(t).get("owner").next(e=>re.resolve(this.vi(e)))}Ci(t){return PI(t).delete(this.clientId)}Fi(){var t=this;return(0,Ce.Z)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Gi(i,"clientMetadata");return r.U().next(s=>{const o=t.xi(s,18e5),a=s.filter(l=>-1===o.indexOf(l));return re.forEach(a,l=>r.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?re.resolve(!0):Zg(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new Me(ge.FAILED_PRECONDITION,hS);return!1}}return!(!this.networkEnabled||!this.inForeground)||PI(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&ke("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ce.Z)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new FT(e,Ps.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>PI(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return DI.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Nte(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return EI.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){ke("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=17===(l=this.hi)?Vee:16===l?Lee:15===l?kT:14===l?r2:13===l?n2:12===l?Fee:11===l?t2:void tt();var l;let o;return this.Ri.runTransaction(t,r,s,a=>(o=new FT(a,this.Qr?this.Qr.next():Ps.oe),"readwrite-primary"===e?this.wi(o).next(l=>!!l||this.Si(o)).next(l=>{if(!l)throw Pi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Me(ge.FAILED_PRECONDITION,GL);return i(o)}).next(l=>this.Di(o).next(()=>l)):this.Ki(o).next(()=>i(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ki(t){return Zg(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Me(ge.FAILED_PRECONDITION,hS)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zg(t).put("owner",e)}static D(){return Xo.D()}bi(t){const e=Zg(t);return e.get("owner").next(i=>this.vi(i)?(ke("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):re.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Pi(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,gn.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return ke("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Pi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Pi("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Zg(n){return Gi(n,"owner")}function PI(n){return Gi(n,"clientMetadata")}function pS(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class gS{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=zt(),r=zt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new gS(t,e.fromCache,i,r)}}class Yte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class JV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,gn.G6)()?8:ZL((0,gn.z$)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const s={result:null};return this.Yi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Yte;return this.Xi(t,e,o).next(a=>{if(s.result=a,this.zi)return this.es(t,e,o,a.size)})}).next(()=>s.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Ch()<=Jo.in.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Mh(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(Ch()<=Jo.in.DEBUG&&ke("QueryEngine","Query:",Mh(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ch()<=Jo.in.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Mh(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rr(e))):re.resolve())}Yi(t,e){if(P2(e))return re.resolve(null);let i=Rr(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=gI(e,null,"F"),i=Rr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const o=zt(...s);return this.Ji.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.ts(e,a);return this.ns(e,c,o,l.readTime)?this.Yi(t,gI(e,null,"F")):this.rs(t,c,e,l)}))})))}Zi(t,e,i,r){return P2(e)||r.isEqual(pt.min())?re.resolve(null):this.Ji.getDocuments(t,i).next(s=>{const o=this.ts(e,s);return this.ns(e,o,i,r)?re.resolve(null):(Ch()<=Jo.in.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Mh(e)),this.rs(t,o,e,WL(r,-1)).next(a=>a))})}ts(t,e){let i=new Fn(F2(t));return e.forEach((r,s)=>{Ng(t,s)&&(i=i.add(s))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,e,i){return Ch()<=Jo.in.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Mh(e)),this.Ji.getDocumentsMatchingQuery(t,e,Rs.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Jte{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new Qn(Mt),this._s=new Ha(s=>cu(s),Og),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function XV(n,t,e,i){return new Jte(n,t,e,i)}function eB(n,t){return mS.apply(this,arguments)}function mS(){return(mS=(0,Ce.Z)(function*(n,t){const e=je(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=zt();for(const c of r){o.push(c.batchId);for(const p of c.mutations)l=l.add(p.key)}for(const c of s){a.push(c.batchId);for(const p of c.mutations)l=l.add(p.key)}return e.localDocuments.getDocuments(i,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function tB(n){const t=je(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function nB(n,t,e){let i=zt(),r=zt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=ds();return e.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(pt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function tne(n,t){const e=je(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function $h(n,t){const e=je(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(s=>s?(r=s,re.resolve(r)):e.Ur.allocateTargetId(i).next(o=>(r=new za(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function Wh(n,t,e){return _S.apply(this,arguments)}function _S(){return(_S=(0,Ce.Z)(function*(n,t,e){const i=je(n),r=i.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Rl(o))throw o;ke("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function OI(n,t,e){const i=je(n);let r=pt.min(),s=zt();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,p){const _=je(l),b=_._s.get(p);return void 0!==b?re.resolve(_.os.get(b)):_.Ur.getTargetData(c,p)}(i,o,Rr(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,t,e?r:pt.min(),e?s:zt())).next(a=>(sB(i,k2(t),a),{documents:a,Ts:s})))}function iB(n,t){const e=je(n),i=je(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.ot(s,t).next(o=>o?o.target:null))}function rB(n,t){const e=je(n),i=e.us.get(t)||pt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,WL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(sB(e,t,r),r))}function sB(n,t,e){let i=n.us.get(t)||pt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(t,i)}function yS(){return(yS=(0,Ce.Z)(function*(n,t,e,i){const r=je(n);let s=zt(),o=ds();for(const c of e){const p=t.Es(c.metadata.name);c.document&&(s=s.add(p));const _=t.ds(c);_.setReadTime(t.As(c.metadata.readTime)),o=o.insert(p,_)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),l=yield $h(r,(p=i,Rr(Ph(on.fromString(`__bundle__/docs/${p}`)))));var p;return r.persistence.runTransaction("Apply bundle documents","readwrite",c=>nB(c,a,o).next(p=>(a.apply(c),p)).next(p=>r.Ur.removeMatchingKeysForTargetId(c,l.targetId).next(()=>r.Ur.addMatchingKeys(c,s,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(c,p.Ps,p.Is)).next(()=>p.Ps)))})).apply(this,arguments)}function ine(n,t){return vS.apply(this,arguments)}function vS(){return(vS=(0,Ce.Z)(function*(n,t,e=zt()){const i=yield $h(n,Rr(iS(t.bundledQuery))),r=je(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const o=Oi(t.readTime);if(i.snapshotVersion.compareTo(o)>=0)return r.Gr.saveNamedQuery(s,t);const a=i.withResumeToken(wi.EMPTY_BYTE_STRING,o);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(s,a).next(()=>r.Ur.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Ur.addMatchingKeys(s,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(s,t))})})).apply(this,arguments)}function oB(n,t){return`firestore_clients_${n}_${t}`}function aB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function IS(n,t){return`firestore_targets_${n}_${t}`}class MI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let s,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(s=new Me(r.error.code,r.error.message))),o?new MI(t,e,r.state,s):(Pi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Qg{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Me(i.error.code,i.error.message))),s?new Qg(t,i.state,r):(Pi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class NI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=WT();for(let o=0;r&&o<i.activeTargetIds.length;++o)r=YL(i.activeTargetIds[o]),s=s.add(i.activeTargetIds[o]);return r?new NI(t,s):(Pi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class bS{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new bS(e.clientId,e.onlineState):(Pi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class wS{constructor(){this.activeTargetIds=WT()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ES{constructor(t,e,i,r,s){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Qn(Mt),this.started=!1,this.bs=[];const o=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=oB(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new wS),this.Cs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const s=t.getItem(oB(t.persistenceKey,r));if(s){const o=NI.Rs(r,s);o&&(t.Ss=t.Ss.insert(o.clientId,o))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t,e=!0){let i="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(IS(this.persistenceKey,t));if(r){const s=Qg.Rs(t,r);s&&(i=s.state)}}return e&&this.Ks.fs(t),this.Ns(),i}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(IS(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ke("SharedClientState","READ",t,e),e}setItem(t,e){ke("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ke("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void Pi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,Ce.Z)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(o){let a=Ps.oe;if(null!=o)try{const l=JSON.parse(o);st("number"==typeof l),a=l}catch(l){Pi("SharedClientState","Failed to read sequence number from WebStorage",l)}return a}(i.newValue);r!==Ps.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.eo(s)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new MI(this.currentUser,t,e,i),s=aB(this.persistenceKey,this.currentUser,t);this.setItem(s,r.Vs())}Qs(t){const e=aB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=IS(this.persistenceKey,t),s=new Qg(t,e,i);this.setItem(r,s.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return NI.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return MI.Rs(new ir(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return Qg.Rs(r,e)}Ls(t){return bS.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,Ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);ke("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),s=this.ks(i),o=[],a=[];return s.forEach(l=>{r.has(l)||o.push(l)}),r.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.io(o,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=WT();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class lB{constructor(){this.so=new wS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new wS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class rne{_o(t){}shutdown(){}}class cB{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kI=null;function CS(){return null===kI?kI=268435456+Math.round(2147483648*Math.random()):kI++,"0x"+kI.toString(16)}const sne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class one{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Or="WebChannelConnection";class ane extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(e,i,r,s,o){const a=CS(),l=this.xo(e,i.toUriEncodedString());ke("RestConnection",`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(e,l,c,r).then(p=>(ke("RestConnection",`Received RPC '${e}' ${a}: `,p),p),p=>{throw xs("RestConnection",`RPC '${e}' ${a} failed with error: `,p,"url: ",l,"request:",r),p})}Lo(e,i,r,s,o,a){return this.Mo(e,i,r,s,o)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Eh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}xo(e,i){return`${this.Do}/v1/${i}:${sne[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const s=CS();return new Promise((o,a)=>{const l=new kL;l.setWithCredentials(!0),l.listenOnce(FL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case iI.NO_ERROR:const p=l.getResponseJson();ke(Or,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(p)),o(p);break;case iI.TIMEOUT:ke(Or,`RPC '${t}' ${s} timed out`),a(new Me(ge.DEADLINE_EXCEEDED,"Request time out"));break;case iI.HTTP_ERROR:const _=l.getStatus();if(ke(Or,`RPC '${t}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let b=l.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b?.error;if(T&&T.status&&T.message){const P=function(L){const W=L.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(W)>=0?W:ge.UNKNOWN}(T.status);a(new Me(P,T.message))}else a(new Me(ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Me(ge.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{ke(Or,`RPC '${t}' ${s} completed.`)}});const c=JSON.stringify(r);ke(Or,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",c,i,15)})}Bo(t,e,i){const r=CS(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=BL(),a=VL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;const p=s.join("");ke(Or,`Creating RPC '${t}' stream ${r}: ${p}`,l);const _=o.createWebChannel(p,l);let b=!1,T=!1;const P=new one({Io:L=>{T?ke(Or,`Not sending because RPC '${t}' stream ${r} is closed:`,L):(b||(ke(Or,`Opening RPC '${t}' stream ${r} transport.`),_.open(),b=!0),ke(Or,`RPC '${t}' stream ${r} sending:`,L),_.send(L))},To:()=>_.close()}),N=(L,W,H)=>{L.listen(W,q=>{try{H(q)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(_,wg.EventType.OPEN,()=>{T||(ke(Or,`RPC '${t}' stream ${r} transport opened.`),P.yo())}),N(_,wg.EventType.CLOSE,()=>{T||(T=!0,ke(Or,`RPC '${t}' stream ${r} transport closed`),P.So())}),N(_,wg.EventType.ERROR,L=>{T||(T=!0,xs(Or,`RPC '${t}' stream ${r} transport errored:`,L),P.So(new Me(ge.UNAVAILABLE,"The operation could not be completed")))}),N(_,wg.EventType.MESSAGE,L=>{var W;if(!T){const H=L.data[0];st(!!H);const ee=H.error||(null===(W=H[0])||void 0===W?void 0:W.error);if(ee){ke(Or,`RPC '${t}' stream ${r} received error:`,ee);const Ae=ee.status;let Ve=function($){const J=Bi[$];if(void 0!==J)return eV(J)}(Ae),j=ee.message;void 0===Ve&&(Ve=ge.INTERNAL,j="Unknown error status: "+Ae+" with message "+ee.message),T=!0,P.So(new Me(Ve,j)),_.close()}else ke(Or,`RPC '${t}' stream ${r} received:`,H),P.bo(H)}}),N(a,LL.STAT_EVENT,L=>{L.stat===xT.PROXY?ke(Or,`RPC '${t}' stream ${r} detected buffering proxy`):L.stat===xT.NOPROXY&&ke(Or,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function uB(){return typeof window<"u"?window:null}function FI(){return typeof document<"u"?document:null}function Yg(n){return new gte(n,!0)}class TS{constructor(t,e,i=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class dB{constructor(t,e,i,r,s,o,a,l){this.ui=t,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new TS(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,Ce.Z)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,Ce.Z)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,Ce.Z)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(Pi(e.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===ge.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new Me(ge.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,Ce.Z)(function*(){t.state=0,t.start()}))}I_(t){return ke("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lne extends dB{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function yte(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(c=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:tt(),r=t.targetChange.targetIds||[],s=function(c,p){return c.useProto3Json?(st(void 0===p||"string"==typeof p),wi.fromBase64String(p||"")):(st(void 0===p||p instanceof Buffer||p instanceof Uint8Array),wi.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const p=void 0===c.code?ge.UNKNOWN:eV(c.code);return new Me(p,c.message||"")}(o);e=new sV(i,r,s,a||null)}else if("documentChange"in t){const i=t.documentChange,r=ia(n,i.document.name),s=Oi(i.document.updateTime),o=i.document.createTime?Oi(i.document.createTime):pt.min(),a=new pr({mapValue:{fields:i.document.fields}}),l=si.newFoundDocument(r,s,o,a);e=new II(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in t){const i=t.documentDelete,r=ia(n,i.document),s=i.readTime?Oi(i.readTime):pt.min(),o=si.newNoDocument(r,s);e=new II([],i.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const i=t.documentRemove,r=ia(n,i.document);e=new II([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return tt();{const i=t.filter,{count:r=0,unchangedNames:s}=i,o=new cte(r,s);e=new rV(i.targetId,o)}}var c;return e}(this.serializer,t),i=function(s){if(!("targetChange"in s))return pt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pt.min():o.readTime?Oi(o.readTime):pt.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=tS(this.serializer),e.addTarget=function(s,o){let a;const l=o.target;if(a=fI(l)?{documents:mV(s,l)}:{query:bI(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cV(s,o.resumeToken);const c=JT(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(pt.min())>0){a.readTime=Vh(s,o.snapshotVersion.toTimestamp());const c=JT(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,t);const i=function Ite(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=tS(this.serializer),e.removeTarget=t,this.a_(e)}}class cne extends dB{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return st(!!t.streamToken),this.lastStreamToken=t.streamToken,st(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){st(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function vte(n,t){return n&&n.length>0?(st(void 0!==t),n.map(e=>function(r,s){let o=Oi(r.updateTime?r.updateTime:s);return o.isEqual(pt.min())&&(o=Oi(s)),new ote(o,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Oi(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=tS(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>zg(this.serializer,i))};this.a_(e)}}class une extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,eS(e,i),r,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Me(ge.UNKNOWN,s.toString())})}Lo(t,e,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(t,eS(e,i),r,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ge.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dne{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Pi(e),this.D_=!1):ke("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class hne{constructor(t,e,i,r,s){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{i.enqueueAndForget((0,Ce.Z)(function*(){var l;Hl(o)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,Ce.Z)(function*(p){const _=je(p);_.L_.add(4),yield qh(_),_.q_.set("Unknown"),_.L_.delete(4),yield Jg(_)}),function c(p){return l.apply(this,arguments)})(o))}))}),this.q_=new dne(i,r)}}function Jg(n){return SS.apply(this,arguments)}function SS(){return(SS=(0,Ce.Z)(function*(n){if(Hl(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function qh(n){return DS.apply(this,arguments)}function DS(){return(DS=(0,Ce.Z)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function LI(n,t){const e=je(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),RS(e)?xS(e):Zh(e).r_()&&AS(e,t))}function Gh(n,t){const e=je(n),i=Zh(e);e.N_.delete(t),i.r_()&&hB(e,t),0===e.N_.size&&(i.r_()?i.o_():Hl(e)&&e.q_.set("Unknown"))}function AS(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Zh(n).A_(t)}function hB(n,t){n.Q_.xe(t),Zh(n).R_(t)}function xS(n){n.Q_=new dte({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Zh(n).start(),n.q_.v_()}function RS(n){return Hl(n)&&!Zh(n).n_()&&n.N_.size>0}function Hl(n){return 0===je(n).L_.size}function fB(n){n.Q_=void 0}function fne(n){return PS.apply(this,arguments)}function PS(){return(PS=(0,Ce.Z)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function pne(n){return OS.apply(this,arguments)}function OS(){return(OS=(0,Ce.Z)(function*(n){n.N_.forEach((t,e)=>{AS(n,t)})})).apply(this,arguments)}function gne(n,t){return MS.apply(this,arguments)}function MS(){return(MS=(0,Ce.Z)(function*(n,t){fB(n),RS(n)?(n.q_.M_(t),xS(n)):n.q_.set("Unknown")})).apply(this,arguments)}function mne(n,t,e){return NS.apply(this,arguments)}function NS(){return NS=(0,Ce.Z)(function*(n,t,e){if(n.q_.set("Online"),t instanceof sV&&2===t.state&&t.cause)try{yield(i=(0,Ce.Z)(function*(s,o){const a=o.cause;for(const l of o.targetIds)s.N_.has(l)&&(yield s.remoteSyncer.rejectListen(l,a),s.N_.delete(l),s.Q_.removeTarget(l))}),function r(s,o){return i.apply(this,arguments)})(n,t)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield VI(n,i)}else if(t instanceof II?n.Q_.Ke(t):t instanceof rV?n.Q_.He(t):n.Q_.We(t),!e.isEqual(pt.min()))try{const i=yield tB(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const p=s.N_.get(c);p&&s.N_.set(c,p.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const p=s.N_.get(l);if(!p)return;s.N_.set(l,p.withResumeToken(wi.EMPTY_BYTE_STRING,p.snapshotVersion)),hB(s,l);const _=new za(p.target,l,c,p.sequenceNumber);AS(s,_)}),s.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),yield VI(n,i)}var i}),NS.apply(this,arguments)}function VI(n,t,e){return kS.apply(this,arguments)}function kS(){return(kS=(0,Ce.Z)(function*(n,t,e){if(!Rl(t))throw t;n.L_.add(1),yield qh(n),n.q_.set("Offline"),e||(e=()=>tB(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield Jg(n)}))})).apply(this,arguments)}function pB(n,t){return t().catch(e=>VI(n,e,t))}function Kh(n){return FS.apply(this,arguments)}function FS(){return(FS=(0,Ce.Z)(function*(n){const t=je(n),e=jl(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;_ne(t);)try{const r=yield tne(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,yne(t,r)}catch(r){yield VI(t,r)}gB(t)&&mB(t)})).apply(this,arguments)}function _ne(n){return Hl(n)&&n.O_.length<10}function yne(n,t){n.O_.push(t);const e=jl(n);e.r_()&&e.V_&&e.m_(t.mutations)}function gB(n){return Hl(n)&&!jl(n).n_()&&n.O_.length>0}function mB(n){jl(n).start()}function vne(n){return LS.apply(this,arguments)}function LS(){return(LS=(0,Ce.Z)(function*(n){jl(n).p_()})).apply(this,arguments)}function Ine(n){return VS.apply(this,arguments)}function VS(){return(VS=(0,Ce.Z)(function*(n){const t=jl(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function bne(n,t,e){return BS.apply(this,arguments)}function BS(){return(BS=(0,Ce.Z)(function*(n,t,e){const i=n.O_.shift(),r=ZT.from(i,t,e);yield pB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Kh(n)})).apply(this,arguments)}function wne(n,t){return US.apply(this,arguments)}function US(){return US=(0,Ce.Z)(function*(n,t){var e;t&&jl(n).V_&&(yield(e=(0,Ce.Z)(function*(r,s){if(X2(a=s.code)&&a!==ge.ABORTED){const o=r.O_.shift();jl(r).s_(),yield pB(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Kh(r)}var a}),function i(r,s){return e.apply(this,arguments)})(n,t)),gB(n)&&mB(n)}),US.apply(this,arguments)}function _B(n,t){return HS.apply(this,arguments)}function HS(){return(HS=(0,Ce.Z)(function*(n,t){const e=je(n);e.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=Hl(e);e.L_.add(3),yield qh(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield Jg(e)})).apply(this,arguments)}function jS(n,t){return zS.apply(this,arguments)}function zS(){return(zS=(0,Ce.Z)(function*(n,t){const e=je(n);t?(e.L_.delete(2),yield Jg(e)):t||(e.L_.add(2),yield qh(e),e.q_.set("Unknown"))})).apply(this,arguments)}function Zh(n){return n.K_||(n.K_=function(e,i,r){const s=je(e);return s.w_(),new lne(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:fne.bind(null,n),Ro:pne.bind(null,n),mo:gne.bind(null,n),d_:mne.bind(null,n)}),n.B_.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.K_.s_(),RS(n)?xS(n):n.q_.set("Unknown")):(yield n.K_.stop(),fB(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function jl(n){return n.U_||(n.U_=function(e,i,r){const s=je(e);return s.w_(),new cne(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vne.bind(null,n),mo:wne.bind(null,n),f_:Ine.bind(null,n),g_:bne.bind(null,n)}),n.B_.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.U_.s_(),yield Kh(n)):(yield n.U_.stop(),n.O_.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class $S{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){const o=Date.now()+i,a=new $S(t,e,o,r,s);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qh(n,t){if(Pi("AsyncQueue",`${t}: ${n}`),Rl(n))return new Me(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class Yh{constructor(t){this.comparator=t?(e,i)=>t(e,i)||qe.comparator(e.key,i.key):(e,i)=>qe.comparator(e.key,i.key),this.keyedMap=kg(),this.sortedSet=new Qn(this.comparator)}static emptySet(t){return new Yh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Yh)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Yh;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class yB{constructor(){this.W_=new Qn(qe.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):tt():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Jh{constructor(t,e,i,r,s,o,a,l,c){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,e,i,r,s){const o=[];return e.forEach(a=>{o.push({type:0,doc:a})}),new Jh(t,e,Yh.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Mg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Ene{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class Cne{constructor(){this.queries=vB(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=je(e),s=r.queries;r.queries=vB(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})}(this,new Me(ge.ABORTED,"Firestore shutting down"))}}function vB(){return new Ha(n=>N2(n),Mg)}function WS(n,t){return qS.apply(this,arguments)}function qS(){return(qS=(0,Ce.Z)(function*(n,t){const e=je(n);let i=3;const r=t.query;let s=e.queries.get(r);s?!s.H_()&&t.J_()&&(i=2):(s=new Ene,i=t.J_()?0:1);try{switch(i){case 0:s.z_=yield e.onListen(r,!0);break;case 1:s.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(o){const a=Qh(o,`Initialization of query '${Mh(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&ZS(e)})).apply(this,arguments)}function GS(n,t){return KS.apply(this,arguments)}function KS(){return(KS=(0,Ce.Z)(function*(n,t){const e=je(n),i=t.query;let r=3;const s=e.queries.get(i);if(s){const o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),0===s.j_.length?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function Tne(n,t){const e=je(n);let i=!1;for(const r of t){const o=e.queries.get(r.query);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&ZS(e)}function Sne(n,t,e){const i=je(n),r=i.queries.get(t);if(r)for(const s of r.j_)s.onError(e);i.queries.delete(t)}function ZS(n){n.Y_.forEach(t=>{t.next()})}var QS,IB;(IB=QS||(QS={})).ea="default",IB.Cache="cache";class YS{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Jh(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Jh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==QS.Cache}}class Dne{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class bB{constructor(t){this.serializer=t}Es(t){return ia(this.serializer,t)}ds(t){return t.metadata.exists?gV(this.serializer,t.document,!1):si.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return Oi(t)}}class Ane{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wB(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=on.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new bB(this.serializer);for(const r of t)if(r.metadata.queries){const s=i.Es(r.metadata.name);for(const o of r.metadata.queries){const a=(e.get(o)||zt()).add(s);e.set(o,a)}}return e}complete(){var t=this;return(0,Ce.Z)(function*(){const e=yield function nne(n,t,e,i){return yS.apply(this,arguments)}(t.localStore,new bB(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield ine(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function wB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class EB{constructor(t){this.key=t}}class CB{constructor(t){this.key=t}}class TB{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=zt(),this.mutatedKeys=zt(),this.Aa=F2(t),this.Ra=new Yh(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new yB,r=e?e.Ra:this.Ra;let s=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((p,_)=>{const b=r.get(p),T=Ng(this.query,_)?_:null,P=!!b&&this.mutatedKeys.has(b.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let L=!1;b&&T?b.data.isEqual(T.data)?P!==N&&(i.track({type:3,doc:T}),L=!0):this.ga(b,T)||(i.track({type:2,doc:T}),L=!0,(l&&this.Aa(T,l)>0||c&&this.Aa(T,c)<0)&&(a=!0)):!b&&T?(i.track({type:0,doc:T}),L=!0):b&&!T&&(i.track({type:1,doc:b}),L=!0,(l||c)&&(a=!0)),L&&(T?(o=o.add(T),s=N?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const p="F"===this.query.limitType?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),i.track({type:1,doc:p})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((p,_)=>function(T,P){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return N(T)-N(P)}(p.type,_.type)||this.Aa(p.doc,_.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],l=0===this.da.size&&this.current&&!r?1:0,c=l!==this.Ea;return this.Ea=l,0!==o.length||c?{snapshot:new Jh(this.query,t.Ra,s,o,t.mutatedKeys,0===l,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yB,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=zt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new CB(i))}),this.da.forEach(i=>{t.has(i)||e.push(new EB(i))}),e}ba(t){this.Ta=t.Ts,this.da=zt();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Jh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class xne{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Rne{constructor(t){this.key=t,this.va=!1}}class Pne{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ha(a=>N2(a),Mg),this.Ma=new Map,this.xa=new Set,this.Oa=new Qn(qe.comparator),this.Na=new Map,this.La=new uS,this.Ba={},this.ka=new Map,this.qa=_u.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function One(n,t){return JS.apply(this,arguments)}function JS(){return(JS=(0,Ce.Z)(function*(n,t,e=!0){const i=BI(n);let r;const s=i.Fa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield SB(i,t,e,!0),r})).apply(this,arguments)}function Mne(n,t){return XS.apply(this,arguments)}function XS(){return(XS=(0,Ce.Z)(function*(n,t){const e=BI(n);yield SB(e,t,!0,!1)})).apply(this,arguments)}function SB(n,t,e,i){return eD.apply(this,arguments)}function eD(){return(eD=(0,Ce.Z)(function*(n,t,e,i){const r=yield $h(n.localStore,Rr(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e);let a;return i&&(a=yield tD(n,t,s,"current"===o,r.resumeToken)),n.isPrimaryClient&&e&&LI(n.remoteStore,r),a})).apply(this,arguments)}function tD(n,t,e,i,r){return nD.apply(this,arguments)}function nD(){return nD=(0,Ce.Z)(function*(n,t,e,i,r){n.Ka=(_,b,T)=>{return(P=(0,Ce.Z)(function*(L,W,H,q){let ee=W.view.ma(H);ee.ns&&(ee=yield OI(L.localStore,W.query,!1).then(({documents:U})=>W.view.ma(U,ee)));const Ae=q&&q.targetChanges.get(W.targetId),Ve=q&&null!=q.targetMismatches.get(W.targetId),j=W.view.applyChanges(ee,L.isPrimaryClient,Ae,Ve);return fD(L,W.targetId,j.wa),j.snapshot}),function N(L,W,H,q){return P.apply(this,arguments)})(n,_,b,T);var P};const s=yield OI(n.localStore,t,!0),o=new TB(t,s.Ts),a=o.ma(s.documents),l=Hg.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),c=o.applyChanges(a,n.isPrimaryClient,l);fD(n,e,c.wa);const p=new xne(t,e,o);return n.Fa.set(t,p),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),c.snapshot}),nD.apply(this,arguments)}function Nne(n,t,e){return iD.apply(this,arguments)}function iD(){return(iD=(0,Ce.Z)(function*(n,t,e){const i=je(n),r=i.Fa.get(t),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Mg(o,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wh(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Gh(i.remoteStore,r.targetId),Xh(i,r.targetId)}).catch(xl))):(Xh(i,r.targetId),yield Wh(i.localStore,r.targetId,!0))})).apply(this,arguments)}function kne(n,t){return rD.apply(this,arguments)}function rD(){return(rD=(0,Ce.Z)(function*(n,t){const e=je(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Gh(e.remoteStore,i.targetId))})).apply(this,arguments)}function sD(){return(sD=(0,Ce.Z)(function*(n,t,e){const i=CD(n);try{const r=yield function(o,a){const l=je(o),c=hi.now(),p=a.reduce((T,P)=>T.add(P.key),zt());let _,b;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let P=ds(),N=zt();return l.cs.getEntries(T,p).next(L=>{P=L,P.forEach((W,H)=>{H.isValidDocument()||(N=N.add(W))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,P)).next(L=>{_=L;const W=[];for(const H of a){const q=lte(H,_.get(H.key).overlayedDocument);null!=q&&W.push(new ja(H.key,q,y2(q.value.mapValue),pi.exists(!0)))}return l.mutationQueue.addMutationBatch(T,c,W,a)}).next(L=>{b=L;const W=L.applyToLocalDocumentSet(_,N);return l.documentOverlayCache.saveOverlays(T,L.batchId,W)})}).then(()=>({batchId:b.batchId,changes:V2(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new Qn(Mt)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(i,r.batchId,e),yield $a(i,r.changes),yield Kh(i.remoteStore)}catch(r){const s=Qh(r,"Failed to persist write");e.reject(s)}})).apply(this,arguments)}function DB(n,t){return oD.apply(this,arguments)}function oD(){return(oD=(0,Ce.Z)(function*(n,t){const e=je(n);try{const i=yield function ene(n,t){const e=je(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((p,_)=>{const b=r.get(_);if(!b)return;a.push(e.Ur.removeMatchingKeys(s,p.removedDocuments,_).next(()=>e.Ur.addMatchingKeys(s,p.addedDocuments,_)));let T=b.withSequenceNumber(s.currentSequenceNumber);var N,L,W;null!==t.targetMismatches.get(_)?T=T.withResumeToken(wi.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,i)),r=r.insert(_,T),L=T,W=p,(0===(N=b).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(s,T))});let l=ds(),c=zt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(nB(s,o,t.documentUpdates).next(p=>{l=p.Ps,c=p.Is})),!i.isEqual(pt.min())){const p=e.Ur.getLastRemoteSnapshotVersion(s).next(_=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(p)}return re.waitFor(a).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(e.os=r,s))}(e.localStore,t);t.targetChanges.forEach((r,s)=>{const o=e.Na.get(s);o&&(st(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?st(o.va):r.removedDocuments.size>0&&(st(o.va),o.va=!1))}),yield $a(e,i,t)}catch(i){yield xl(i)}})).apply(this,arguments)}function AB(n,t,e){const i=je(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=je(o);l.onlineState=a;let c=!1;l.queries.forEach((p,_)=>{for(const b of _.j_)b.Z_(a)&&(c=!0)}),c&&ZS(l)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Lne(n,t,e){return aD.apply(this,arguments)}function aD(){return(aD=(0,Ce.Z)(function*(n,t,e){const i=je(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),s=r&&r.key;if(s){let o=new Qn(qe.comparator);o=o.insert(s,si.newNoDocument(s,pt.min()));const a=zt().add(s),l=new Ug(pt.min(),new Map,new Qn(Mt),o,a);yield DB(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(t),pD(i)}else yield Wh(i.localStore,t,!1).then(()=>Xh(i,t,e)).catch(xl)})).apply(this,arguments)}function Vne(n,t){return lD.apply(this,arguments)}function lD(){return(lD=(0,Ce.Z)(function*(n,t){const e=je(n),i=t.batch.batchId;try{const r=yield function Xte(n,t){const e=je(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,p){const _=c.batch,b=_.keys();let T=re.resolve();return b.forEach(P=>{T=T.next(()=>p.getEntry(l,P)).next(N=>{const L=c.docVersions.get(P);st(null!==L),N.version.compareTo(L)<0&&(_.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),p.addEntry(N)))})}),T.next(()=>a.mutationQueue.removeMutationBatch(l,_))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=zt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);hD(e,i,null),dD(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield $a(e,r)}catch(r){yield xl(r)}})).apply(this,arguments)}function Bne(n,t,e){return cD.apply(this,arguments)}function cD(){return(cD=(0,Ce.Z)(function*(n,t,e){const i=je(n);try{const r=yield function(o,a){const l=je(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let p;return l.mutationQueue.lookupMutationBatch(c,a).next(_=>(st(null!==_),p=_.keys(),l.mutationQueue.removeMutationBatch(c,_))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,p,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,p)).next(()=>l.localDocuments.getDocuments(c,p))})}(i.localStore,t);hD(i,t,e),dD(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield $a(i,r)}catch(r){yield xl(r)}})).apply(this,arguments)}function uD(){return(uD=(0,Ce.Z)(function*(n,t){const e=je(n);Hl(e.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const a=je(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=Qh(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function dD(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function hD(n,t,e){const i=je(n);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Xh(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||xB(n,i)})}function xB(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(Gh(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),pD(n))}function fD(n,t,e){for(const i of e)i instanceof EB?(n.La.addReference(i.key,t),Hne(n,i)):i instanceof CB?(ke("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||xB(n,i.key)):tt()}function Hne(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(ke("SyncEngine","New document in limbo: "+e),n.xa.add(i),pD(n))}function pD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new qe(on.fromString(t)),i=n.qa.next();n.Na.set(i,new Rne(e)),n.Oa=n.Oa.insert(e,i),LI(n.remoteStore,new za(Rr(Ph(e.path)),i,"TargetPurposeLimboResolution",Ps.oe))}}function $a(n,t,e){return gD.apply(this,arguments)}function gD(){return gD=(0,Ce.Z)(function*(n,t,e){const i=je(n),r=[],s=[],o=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,t,e).then(c=>{var p;if((c||e)&&i.isPrimaryClient){const _=c?!c.fromCache:null===(p=e?.targetChanges.get(l.targetId))||void 0===p?void 0:p.current;i.sharedClientState.updateQueryState(l.targetId,_?"current":"not-current")}if(c){r.push(c);const _=gS.Wi(l.targetId,c);s.push(_)}}))}),yield Promise.all(o),i.Ca.d_(r),yield(a=(0,Ce.Z)(function*(c,p){const _=je(c);try{yield _.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>re.forEach(p,T=>re.forEach(T.$i,P=>_.persistence.referenceDelegate.addReference(b,T.targetId,P)).next(()=>re.forEach(T.Ui,P=>_.persistence.referenceDelegate.removeReference(b,T.targetId,P)))))}catch(b){if(!Rl(b))throw b;ke("LocalStore","Failed to update sequence numbers: "+b)}for(const b of p){const T=b.targetId;if(!b.fromCache){const P=_.os.get(T),L=P.withLastLimboFreeSnapshotVersion(P.snapshotVersion);_.os=_.os.insert(T,L)}}}),function l(c,p){return a.apply(this,arguments)})(i.localStore,s))}),gD.apply(this,arguments)}function jne(n,t){return mD.apply(this,arguments)}function mD(){return(mD=(0,Ce.Z)(function*(n,t){const e=je(n);if(!e.currentUser.isEqual(t)){ke("SyncEngine","User change. New user:",t.toKey());const i=yield eB(e.localStore,t);e.currentUser=t,(s=e).ka.forEach(a=>{a.forEach(l=>{l.reject(new Me(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield $a(e,i.hs)}var s})).apply(this,arguments)}function zne(n,t){const e=je(n),i=e.Na.get(t);if(i&&i.va)return zt().add(i.key);{let r=zt();const s=e.Ma.get(t);if(!s)return r;for(const o of s){const a=e.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function $ne(n,t){return _D.apply(this,arguments)}function _D(){return(_D=(0,Ce.Z)(function*(n,t){const e=je(n),i=yield OI(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&fD(e,t.targetId,r.wa),r})).apply(this,arguments)}function Wne(n,t){return yD.apply(this,arguments)}function yD(){return(yD=(0,Ce.Z)(function*(n,t){const e=je(n);return rB(e.localStore,t).then(i=>$a(e,i))})).apply(this,arguments)}function qne(n,t,e,i){return vD.apply(this,arguments)}function vD(){return(vD=(0,Ce.Z)(function*(n,t,e,i){const r=je(n),s=yield function(a,l){const c=je(a),p=je(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",_=>p.Mn(_,l).next(b=>b?c.localDocuments.getDocuments(_,b):re.resolve(null)))}(r.localStore,t);var l;null!==s?("pending"===e?yield Kh(r.remoteStore):"acknowledged"===e||"rejected"===e?(hD(r,t,i||null),dD(r,t),l=t,je(je(r.localStore).mutationQueue).On(l)):tt(),yield $a(r,s)):ke("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function ID(){return(ID=(0,Ce.Z)(function*(n,t){const e=je(n);if(BI(e),CD(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield RB(e,i.toArray());e.Qa=!0,yield jS(e.remoteStore,!0);for(const s of r)LI(e.remoteStore,s)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((s,o)=>{e.sharedClientState.isLocalQueryTarget(o)?i.push(o):r=r.then(()=>(Xh(e,o),Wh(e.localStore,o,!0))),Gh(e.remoteStore,o)}),yield r,yield RB(e,i),function(o){const a=je(o);a.Na.forEach((l,c)=>{Gh(a.remoteStore,c)}),a.La.pr(),a.Na=new Map,a.Oa=new Qn(qe.comparator)}(e),e.Qa=!1,yield jS(e.remoteStore,!1)}})).apply(this,arguments)}function RB(n,t,e){return bD.apply(this,arguments)}function bD(){return(bD=(0,Ce.Z)(function*(n,t,e){const i=je(n),r=[],s=[];for(const o of t){let a;const l=i.Ma.get(o);if(l&&0!==l.length){a=yield $h(i.localStore,Rr(l[0]));for(const c of l){const p=i.Fa.get(c),_=yield $ne(i,p);_.snapshot&&s.push(_.snapshot)}}else{const c=yield iB(i.localStore,o);a=yield $h(i.localStore,c),yield tD(i,PB(c),o,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(s),r})).apply(this,arguments)}function PB(n){return R2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Kne(n){return e=je(n).localStore,je(je(e).persistence).Qi();var e}function Zne(n,t,e,i){return wD.apply(this,arguments)}function wD(){return(wD=(0,Ce.Z)(function*(n,t,e,i){const r=je(n);if(r.Qa)return void ke("SyncEngine","Ignoring unexpected query state notification.");const s=r.Ma.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const o=yield rB(r.localStore,k2(s[0])),a=Ug.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,wi.EMPTY_BYTE_STRING);yield $a(r,o,a);break}case"rejected":yield Wh(r.localStore,t,!0),Xh(r,t,i);break;default:tt()}})).apply(this,arguments)}function Qne(n,t,e){return ED.apply(this,arguments)}function ED(){return(ED=(0,Ce.Z)(function*(n,t,e){const i=BI(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){ke("SyncEngine","Adding an already active target "+r);continue}const s=yield iB(i.localStore,r),o=yield $h(i.localStore,s);yield tD(i,PB(s),o.targetId,!1,o.resumeToken),LI(i.remoteStore,o)}for(const r of e)i.Ma.has(r)&&(yield Wh(i.localStore,r,!1).then(()=>{Gh(i.remoteStore,r),Xh(i,r)}).catch(xl))}})).apply(this,arguments)}function BI(n){const t=je(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=DB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lne.bind(null,t),t.Ca.d_=Tne.bind(null,t.eventManager),t.Ca.$a=Sne.bind(null,t.eventManager),t}function CD(n){const t=je(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Bne.bind(null,t),t}let Xg=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){var i=this;return(0,Ce.Z)(function*(){i.serializer=Yg(e.databaseInfo.databaseId),i.sharedClientState=i.Wa(e),i.persistence=i.Ga(e),yield i.persistence.start(),i.localStore=i.za(e),i.gcScheduler=i.ja(e,i.localStore),i.indexBackfillerScheduler=i.Ha(e,i.localStore)})()}ja(e,i){return null}Ha(e,i){return null}za(e){return XV(this.persistence,new JV,e.initialUser,this.serializer)}Ga(e){return new dS(xI.Zr,this.serializer)}Wa(e){return new lB}terminate(){var e=this;return(0,Ce.Z)(function*(){var i,r;null===(i=e.gcScheduler)||void 0===i||i.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class TD extends Xg{constructor(t,e,i){super(),this.Ja=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t),yield i.Ja.initialize(i,t),yield CD(i.Ja.syncEngine),yield Kh(i.Ja.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}za(t){return XV(this.persistence,new JV,t.initialUser,this.serializer)}ja(t,e){return new zV(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Ha(t,e){const i=new vee(e,this.persistence);return new yee(t.asyncQueue,i)}Ga(t){const e=pS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new fS(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,uB(),FI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(t){return new lB}}class OB extends TD{constructor(t,e){super(t,e,!1),this.Ja=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t);const r=i.Ja.syncEngine;i.sharedClientState instanceof ES&&(i.sharedClientState.syncEngine={no:qne.bind(null,r),ro:Zne.bind(null,r),io:Qne.bind(null,r),Qi:Kne.bind(null,r),eo:Wne.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var s=(0,Ce.Z)(function*(o){yield function Gne(n,t){return ID.apply(this,arguments)}(i.Ja.syncEngine,o),i.gcScheduler&&(o&&!i.gcScheduler.started?i.gcScheduler.start():o||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(o&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():o||i.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}Wa(t){const e=uB();if(!ES.D(e))throw new Me(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=pS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new ES(e,t.asyncQueue,i,t.clientId,t.initialUser)}}let ef=(()=>{class n{initialize(e,i){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(i),r.remoteStore=r.createRemoteStore(i),r.eventManager=r.createEventManager(i),r.syncEngine=r.createSyncEngine(i,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>AB(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=jne.bind(null,r.syncEngine),yield jS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Cne}createDatastore(e){const i=Yg(e.databaseInfo.databaseId),r=new ane(e.databaseInfo);return new une(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return r=this.localStore,s=this.datastore,o=e.asyncQueue,a=i=>AB(this.syncEngine,i,0),l=cB.D()?new cB:new rne,new hne(r,s,o,a,l);var r,s,o,a,l}createSyncEngine(e,i){return function(s,o,a,l,c,p,_){const b=new Pne(s,o,a,l,c,p);return _&&(b.Qa=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){var e=this;return(0,Ce.Z)(function*(){var i,r,s;yield(s=(0,Ce.Z)(function*(a){const l=je(a);ke("RemoteStore","RemoteStore shutting down."),l.L_.add(5),yield qh(l),l.k_.shutdown(),l.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(e.remoteStore),null===(i=e.datastore)||void 0===i||i.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}return n.provider={build:()=>new n},n})();function MB(n,t=10240){let e=0;return{read:()=>(0,Ce.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class UI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Pi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}}class Xne{constructor(t,e){this.Xa=t,this.serializer=e,this.metadata=new rr,this.buffer=new Uint8Array,this.eu=new TextDecoder("utf-8"),this.tu().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.Xa.cancel()}getMetadata(){var t=this;return(0,Ce.Z)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,Ce.Z)(function*(){return yield t.getMetadata(),t.tu()})()}tu(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.nu();if(null===e)return null;const i=t.eu.decode(e),r=Number(i);isNaN(r)&&t.ru(`length string (${i}) is not valid number`);const s=yield t.iu(r);return new Dne(JSON.parse(s),e.length+r)})()}su(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}nu(){var t=this;return(0,Ce.Z)(function*(){for(;t.su()<0&&!(yield t.ou()););if(0===t.buffer.length)return null;const e=t.su();e<0&&t.ru("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}iu(t){var e=this;return(0,Ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.ou())&&e.ru("Reached the end of bundle when more is expected.");const i=e.eu.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}ru(t){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${t}`)}ou(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.Xa.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class eie{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Me(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,Ce.Z)(function*(o,a){const l=je(o),c={documents:a.map(T=>jg(l.serializer,T))},p=yield l.Lo("BatchGetDocuments",l.serializer.databaseId,on.emptyPath(),c,a.length),_=new Map;p.forEach(T=>{const P=function _te(n,t){return"found"in t?function(i,r){st(!!r.found);const s=ia(i,r.found.name),o=Oi(r.found.updateTime),a=r.found.createTime?Oi(r.found.createTime):pt.min(),l=new pr({mapValue:{fields:r.found.fields}});return si.newFoundDocument(s,o,a,l)}(n,t):"missing"in t?function(i,r){st(!!r.missing),st(!!r.readTime);const s=ia(i,r.missing),o=Oi(r.readTime);return si.newNoDocument(s,o)}(n,t):tt()}(l.serializer,T);_.set(P.key.toString(),P)});const b=[];return a.forEach(T=>{const P=_.get(T.toString());st(!!P),b.push(P)}),b}),function s(o,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Lh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=qe.fromPath(r);t.mutations.push(new GT(s,t.precondition(s)))}),yield(i=(0,Ce.Z)(function*(s,o){const a=je(s),l={writes:o.map(c=>zg(a.serializer,c))};yield a.Mo("Commit",a.serializer.databaseId,on.emptyPath(),l)}),function r(s,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw tt();e=pt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Me(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(pt.min())?pi.exists(!1):pi.updateTime(e):pi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(pt.min()))throw new Me(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return pi.updateTime(e)}return pi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class tie{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this._u=i.maxAttempts,this.t_=new TS(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){var t=this;this.t_.Go((0,Ce.Z)(function*(){const e=new eie(t.datastore),i=t.cu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.lu(s)}))}).catch(r=>{t.lu(r)})}))}cu(t){try{const e=this.updateFunction(t);return!Tg(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}lu(t){this._u>0&&this.hu(t)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(t)}hu(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!X2(e)}return!1}}class nie{constructor(t,e,i,r,s){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ir.UNAUTHENTICATED,this.clientId=zL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,function(){var a=(0,Ce.Z)(function*(l){ke("FirestoreClient","Received user=",l.uid),yield o.authCredentialListener(l),o.user=l});return function(l){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(i,a=>(ke("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Qh(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function SD(n,t){return DD.apply(this,arguments)}function DD(){return DD=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(s){i.isEqual(s)||(yield eB(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),DD.apply(this,arguments)}function NB(n,t){return AD.apply(this,arguments)}function AD(){return(AD=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield xD(n);ke("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>_B(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>_B(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function xD(n){return RD.apply(this,arguments)}function RD(){return(RD=(0,Ce.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SD(n,n._uninitializedComponentsProvider._offline)}catch(t){if(!("FirebaseError"===(r=t).name?r.code===ge.FAILED_PRECONDITION||r.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw t;xs("Error using user provided cache. Falling back to memory cache: "+t),yield SD(n,new Xg)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield SD(n,new Xg);var r;return n._offlineComponents})).apply(this,arguments)}function HI(n){return PD.apply(this,arguments)}function PD(){return(PD=(0,Ce.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield NB(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield NB(n,new ef))),n._onlineComponents})).apply(this,arguments)}function kB(n){return xD(n).then(t=>t.persistence)}function tf(n){return xD(n).then(t=>t.localStore)}function FB(n){return HI(n).then(t=>t.remoteStore)}function OD(n){return HI(n).then(t=>t.syncEngine)}function nf(n){return MD.apply(this,arguments)}function MD(){return(MD=(0,Ce.Z)(function*(n){const t=yield HI(n),e=t.eventManager;return e.onListen=One.bind(null,t.syncEngine),e.onUnlisten=Nne.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Mne.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=kne.bind(null,t.syncEngine),e})).apply(this,arguments)}function VB(n,t,e={}){const i=new rr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,o,a,l,c){const p=new UI({next:b=>{p.Za(),o.enqueueAndForget(()=>GS(s,_));const T=b.docs.has(a);!T&&b.fromCache?c.reject(new Me(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&l&&"server"===l.source?c.reject(new Me(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(b)},error:b=>c.reject(b)}),_=new YS(Ph(a.path),p,{includeMetadataChanges:!0,_a:!0});return WS(s,_)}(yield nf(n),n.asyncQueue,t,e,i)})),i.promise}function BB(n,t,e={}){const i=new rr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,o,a,l,c){const p=new UI({next:b=>{p.Za(),o.enqueueAndForget(()=>GS(s,_)),b.fromCache&&"server"===l.source?c.reject(new Me(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(b)},error:b=>c.reject(b)}),_=new YS(a,p,{includeMetadataChanges:!0,_a:!0});return WS(s,_)}(yield nf(n),n.asyncQueue,t,e,i)})),i.promise}function UB(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const HB=new Map;function ND(n,t,e){if(!e)throw new Me(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function jB(n,t,e,i){if(!0===t&&!0===i)throw new Me(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function zB(n){if(!qe.isDocumentKey(n))throw new Me(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $B(n){if(qe.isDocumentKey(n))throw new Me(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":tt()}function tn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Me(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=jI(n);throw new Me(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function WB(n,t){if(t<=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class qB{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Me(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Me(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}jB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=UB(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Me(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Me(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Me(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class em{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qB({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Me(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qB(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new oee;switch(i.type){case"firstParty":return new uee(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Me(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var t=this;return(0,Ce.Z)(function*(){"notTerminated"===t._terminateTask?yield t._terminate():t._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=HB.get(e);i&&(ke("ComponentProvider","Removing Datastore"),HB.delete(e),i.terminate())}(this),Promise.resolve()}}function GB(n,t,e,i={}){var r;const s=(n=tn(n,em))._getSettings(),o=`${t}:${e}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=ir.MOCK_USER;else{a=(0,gn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Me(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ir(c)}n._authCredentials=new aee(new HL(a,l))}}class gr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new gr(this.firestore,t,this._query)}}class oi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}}class ra extends gr{constructor(t,e,i){super(t,e,Ph(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new qe(t))}withConverter(t){return new ra(this.firestore,t,this._path)}}function KB(n,t,...e){if(n=(0,gn.m9)(n),ND("collection","path",t),n instanceof em){const i=on.fromString(t,...e);return $B(i),new ra(n,null,i)}{if(!(n instanceof oi||n instanceof ra))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return $B(i),new ra(n.firestore,null,i)}}function zI(n,t,...e){if(n=(0,gn.m9)(n),1===arguments.length&&(t=zL.newId()),ND("doc","path",t),n instanceof em){const i=on.fromString(t,...e);return zB(i),new oi(n,null,new qe(i))}{if(!(n instanceof oi||n instanceof ra))throw new Me(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(on.fromString(t,...e));return zB(i),new oi(n.firestore,n instanceof ra?n.converter:null,new qe(i))}}function ZB(n,t){return n=(0,gn.m9)(n),t=(0,gn.m9)(t),(n instanceof oi||n instanceof ra)&&(t instanceof oi||t instanceof ra)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function kD(n,t){return n=(0,gn.m9)(n),t=(0,gn.m9)(t),n instanceof gr&&t instanceof gr&&n.firestore===t.firestore&&Mg(n._query,t._query)&&n.converter===t.converter}class QB{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new TS(this,"async_queue_retry"),this.Vu=()=>{const i=FI();i&&ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=t;const e=FI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const e=FI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const e=new rr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){var t=this;return(0,Ce.Z)(function*(){if(0!==t.Pu.length){try{yield t.Pu[0](),t.Pu.shift(),t.t_.reset()}catch(e){if(!Rl(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}t.Pu.length>0&&t.t_.Go(()=>t.pu())}})()}gu(t){const e=this.mu.then(()=>(this.du=!0,t().catch(i=>{throw this.Eu=i,this.du=!1,Pi("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(i)),i}).then(i=>(this.du=!1,i))));return this.mu=e,e}enqueueAfterDelay(t,e,i){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);const r=$S.createAndSchedule(this,t,e,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&tt()}verifyOperationInProgress(){}wu(){var t=this;return(0,Ce.Z)(function*(){let e;do{e=t.mu,yield e}while(e!==t.mu)})()}Su(t){for(const e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Tu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const e=this.Tu.indexOf(t);this.Tu.splice(e,1)}}function FD(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class gie{constructor(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Hn extends em{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new QB,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){var t=this;return(0,Ce.Z)(function*(){if(t._firestoreClient){const e=t._firestoreClient.terminate();t._queue=new QB(e),t._firestoreClient=void 0,yield e}})()}}function _ie(n,t){const e="object"==typeof n?n:(0,wo.getApp)(),i="string"==typeof n?n:t||"(default)",r=(0,wo._getProvider)(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,gn.P0)("firestore");s&&GB(r,...s)}return r}function gi(n){if(n._terminated)throw new Me(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YB(n),n._firestoreClient}function YB(n){var t,e,i;const r=n._freezeSettings(),s=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Hee(n._databaseId,l,n._persistenceKey,(p=r).host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,UB(p.experimentalLongPollingOptions),p.useFetchStreams));var l,p;n._componentsProvider||!(null===(e=r.localCache)||void 0===e)&&e._offlineComponentProvider&&!(null===(i=r.localCache)||void 0===i)&&i._onlineComponentProvider&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new nie(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(n._componentsProvider))}function LD(){return(LD=(0,Ce.Z)(function*(n){xs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();JB(n,ef.provider,{build:e=>new OB(e,t.cacheSizeBytes)})})).apply(this,arguments)}function JB(n,t,e){if((n=tn(n,Hn))._firestoreClient||n._terminated)throw new Me(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new Me(ge.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},YB(n)}class sa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sa(wi.fromBase64String(t))}catch(e){throw new Me(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new sa(wi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Wa{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Me(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vu{constructor(t){this._methodName=t}}class $I{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Me(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Me(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}class WI{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}}const Die=/^__.*__$/;class Aie{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new ja(t,this.data,this.fieldMask,e,this.fieldTransforms):new Fh(t,this.data,e,this.fieldTransforms)}}class XB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ja(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function e3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class qI{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new qI(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.Ou(t),r}Nu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return ZI(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(0===t.length)throw this.Bu("Document fields must not be empty");if(e3(this.Cu)&&Die.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class xie{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Yg(t)}Qu(t,e,i,r=!1){return new qI({Cu:t,methodName:e,qu:i,path:ri.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(n){const t=n._freezeSettings(),e=Yg(n._databaseId);return new xie(n._databaseId,!!t.ignoreUndefinedProperties,e)}function GI(n,t,e,i,r,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,t,e,r);$D("Data must be an object, but it was:",o,i);const a=r3(i,o);let l,c;if(s.merge)l=new us(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const p=[];for(const _ of s.mergeFields){const b=im(t,_,e);if(!o.contains(b))throw new Me(ge.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);o3(p,b)||p.push(b)}l=new us(p),c=o.fieldTransforms.filter(_=>l.covers(_.field))}else l=null,c=o.fieldTransforms;return new Aie(new pr(a),l,c)}class nm extends vu{_toFieldTransform(t){if(2!==t.Cu)throw t.Bu(1===t.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof nm}}function t3(n,t,e){return new qI({Cu:3,qu:t.settings.qu,methodName:n._methodName,xu:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class VD extends vu{_toFieldTransform(t){return new Lg(t.path,new Nh)}isEqual(t){return t instanceof VD}}class BD extends vu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=t3(this,t,!0),i=this.Ku.map(s=>bu(s,e)),r=new uu(i);return new Lg(t.path,r)}isEqual(t){return t instanceof BD&&(0,gn.vZ)(this.Ku,t.Ku)}}class UD extends vu{constructor(t,e){super(t),this.Ku=e}_toFieldTransform(t){const e=t3(this,t,!0),i=this.Ku.map(s=>bu(s,e)),r=new du(i);return new Lg(t.path,r)}isEqual(t){return t instanceof UD&&(0,gn.vZ)(this.Ku,t.Ku)}}class HD extends vu{constructor(t,e){super(t),this.$u=e}_toFieldTransform(t){const e=new kh(t.serializer,H2(t.serializer,this.$u));return new Lg(t.path,e)}isEqual(t){return t instanceof HD&&this.$u===t.$u}}function jD(n,t,e,i){const r=n.Qu(1,t,e);$D("Data must be an object, but it was:",r,i);const s=[],o=pr.empty();Pl(i,(l,c)=>{const p=KI(t,l,e);c=(0,gn.m9)(c);const _=r.Nu(p);if(c instanceof nm)s.push(p);else{const b=bu(c,_);null!=b&&(s.push(p),o.set(p,b))}});const a=new us(s);return new XB(o,a,r.fieldTransforms)}function zD(n,t,e,i,r,s){const o=n.Qu(1,t,e),a=[im(t,i,e)],l=[r];if(s.length%2!=0)throw new Me(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<s.length;b+=2)a.push(im(t,s[b])),l.push(s[b+1]);const c=[],p=pr.empty();for(let b=a.length-1;b>=0;--b)if(!o3(c,a[b])){const T=a[b];let P=l[b];P=(0,gn.m9)(P);const N=o.Nu(T);if(P instanceof nm)c.push(T);else{const L=bu(P,N);null!=L&&(c.push(T),p.set(T,L))}}const _=new us(c);return new XB(p,_,o.fieldTransforms)}function n3(n,t,e,i=!1){return bu(e,n.Qu(i?4:3,t))}function bu(n,t){if(s3(n=(0,gn.m9)(n)))return $D("Unsupported field value:",t,n),r3(n,t);if(n instanceof vu)return function(i,r){if(!e3(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=bu(a,r.Lu(o));null==l&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if(null===(i=(0,gn.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return H2(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const s=hi.fromDate(i);return{timestampValue:Vh(r.serializer,s)}}if(i instanceof hi){const s=new hi(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vh(r.serializer,s)}}if(i instanceof $I)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof sa)return{bytesValue:cV(r.serializer,i._byteString)};if(i instanceof oi){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:XT(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof WI)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if("number"!=typeof l)throw a.Bu("VectorValues must only contain numeric values.");return qT(a.serializer,l)})}}}}};var a;throw r.Bu(`Unsupported field value: ${jI(i)}`)}(n,t)}function r3(n,t){const e={};return a2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pl(n,(i,r)=>{const s=bu(r,t.Mu(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function s3(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hi||n instanceof $I||n instanceof sa||n instanceof oi||n instanceof vu||n instanceof WI)}function $D(n,t,e){if(!s3(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=jI(e);throw t.Bu("an object"===i?n+" a custom object":n+" "+i)}var r}function im(n,t,e){if((t=(0,gn.m9)(t))instanceof Wa)return t._internalPath;if("string"==typeof t)return KI(n,t);throw ZI("Field path arguments must be of type string or ",n,!1,void 0,e)}const Rie=new RegExp("[~\\*/\\[\\]]");function KI(n,t,e){if(t.search(Rie)>=0)throw ZI(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Wa(...t.split("."))._internalPath}catch{throw ZI(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function ZI(n,t,e,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Me(ge.INVALID_ARGUMENT,a+n+l)}function o3(n,t){return n.some(e=>e.isEqual(t))}class rm{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Pie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(QI("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Pie extends rm{data(){return super.data()}}function QI(n,t){return"string"==typeof t?KI(n,t):t instanceof Wa?t._internalPath:t._delegate._internalPath}function a3(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class WD{}class sm extends WD{}function zl(n,t,...e){let i=[];t instanceof WD&&i.push(t),i=i.concat(e),function(s){const o=s.filter(l=>l instanceof rf).length,a=s.filter(l=>l instanceof om).length;if(o>1||o>0&&a>0)throw new Me(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class om extends sm{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new om(t,e,i)}_apply(t){const e=this._parse(t);return d3(t._query,e),new gr(t.firestore,t.converter,$T(t._query,e))}_parse(t){const e=Iu(t.firestore);return function(s,o,a,l,c,p,_){let b;if(c.isKeyField()){if("array-contains"===p||"array-contains-any"===p)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if("in"===p||"not-in"===p){u3(_,p);const T=[];for(const P of _)T.push(c3(l,s,P));b={arrayValue:{values:T}}}else b=c3(l,s,_)}else"in"!==p&&"not-in"!==p&&"array-contains-any"!==p||u3(_,p),b=n3(a,"where",_,"in"===p||"not-in"===p);return an.create(c,p,b)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class rf extends WD{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new rf(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Mn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)d3(o,l),o=$T(o,l)}(t._query,e),new gr(t.firestore,t.converter,$T(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qD extends sm{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new qD(t,e)}_apply(t){const e=function(r,s,o){if(null!==r.startAt)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pg(s,o)}(t._query,this._field,this._direction);return new gr(t.firestore,t.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Ua(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class YI extends sm{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new YI(t,e,i)}_apply(t){return new gr(t.firestore,t.converter,gI(t._query,this._limit,this._limitType))}}class JI extends sm{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new JI(t,e,i)}_apply(t){const e=l3(t,this.type,this._docOrFields,this._inclusive);return new gr(t.firestore,t.converter,(s=e,new Ua((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class XI extends sm{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new XI(t,e,i)}_apply(t){const e=l3(t,this.type,this._docOrFields,this._inclusive);return new gr(t.firestore,t.converter,(s=e,new Ua((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function l3(n,t,e,i){if(e[0]=(0,gn.m9)(e[0]),e[0]instanceof rm)return function(s,o,a,l,c){if(!l)throw new Me(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const p=[];for(const _ of Oh(s))if(_.field.isKeyField())p.push(lu(o,l.key));else{const b=l.data.field(_.field);if(aI(b))throw new Me(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===b){const T=_.field.canonicalString();throw new Me(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}p.push(b)}return new Fl(p,c)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Iu(n.firestore);return function(o,a,l,c,p,_){const b=o.explicitOrderBy;if(p.length>b.length)throw new Me(ge.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const T=[];for(let P=0;P<p.length;P++){const N=p[P];if(b[P].field.isKeyField()){if("string"!=typeof N)throw new Me(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof N}`);if(!zT(o)&&-1!==N.indexOf("/"))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${N}' contains a slash.`);const L=o.path.child(on.fromString(N));if(!qe.isDocumentKey(L))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${L}' is not because it contains an odd number of segments.`);const W=new qe(L);T.push(lu(a,W))}else{const L=n3(l,c,N);T.push(L)}}return new Fl(T,_)}(n._query,n.firestore._databaseId,r,t,e,i)}}function c3(n,t,e){if("string"==typeof(e=(0,gn.m9)(e))){if(""===e)throw new Me(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(t)&&-1!==e.indexOf("/"))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(on.fromString(e));if(!qe.isDocumentKey(i))throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lu(n,new qe(i))}if(e instanceof oi)return lu(n,e._key);throw new Me(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jI(e)}.`)}function u3(n,t){if(!Array.isArray(n)||0===n.length)throw new Me(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function d3(n,t){const e=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Me(ge.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class GD{convertValue(t,e="none"){switch(Nl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ba(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw tt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Pl(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;const s=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(o=>fi(o.doubleValue));return new WI(s)}convertGeoPoint(t){return new $I(fi(t.latitude),fi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=lI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Dg(t));default:return null}}convertTimestamp(t){const e=Va(t);return new hi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=on.fromString(t);st(bV(i));const r=new Ol(i.get(1),i.get(3)),s=new qe(i.popFirst(5));return r.isEqual(e)||Pi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function eb(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Uie extends GD{constructor(t){super(),this.firestore=t}convertBytes(t){return new sa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}class wu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qa extends rm{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(QI("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class am extends qa{data(t={}){return super.data(t)}}class $l{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new am(this._firestore,this._userDataWriter,i.key,i,new wu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Me(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new am(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const l=new am(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wu(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,p=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:jie(a.type),doc:l,oldIndex:c,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function jie(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function f3(n,t){return n instanceof qa&&t instanceof qa?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof $l&&t instanceof $l&&n._firestore===t._firestore&&kD(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class Wl extends GD{constructor(t){super(),this.firestore=t}convertBytes(t){return new sa(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}function p3(n,t,e){n=tn(n,oi);const i=tn(n.firestore,Hn),r=eb(n.converter,t,e);return sf(i,[GI(Iu(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,pi.none())])}function g3(n,t,e,...i){n=tn(n,oi);const r=tn(n.firestore,Hn),s=Iu(r);let o;return o="string"==typeof(t=(0,gn.m9)(t))||t instanceof Wa?zD(s,"updateDoc",n._key,t,e,i):jD(s,"updateDoc",n._key,t),sf(r,[o.toMutation(n._key,pi.exists(!0))])}function m3(n,...t){var e,i,r;n=(0,gn.m9)(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof t[o]||FD(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(FD(t[o])){const _=t[o];t[o]=null===(e=_.next)||void 0===e?void 0:e.bind(_),t[o+1]=null===(i=_.error)||void 0===i?void 0:i.bind(_),t[o+2]=null===(r=_.complete)||void 0===r?void 0:r.bind(_)}let l,c,p;if(n instanceof oi)c=tn(n.firestore,Hn),p=Ph(n._key.path),l={next:_=>{t[o]&&t[o](KD(c,n,_))},error:t[o+1],complete:t[o+2]};else{const _=tn(n,gr);c=tn(_.firestore,Hn),p=_._query;const b=new Wl(c);l={next:T=>{t[o]&&t[o](new $l(c,b,_,T))},error:t[o+1],complete:t[o+2]},a3(n._query)}return function(b,T,P,N){const L=new UI(N),W=new YS(T,L,P);return b.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return WS(yield nf(b),W)})),()=>{L.Za(),b.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return GS(yield nf(b),W)}))}}(gi(c),p,a,l)}function sf(n,t){return function(i,r){const s=new rr;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Fne(n,t,e){return sD.apply(this,arguments)}(yield OD(i),r,s)})),s.promise}(gi(n),t)}function KD(n,t,e){const i=e.docs.get(t._key),r=new Wl(n);return new qa(n,r,t._key,i,new wu(e.hasPendingWrites,e.fromCache),t.converter)}const ore={maxAttempts:5};class _3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Iu(t)}set(t,e,i){this._verifyNotCommitted();const r=ql(t,this._firestore),s=eb(r.converter,e,i),o=GI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(o.toMutation(r._key,pi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=ql(t,this._firestore);let o;return o="string"==typeof(e=(0,gn.m9)(e))||e instanceof Wa?zD(this._dataReader,"WriteBatch.update",s._key,e,i,r):jD(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,pi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=ql(t,this._firestore);return this._mutations=this._mutations.concat(new Lh(e._key,pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ql(n,t){if((n=(0,gn.m9)(n)).firestore!==t)throw new Me(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class are extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Iu(e)}get(e){const i=ql(e,this._firestore),r=new Uie(this._firestore);return this._transaction.lookup([i._key]).then(s=>{if(!s||1!==s.length)return tt();const o=s[0];if(o.isFoundDocument())return new rm(this._firestore,r,o.key,o,i.converter);if(o.isNoDocument())return new rm(this._firestore,r,i._key,null,i.converter);throw tt()})}set(e,i,r){const s=ql(e,this._firestore),o=eb(s.converter,i,r),a=GI(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,r);return this._transaction.set(s._key,a),this}update(e,i,r,...s){const o=ql(e,this._firestore);let a;return a="string"==typeof(i=(0,gn.m9)(i))||i instanceof Wa?zD(this._dataReader,"Transaction.update",o._key,i,r,s):jD(this._dataReader,"Transaction.update",o._key,i),this._transaction.update(o._key,a),this}delete(e){const i=ql(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=ql(t,this._firestore),i=new Wl(this._firestore);return super.get(t).then(r=>new qa(this._firestore,i,e._key,r._document,new wu(!1,!1),e.converter))}}!function(t,e=!0){Eh=wo.SDK_VERSION,(0,wo._registerComponent)(new xL.wA("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Hn(new lee(i.getProvider("auth-internal")),new dee(i.getProvider("app-check-internal")),function(c,p){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Me(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(c.options.projectId,p)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,wo.registerVersion)(UL,"4.7.3",t),(0,wo.registerVersion)(UL,"4.7.3","esm2017")}();class QD{constructor(t){return t}}const b3="firestore",YD=new Ue("angularfire2.firestore-instances");function _re(n){return(t,e)=>{const i=t.runOutsideAngular(()=>n(e));return new QD(i)}}const yre={provide:class gre{constructor(){return ET(b3)}},deps:[[new Is,YD]]},vre={provide:QD,useFactory:function mre(n,t){const e=function SL(n,t,e){if(t){if(1===t.length)return t[0];const s=t.filter(o=>o.app===e);if(1===s.length)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}(b3,n,t);return e&&new QD(e)},deps:[[new Is,YD],class bg{constructor(t){return t}}]};let Ire=(()=>{class n{constructor(){(0,wo.registerVersion)("angularfire",wT.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({providers:[vre,yre]})}return n})();function bre(n,...t){return{ngModule:Ire,providers:[{provide:YD,useFactory:_re(n),multi:!0,deps:[qt,os,TT,AL,[new Is,PL],[new Is,CT],...t]}]}}const wre=QX(_ie,!0),Ere_firebase={apiKey:"AIzaSyCnqBzNyQDXCGyC88JMP2MhfqJd9Ato6IQ",authDomain:"portfolio-75e14.firebaseapp.com",projectId:"portfolio-75e14",storageBucket:"portfolio-75e14.firebasestorage.app",messagingSenderId:"484812769508",appId:"1:484812769508:web:64fcca5508cf04962244f1"};let w3=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Sr),ie(Gn))};static#t=this.\u0275dir=dt({type:n})}return n})(),Eu=(()=>{class n extends w3{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static#t=this.\u0275dir=dt({type:n,features:[en]})}return n})();const Xs=new Ue("NgValueAccessor"),Sre={provide:Xs,useExisting:rn(()=>nb),multi:!0},Are=new Ue("CompositionEventMode");let nb=(()=>{class n extends w3{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dre(){const n=vl()?vl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Sr),ie(Gn),ie(Are,8))};static#t=this.\u0275dir=dt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Dt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Bn([Sre]),en]})}return n})();function Gl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function C3(n){return null!=n&&"number"==typeof n.length}const Mr=new Ue("NgValidators"),Kl=new Ue("NgAsyncValidators"),xre=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class af{static min(t){return function T3(n){return t=>{if(Gl(t.value)||Gl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function S3(n){return t=>{if(Gl(t.value)||Gl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function D3(n){return Gl(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function A3(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function x3(n){return Gl(n.value)||xre.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function R3(n){return t=>Gl(t.value)||!C3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function P3(n){return t=>C3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function O3(n){if(!n)return ib;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Gl(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return V3(t)}static composeAsync(t){return B3(t)}}function ib(n){return null}function M3(n){return null!=n}function N3(n){return Op(n)?O(n):n}function k3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function F3(n,t){return t.map(e=>e(n))}function L3(n){return n.map(t=>function Rre(n){return!n.validate}(t)?t:e=>t.validate(e))}function V3(n){if(!n)return null;const t=n.filter(M3);return 0==t.length?null:function(e){return k3(F3(e,t))}}function JD(n){return null!=n?V3(L3(n)):null}function B3(n){if(!n)return null;const t=n.filter(M3);return 0==t.length?null:function(e){return function Cre(...n){const t=oo(n),{args:e,keys:i}=xk(n),r=new bt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let p=0;p<o;p++){let _=!1;ln(e[p]).subscribe(Le(s,b=>{_||(_=!0,c--),a[p]=b},()=>l--,void 0,()=>{(!l||!_)&&(c||s.next(i?Rk(i,a):a),s.complete())}))}});return t?r.pipe(VC(t)):r}(F3(e,t).map(N3)).pipe($e(k3))}}function XD(n){return null!=n?B3(L3(n)):null}function U3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function H3(n){return n._rawValidators}function j3(n){return n._rawAsyncValidators}function eA(n){return n?Array.isArray(n)?n:[n]:[]}function rb(n,t){return Array.isArray(n)?n.includes(t):n===t}function z3(n,t){const e=eA(t);return eA(n).forEach(r=>{rb(e,r)||e.push(r)}),e}function $3(n,t){return eA(t).filter(e=>!rb(n,e))}class W3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=XD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Gr extends W3{get formDirective(){return null}get path(){return null}}class Ga extends W3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class q3{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let G3=(()=>{class n extends q3{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Ga,2))};static#t=this.\u0275dir=dt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Vc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[en]})}return n})(),K3=(()=>{class n extends q3{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Gr,10))};static#t=this.\u0275dir=dt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Vc("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[en]})}return n})();const lm="VALID",ob="INVALID",lf="PENDING",cm="DISABLED";function iA(n){return(ab(n)?n.validators:n)||null}function rA(n,t){return(ab(t)?t.asyncValidators:n)||null}function ab(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class J3{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===lm}get invalid(){return this.status===ob}get pending(){return this.status==lf}get disabled(){return this.status===cm}get enabled(){return this.status!==cm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(z3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(z3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($3(t,this._rawAsyncValidators))}hasValidator(t){return rb(this._rawValidators,t)}hasAsyncValidator(t){return rb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=lf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=cm,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=lm,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lm||this.status===lf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cm:lm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=lf,this._hasOwnPendingAsyncValidator=!0;const e=N3(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new at,this.statusChanges=new at}_calculateStatus(){return this._allControlsDisabled()?cm:this.errors?ob:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lf)?lf:this._anyControlsHaveStatus(ob)?ob:lm}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ab(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Nre(n){return Array.isArray(n)?JD(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function kre(n){return Array.isArray(n)?XD(n):n||null}(this._rawAsyncValidators)}}class lb extends J3{constructor(t,e,i){super(iA(e),rA(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function Y3(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new ve(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function Q3(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new ve(1e3,"");if(!i[e])throw new ve(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const cf=new Ue("CallSetDisabledState",{providedIn:"root",factory:()=>cb}),cb="always";function ub(n,t){return[...t.path,n]}function um(n,t,e=cb){sA(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function Vre(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&X3(n,t)})}(n,t),function Ure(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Bre(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&X3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Lre(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function db(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),fb(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function hb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function sA(n,t){const e=H3(n);null!==t.validator?n.setValidators(U3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=j3(n);null!==t.asyncValidator?n.setAsyncValidators(U3(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();hb(t._rawValidators,r),hb(t._rawAsyncValidators,r)}function fb(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=H3(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=j3(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return hb(t._rawValidators,i),hb(t._rawAsyncValidators,i),e}function X3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aA(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function lA(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===nb?e=s:function zre(n){return Object.getPrototypeOf(n.constructor)===Eu}(s)?i=s:r=s}),r||i||e||null}function nU(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function iU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Zl=class extends J3{constructor(t=null,e,i){super(iA(e),rA(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ab(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=iU(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){nU(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){nU(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){iU(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Kre={provide:Ga,useExisting:rn(()=>pb)},oU=(()=>Promise.resolve())();let pb=(()=>{class n extends Ga{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Zl,this._registered=!1,this.name="",this.update=new at,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=lA(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),aA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){um(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){oU.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&sh(i);oU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ub(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Gr,9),ie(Mr,10),ie(Kl,10),ie(Xs,10),ie(Ks,8),ie(cf,8))};static#t=this.\u0275dir=dt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Bn([Kre]),en,Ji]})}return n})(),aU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=dt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),cU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({})}return n})();const uA=new Ue("NgModelWithFormControlWarning"),ese={provide:Gr,useExisting:rn(()=>gb)};let gb=(()=>{class n extends Gr{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new at,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fb(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return um(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){db(e.control||null,e,!1),function $re(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function tU(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(db(i||null,e),(n=>n instanceof Zl)(r)&&(um(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function eU(n,t){sA(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Hre(n,t){return fb(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sA(this.form,this),this._oldForm&&fb(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(ie(Mr,10),ie(Kl,10),ie(cf,8))};static#t=this.\u0275dir=dt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Dt("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Bn([ese]),en,Ji]})}return n})();const ise={provide:Ga,useExisting:rn(()=>fA)};let fA=(()=>{class n extends Ga{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new at,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=lA(0,s)}ngOnChanges(e){this._added||this._setUpControl(),aA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ub(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(ie(Gr,13),ie(Mr,10),ie(Kl,10),ie(Xs,10),ie(uA,8))};static#n=this.\u0275dir=dt({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Bn([ise]),en,Ji]})}return n})(),yse=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({imports:[cU]})}return n})(),Ise=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:uA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:cf,useValue:e.callSetDisabledState??cb}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n});static#n=this.\u0275inj=vn({imports:[yse]})}return n})();var Tu=E(106);Tu.Z.registerVersion("firebase","10.14.1","app-compat");const Ese=["ngOnDestroy"];class TU{constructor(t){return t}}const mb=new Ue("angularfire2.app.options"),_b=new Ue("angularfire2.app.name");function _A(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const o=Tu.Z.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Tu.Z.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;Sse("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new TU(o)}const Sse=(n,...t)=>{},Dse={provide:TU,useFactory:_A,deps:[mb,qt,[new Is,_b]]};let Ase=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:mb,useValue:e},{provide:_b,useValue:i}]}}constructor(e){Tu.Z.registerVersion("angularfire",wT.full,"core"),Tu.Z.registerVersion("angularfire",wT.full,"app-compat"),Tu.Z.registerVersion("angular",$x.full,e.toString())}static \u0275fac=function(i){return new(i||n)(De(nr))};static \u0275mod=Sn({type:n});static \u0275inj=vn({providers:[Dse]})}return n})();function SU(n,t,e,i,r){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function xse(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,o)||(DU("error",`${t} was already initialized on the ${e} Firebase App with different settings.${Rse?" You may need to reload as Firebase is not HMR aware.":""}`),DU("warn",{is:r,was:o})),s;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const Rse=typeof module<"u"&&!!module.hot,DU=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[],E(365);class Pse extends oe{constructor(t=1/0,e=1/0,i=uT){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function AU(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,G({connector:()=>new Pse(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function xU(n,t){return C(t)?Fe(()=>n,t):Fe(()=>n)}const RU=new Ue("angularfire2.auth.use-emulator"),PU=new Ue("angularfire2.auth.settings"),OU=new Ue("angularfire2.auth.tenant-id"),MU=new Ue("angularfire2.auth.langugage-code"),NU=new Ue("angularfire2.auth.use-device-language"),kU=new Ue("angularfire.auth.persistence"),FU=(n,t,e,i,r,s,o,a)=>SU(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const l=t.runOutsideAngular(()=>n.auth());if(e&&l.useEmulator(...e),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(const[c,p]of Object.entries(o))l.settings[c]=p;return a&&l.setPersistence(a),l},[e,i,r,s,o,a]);let LU=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,s,o,a,l,c,p,_,b,T){const P=new oe,N=V(void 0).pipe(ui(o.outsideAngular),Fe(()=>s.runOutsideAngular(()=>Promise.resolve().then(E.bind(E,365)))),$e(()=>_A(e,s,i)),$e(L=>FU(L,s,a,c,p,_,l,b)),AU({bufferSize:1,refCount:!1}));if(nv(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{N.pipe(Io()).subscribe();const L=N.pipe(Fe(q=>q.getRedirectResult().then(ee=>ee,()=>null)),As,AU({bufferSize:1,refCount:!1})),W=N.pipe(Fe(q=>new bt(ee=>({unsubscribe:s.runOutsideAngular(()=>q.onAuthStateChanged(Ae=>ee.next(Ae),Ae=>ee.error(Ae),()=>ee.complete()))})))),H=N.pipe(Fe(q=>new bt(ee=>({unsubscribe:s.runOutsideAngular(()=>q.onIdTokenChanged(Ae=>ee.next(Ae),Ae=>ee.error(Ae),()=>ee.complete()))}))));this.authState=L.pipe(xU(W),Qi(o.outsideAngular),ui(o.insideAngular)),this.user=L.pipe(xU(H),Qi(o.outsideAngular),ui(o.insideAngular)),this.idToken=this.user.pipe(Fe(q=>q?O(q.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(Fe(q=>q?O(q.getIdTokenResult()):V(null))),this.credential=x(L,P,this.authState.pipe(hr(q=>!q))).pipe($e(q=>q?.user?q:null),Qi(o.outsideAngular),ui(o.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,s)=>e.runOutsideAngular(()=>{if(n[s])return i?.spy?.get&&i.spy.get(s,n[s]),n[s];if(Ese.indexOf(s)>-1)return()=>{};const o=t.toPromise().then(a=>{const l=a?.[s];return"function"==typeof l?l.bind(a):l?.then?l.then(c=>e.run(()=>c)):e.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(p=>{const _=p?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,_),_})})})}))(this,N,s,{spy:{apply:(L,W,H)=>{(L.startsWith("signIn")||L.startsWith("createUser"))&&H.then(q=>P.next(q))}}})}static \u0275fac=function(i){return new(i||n)(De(mb),De(_b,8),De(nr),De(qt),De(TT),De(RU,8),De(PU,8),De(OU,8),De(MU,8),De(NU,8),De(kU,8),De(CT,8))};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function yA(){return ae((n,t)=>{let e,i=!1;n.subscribe(Le(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function vA(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function VU(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function BU(){if(!function Bee(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}class hm{constructor(t){this._delegate=t}static fromBase64String(t){return BU(),new hm(sa.fromBase64String(t))}static fromUint8Array(t){return VU(),new hm(sa.fromUint8Array(t))}toBase64(){return BU(),this._delegate.toBase64()}toUint8Array(){return VU(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IA(n){return function kse(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Fse{enableIndexedDbPersistence(t,e){return function yie(n,t){xs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return JB(n,ef.provider,{build:i=>new TD(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function vie(n){return LD.apply(this,arguments)}(t._delegate)}clearIndexedDbPersistence(t){return function Iie(n){if(n._initialized&&!n._terminated)throw new Me(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new rr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(e=(0,Ce.Z)(function*(r){if(!Xo.D())return Promise.resolve();const s=r+"main";yield Xo.delete(s)}),function i(r){return e.apply(this,arguments)})(pS(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class UU{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ol||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&xs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){GB(this._delegate,t,e,i)}enableNetwork(){return function wie(n){return function iie(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield kB(n),e=yield FB(n);return t.setNetworkEnabled(!0),function(r){const s=je(r);return s.L_.delete(0),Jg(s)}(e)}))}(gi(n=tn(n,Hn)))}(this._delegate)}disableNetwork(){return function Eie(n){return function rie(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield kB(n),e=yield FB(n);return t.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(s){const o=je(s);o.L_.add(0),yield qh(o),o.q_.set("Offline")}),function r(s){return i.apply(this,arguments)})(e);var i}))}(gi(n=tn(n,Hn)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,jB("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function bie(n){return function(e){const i=new rr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Une(n,t){return uD.apply(this,arguments)}(yield OD(e),i)})),i.promise}(gi(n=tn(n,Hn)))}(this._delegate)}onSnapshotsInSync(t){return function Yie(n,t){return function lie(n,t){const e=new UI(t);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield nf(n),s=e,je(r).Y_.add(s),void s.next();var r,s})),()=>{e.Za(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield nf(n),s=e,void je(r).Y_.delete(s);var r,s}))}}(gi(n=tn(n,Hn)),FD(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new uf(this,KB(this._delegate,t))}catch(e){throw Kr(e,"collection()","Firestore.collection()")}}doc(t){try{return new eo(this,zI(this._delegate,t))}catch(e){throw Kr(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Zr(this,function pie(n,t){if(n=tn(n,em),ND("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Me(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gr(n,null,(i=t,new Ua(on.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw Kr(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function lre(n,t,e){n=tn(n,Hn);const i=Object.assign(Object.assign({},ore),e);return function(s){if(s.maxAttempts<1)throw new Me(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,o,a){const l=new rr;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const c=yield function LB(n){return HI(n).then(t=>t.datastore)}(s);new tie(s.asyncQueue,c,a,o,l).au()})),l.promise}(gi(n),r=>t(new are(n,r)),i)}(this._delegate,e=>t(new HU(this,e)))}batch(){return gi(this._delegate),new jU(new _3(this._delegate,t=>sf(this._delegate,t)))}loadBundle(t){return function Cie(n,t){const e=gi(n=tn(n,Hn)),i=new gie;return function cie(n,t,e,i){const r=function(o,a){let l;return l="string"==typeof o?tV().encode(o):o,p=function(p,_){if(p instanceof Uint8Array)return MB(p,_);if(p instanceof ArrayBuffer)return MB(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),new Xne(p,a);var p}(e,Yg(t));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function Yne(n,t,e){const i=je(n);var r;(r=(0,Ce.Z)(function*(o,a,l){try{const c=yield a.getMetadata();if(yield function(P,N){const L=je(P),W=Oi(N.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",H=>L.Gr.getBundleMetadata(H,N.id)).then(H=>!!H&&H.createTime.compareTo(W)>=0)}(o.localStore,c))return yield a.close(),l._completeWith({taskState:"Success",documentsLoaded:(P=c).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);l._updateProgress(wB(c));const p=new Ane(c,o.localStore,a.serializer);let _=yield a.Ua();for(;_;){const T=yield p.la(_);T&&l._updateProgress(T),_=yield a.Ua()}const b=yield p.complete();return yield $a(o,b.Ia,void 0),yield function(P,N){const L=je(P);return L.persistence.runTransaction("Save bundle","readwrite",W=>L.Gr.saveBundleMetadata(W,N))}(o.localStore,c),l._completeWith(b.progress),Promise.resolve(b.Pa)}catch(c){return xs("SyncEngine",`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}var P}),function s(o,a,l){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield OD(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Tie(n,t){return function uie(n,t){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(i,r){const s=je(i);return s.persistence.runTransaction("Get named query","readonly",o=>s.Gr.getNamedQuery(o,r))}(yield tf(n),t)}))}(gi(n=tn(n,Hn)),t).then(e=>e?new gr(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Zr(this,e):null)}}class yb extends GD{constructor(t){super(),this.firestore=t}convertBytes(t){return new hm(new sa(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return eo.forKey(e,this.firestore,null)}}class HU{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new yb(t)}get(t){const e=Du(t);return this._delegate.get(e).then(i=>new fm(this._firestore,new qa(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Du(t);return i?(vA("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Du(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Du(t);return this._delegate.delete(e),this}}class jU{constructor(t){this._delegate=t}set(t,e,i){const r=Du(t);return i?(vA("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Du(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Du(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Su{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new am(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new pm(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Su.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Su(t,new yb(t),e),r.set(e,s)),s}}Su.INSTANCES=new WeakMap;class eo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new yb(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new eo(e,new oi(e._delegate,i,new qe(t)))}static forKey(t,e,i){return new eo(e,new oi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new uf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new uf(this.firestore,KB(this._delegate,t))}catch(e){throw Kr(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,gn.m9)(t))instanceof oi&&ZB(this._delegate,t)}set(t,e){e=vA("DocumentReference.set",e);try{return e?p3(this._delegate,t,e):p3(this._delegate,t)}catch(i){throw Kr(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?g3(this._delegate,t):g3(this._delegate,t,e,...i)}catch(r){throw Kr(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Zie(n){return sf(tn(n.firestore,Hn),[new Lh(n._key,pi.none())])}(this._delegate)}onSnapshot(...t){const e=zU(t),i=$U(t,r=>new fm(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return m3(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function $ie(n){n=tn(n,oi);const t=tn(n.firestore,Hn),e=gi(t),i=new Wl(t);return function sie(n,t){const e=new rr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(s,o,a){try{const l=yield function(p,_){const b=je(p);return b.persistence.runTransaction("read document","readonly",T=>b.localDocuments.getDocument(T,_))}(s,o);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new Me(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=Qh(l,`Failed to get document '${o} from cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield tf(n),t,e);var i})),e.promise}(e,n._key).then(r=>new qa(t,i,n._key,r,new wu(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Wie(n){n=tn(n,oi);const t=tn(n.firestore,Hn);return VB(gi(t),n._key,{source:"server"}).then(e=>KD(t,n,e))}(this._delegate):function zie(n){n=tn(n,oi);const t=tn(n.firestore,Hn);return VB(gi(t),n._key).then(e=>KD(t,n,e))}(this._delegate),e.then(i=>new fm(this.firestore,new qa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new eo(this.firestore,this._delegate.withConverter(t?Su.getInstance(this.firestore,t):null))}}function Kr(n,t,e){return n.message=n.message.replace(t,e),n}function zU(n){for(const t of n)if("object"==typeof t&&!IA(t))return t;return{}}function $U(n,t){var e,i;let r;return r=IA(n[0])?n[0]:IA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class fm{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new eo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return f3(this._delegate,t._delegate)}}class pm extends fm{data(t){const e=this._delegate.data(t);return this._delegate._converter||function see(n,t){n||tt()}(void 0!==e),e}}class Zr{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new yb(t)}where(t,e,i){try{return new Zr(this.firestore,zl(this._delegate,function Oie(n,t,e){const i=t,r=QI("where",n);return om._create(r,i,e)}(t,e,i)))}catch(r){throw Kr(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Zr(this.firestore,zl(this._delegate,function Mie(n,t="asc"){const e=t,i=QI("orderBy",n);return qD._create(i,e)}(t,e)))}catch(i){throw Kr(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Zr(this.firestore,zl(this._delegate,function Nie(n){return WB("limit",n),YI._create("limit",n,"F")}(t)))}catch(e){throw Kr(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Zr(this.firestore,zl(this._delegate,function kie(n){return WB("limitToLast",n),YI._create("limitToLast",n,"L")}(t)))}catch(e){throw Kr(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Zr(this.firestore,zl(this._delegate,function Fie(...n){return JI._create("startAt",n,!0)}(...t)))}catch(e){throw Kr(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Zr(this.firestore,zl(this._delegate,function Lie(...n){return JI._create("startAfter",n,!1)}(...t)))}catch(e){throw Kr(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Zr(this.firestore,zl(this._delegate,function Vie(...n){return XI._create("endBefore",n,!1)}(...t)))}catch(e){throw Kr(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Zr(this.firestore,zl(this._delegate,function Bie(...n){return XI._create("endAt",n,!0)}(...t)))}catch(e){throw Kr(e,"endAt()","Query.endAt()")}}isEqual(t){return kD(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Gie(n){n=tn(n,gr);const t=tn(n.firestore,Hn),e=gi(t),i=new Wl(t);return function oie(n,t){const e=new rr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(s,o,a){try{const l=yield OI(s,o,!0),c=new TB(o,l.Ts),p=c.ma(l.documents),_=c.applyChanges(p,!1);a.resolve(_.snapshot)}catch(l){const c=Qh(l,`Failed to execute query '${o} against cache`);a.reject(c)}}),function r(s,o,a){return i.apply(this,arguments)})(yield tf(n),t,e);var i})),e.promise}(e,n._query).then(r=>new $l(t,i,n,r))}(this._delegate):"server"===t?.source?function Kie(n){n=tn(n,gr);const t=tn(n.firestore,Hn),e=gi(t),i=new Wl(t);return BB(e,n._query,{source:"server"}).then(r=>new $l(t,i,n,r))}(this._delegate):function qie(n){n=tn(n,gr);const t=tn(n.firestore,Hn),e=gi(t),i=new Wl(t);return a3(n._query),BB(e,n._query).then(r=>new $l(t,i,n,r))}(this._delegate),e.then(i=>new bA(this.firestore,new $l(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=zU(t),i=$U(t,r=>new bA(this.firestore,new $l(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return m3(this._delegate,e,i)}withConverter(t){return new Zr(this.firestore,this._delegate.withConverter(t?Su.getInstance(this.firestore,t):null))}}class Vse{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new pm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bA{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Zr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new pm(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Vse(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new pm(this._firestore,i))})}isEqual(t){return f3(this._delegate,t._delegate)}}class uf extends Zr{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new eo(this.firestore,t):null}doc(t){try{return new eo(this.firestore,void 0===t?zI(this._delegate):zI(this._delegate,t))}catch(e){throw Kr(e,"doc()","CollectionReference.doc()")}}add(t){return function Qie(n,t){const e=tn(n.firestore,Hn),i=zI(n),r=eb(n.converter,t);return sf(e,[GI(Iu(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,pi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new eo(this.firestore,e))}isEqual(t){return ZB(this._delegate,t._delegate)}withConverter(t){return new uf(this.firestore,this._delegate.withConverter(t?Su.getInstance(this.firestore,t):null))}}function Du(n){return tn(n,oi)}class wA{constructor(...t){this._delegate=new Wa(...t)}static documentId(){return new wA(ri.keyField().canonicalString())}isEqual(t){return(t=(0,gn.m9)(t))instanceof Wa&&this._delegate._internalPath.isEqual(t._internalPath)}}class Au{constructor(t){this._delegate=t}static serverTimestamp(){const t=function ure(){return new VD("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Au(t)}static delete(){const t=function cre(){return new nm("deleteField")}();return t._methodName="FieldValue.delete",new Au(t)}static arrayUnion(...t){const e=function dre(...n){return new BD("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Au(e)}static arrayRemove(...t){const e=function hre(...n){return new UD("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Au(e)}static increment(t){const e=function fre(n){return new HD("increment",n)}(t);return e._methodName="FieldValue.increment",new Au(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Bse={Firestore:UU,GeoPoint:$I,Timestamp:hi,Blob:hm,Transaction:HU,WriteBatch:jU,DocumentReference:eo,DocumentSnapshot:fm,Query:Zr,QueryDocumentSnapshot:pm,QuerySnapshot:bA,CollectionReference:uf,FieldPath:wA,FieldValue:Au,setLogLevel:function Lse(n){!function ree(n){Al.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function WU(n,t){return function jse(n,t=Wv){return new bt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function EA(n,t){return WU(n,t).pipe($e(e=>({payload:e,type:"query"})))}!function Hse(n){(function Use(n,t){n.INTERNAL.registerComponent(new xL.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Bse)))})(n,(t,e)=>new UU(t,e,new Fse)),n.registerVersion("@firebase/firestore-compat","0.3.38")}(Tu.Z);class qU{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=QU(i,e);return new ZU(r,s,this.afs)}snapshotChanges(){return function zse(n,t){return WU(n,t).pipe(Cv(void 0),yA(),$e(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(As)}valueChanges(t={}){return this.snapshotChanges().pipe($e(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return O(this.ref.get(t)).pipe(As)}}function vb(n,t){return EA(n,t).pipe(Cv(void 0),yA(),$e(e=>{const[i,r]=e,s=r.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{const c=s.find(_=>_.doc.ref.isEqual(a.ref)),p=i?.payload.docs.find(_=>_.ref.isEqual(a.ref));c&&JSON.stringify(c.doc.metadata)===JSON.stringify(a.metadata)||!c&&p&&JSON.stringify(p.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),o}))}function GU(n,t,e){return vb(n,e).pipe(Sv((i,r)=>function $se(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Wse(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return CA(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return CA(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return CA(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),gt(),$e(i=>i.map(r=>({type:r.type,payload:r}))))}function CA(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function KU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ZU{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=vb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe($e(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Cv(void 0),yA(),hr(([i,r])=>r.length>0||!i),$e(([,i])=>i),As)}auditTrail(t){return this.stateChanges(t).pipe(Sv((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=KU(t);return GU(this.query,e,this.afs.schedulers.outsideAngular).pipe(As)}valueChanges(t={}){return EA(this.query,this.afs.schedulers.outsideAngular).pipe($e(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),As)}get(t){return O(this.query.get(t)).pipe(As)}add(t){return this.ref.add(t)}doc(t){return new qU(this.ref.doc(t),this.afs)}}class qse{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?vb(this.query,this.afs.schedulers.outsideAngular).pipe($e(e=>e.filter(i=>t.indexOf(i.type)>-1)),hr(e=>e.length>0),As):vb(this.query,this.afs.schedulers.outsideAngular).pipe(As)}auditTrail(t){return this.stateChanges(t).pipe(Sv((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=KU(t);return GU(this.query,e,this.afs.schedulers.outsideAngular).pipe(As)}valueChanges(t={}){return EA(this.query,this.afs.schedulers.outsideAngular).pipe($e(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),As)}get(t){return O(this.query.get(t)).pipe(As)}}const Gse=new Ue("angularfire2.enableFirestorePersistence"),Kse=new Ue("angularfire2.firestore.persistenceSettings"),Zse=new Ue("angularfire2.firestore.settings"),Qse=new Ue("angularfire2.firestore.use-emulator");function QU(n,t=(e=>e)){return{query:t(n),ref:n}}let YU=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,s,o,a,l,c,p,_,b,T,P,N,L,W,H){this.schedulers=l;const q=_A(e,a,i),ee=p;_&&FU(q,a,b,P,N,L,T,W),[this.firestore,this.persistenceEnabled$]=SU(`${q.name}.firestore`,"AngularFirestore",q.name,()=>{const Ae=a.runOutsideAngular(()=>q.firestore());if(s&&Ae.settings(s),ee&&Ae.useEmulator(...ee),r&&!nv(o)){const Ve=()=>{try{return O(Ae.enablePersistence(c||void 0).then(()=>!0,()=>!1))}catch(j){return typeof console<"u"&&console.warn(j),V(!1)}};return[Ae,a.runOutsideAngular(Ve)]}return[Ae,V(!1)]},[s,ee,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:o}=QU(r,i),a=this.schedulers.ngZone.run(()=>s);return new ZU(a,o,this)}collectionGroup(e,i){const r=i||(o=>o),s=this.firestore.collectionGroup(e);return new qse(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new qU(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)(De(mb),De(_b,8),De(Gse,8),De(Zse,8),De(nr),De(qt),De(TT),De(Kse,8),De(Qse,8),De(LU,8),De(RU,8),De(PU,8),De(OU,8),De(MU,8),De(NU,8),De(kU,8),De(CT,8))};static \u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),TA=(()=>{class n extends Fa{pathId;ngOnInit(){this.pathId="url(#"+yg()+")"}static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[en,qs],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0)(1,"g"),We(2,"path",1),_e(),me(3,"defs")(4,"clipPath",2),We(5,"rect",3),_e()()()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Te(1),St("clip-path",r.pathId),Te(3),pe("id",r.pathId))},encapsulation:2})}return n})();const Ql={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"};let aoe=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(e){this._label=e,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(e){this._icon=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(e){this._loading=e,this.initialized&&(this.updateIcon(),this.setStyleClass())}_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(Ql);spinnerIcon='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" class="p-icon-spin">\n        <g clip-path="url(#clip0_417_21408)">\n            <path\n                d="M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z"\n                fill="currentColor"\n            />\n        </g>\n        <defs>\n            <clipPath id="clip0_417_21408">\n                <rect width="14" height="14" fill="white" />\n            </clipPath>\n        </defs>\n    </svg>';constructor(e,i){this.el=e,this.document=i}ngAfterViewInit(){xe.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){const e=[Ql.button,Ql.component];return this.icon&&!this.label&&cn.isEmpty(this.htmlElement.textContent)&&e.push(Ql.iconOnly),this.loading&&(e.push(Ql.disabled,Ql.loading),!this.icon&&this.label&&e.push(Ql.labelOnly),this.icon&&!this.label&&!cn.isEmpty(this.htmlElement.textContent)&&e.push(Ql.iconOnly)),e}setStyleClass(){const e=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...e)}createLabel(){if(this.label){let e=this.document.createElement("span");this.icon&&!this.label&&e.setAttribute("aria-hidden","true"),e.className="p-button-label",e.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(e)}}createIcon(){if(this.icon||this.loading){let e=this.document.createElement("span");e.className="p-button-icon",e.setAttribute("aria-hidden","true");let i=this.label?"p-button-icon-"+this.iconPos:null;i&&xe.addClass(e,i);let r=this.getIconClass();r&&xe.addMultipleClasses(e,r),!this.loadingIcon&&this.loading&&(e.innerHTML=this.spinnerIcon),this.htmlElement.insertBefore(e,this.htmlElement.firstChild)}}updateLabel(){let e=xe.findSingle(this.htmlElement,".p-button-label");this.label?e?e.textContent=this.label:this.createLabel():e&&this.htmlElement.removeChild(e)}updateIcon(){let e=xe.findSingle(this.htmlElement,".p-button-icon"),i=xe.findSingle(this.htmlElement,".p-button-label");this.loading&&!this.loadingIcon&&e?e.innerHTML=this.spinnerIcon:e?.innerHTML&&(e.innerHTML=""),e?e.className=this.iconPos?"p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon "+(this.loadingIcon?this.loadingIcon:"p-icon"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(ie(Gn),ie(qi))};static \u0275dir=dt({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}})}return n})(),loe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs,Qv,Js,TA,Js]})}return n})(),coe=(()=>{class n{el;ngModel;control;cd;autoResize;onResize=new at;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(e,i,r,s){this.el=e,this.ngModel=i,this.control=r,this.cd=s}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewChecked(){this.updateState()}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)(ie(Gn),ie(pb,8),ie(Ga,8),ie(Ks))};static \u0275dir=dt({type:n,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){1&i&&Dt("input",function(o){return r.onInput(o)}),2&i&&Vc("p-filled",r.filled)("p-inputtextarea-resizable",r.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return n})(),uoe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs]})}return n})(),doe=(()=>{class n{el;ngModel;cd;filled;constructor(e,i,r){this.el=e,this.ngModel=i,this.cd=r}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(ie(Gn),ie(pb,8),ie(Ks))};static \u0275dir=dt({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(i,r){1&i&&Dt("input",function(o){return r.onInput(o)}),2&i&&Vc("p-filled",r.filled)}})}return n})(),hoe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs]})}return n})(),foe=(()=>{class n{host;constructor(e){this.host=e}autofocus;focused=!1;ngAfterContentChecked(){if(!this.focused&&this.autofocus){const e=xe.getFocusableElements(this.host.nativeElement);0===e.length&&this.host.nativeElement.focus(),e.length>0&&e[0].focus(),this.focused=!0}}static \u0275fac=function(i){return new(i||n)(ie(Gn))};static \u0275dir=dt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:"autofocus"}})}return n})(),poe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs]})}return n})();const goe=["overlay"],moe=["content"];function _oe(n,t){1&n&&Di(0)}const yoe=function(n,t,e){return{showTransitionParams:n,hideTransitionParams:t,transform:e}},voe=function(n){return{value:"visible",params:n}},Ioe=function(n){return{mode:n}},boe=function(n){return{$implicit:n}};function woe(n,t){if(1&n){const e=Ai();me(0,"div",1,3),Dt("click",function(r){return $t(e),Xt(Pe(2).onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){return $t(e),Xt(Pe(2).onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){return $t(e),Xt(Pe(2).onOverlayContentAnimationDone(r))}),Fc(2),Ee(3,_oe,1,0,"ng-container",4),_e()}if(2&n){const e=Pe(2);dr(e.contentStyleClass),pe("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",di(11,voe,Ny(7,yoe,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),Te(3),pe("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",di(15,boe,di(13,Ioe,e.overlayMode)))}}const Eoe=function(n,t,e,i,r,s,o,a,l,c,p,_,b,T){return{"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":p,"p-overlay-right":_,"p-overlay-right-start":b,"p-overlay-right-end":T}};function Coe(n,t){if(1&n){const e=Ai();me(0,"div",1,2),Dt("click",function(){return $t(e),Xt(Pe().onOverlayClick())}),Ee(2,woe,4,17,"div",0),_e()}if(2&n){const e=Pe();dr(e.styleClass),pe("ngStyle",e.style)("ngClass",LO(5,Eoe,[e.modal,e.modal&&"center"===e.overlayResponsiveDirection,e.modal&&"top"===e.overlayResponsiveDirection,e.modal&&"top-start"===e.overlayResponsiveDirection,e.modal&&"top-end"===e.overlayResponsiveDirection,e.modal&&"bottom"===e.overlayResponsiveDirection,e.modal&&"bottom-start"===e.overlayResponsiveDirection,e.modal&&"bottom-end"===e.overlayResponsiveDirection,e.modal&&"left"===e.overlayResponsiveDirection,e.modal&&"left-start"===e.overlayResponsiveDirection,e.modal&&"left-end"===e.overlayResponsiveDirection,e.modal&&"right"===e.overlayResponsiveDirection,e.modal&&"right-start"===e.overlayResponsiveDirection,e.modal&&"right-end"===e.overlayResponsiveDirection])),Te(2),pe("ngIf",e.visible)}}const Toe=["*"],Soe={provide:Xs,useExisting:rn(()=>JU),multi:!0},Doe=GN([ah({transform:"{{transform}}",opacity:0}),ov("{{showTransitionParams}}")]),Aoe=GN([ov("{{hideTransitionParams}}",ah({transform:"{{transform}}",opacity:0}))]);let JU=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return cn.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return cn.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return cn.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return cn.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){const e=this._target||this.overlayOptions?.target;return void 0===e?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){const e=this._autoZIndex||this.overlayOptions?.autoZIndex;return void 0===e||e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){const e=this._baseZIndex||this.overlayOptions?.baseZIndex;return void 0===e?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){const e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return void 0===e?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){const e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return void 0===e?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new at;onBeforeShow=new at;onShow=new at;onBeforeHide=new at;onHide=new at;onAnimationStart=new at;onAnimationDone=new at;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Wo(this.platformId))return"modal"===this.mode||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return{...this.config?.overlayOptions,...this.options}}get overlayResponsiveOptions(){return{...this.overlayOptions?.responsive,...this.responsive}}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return xe.getTargetElement(this.target,this.el?.nativeElement)}constructor(e,i,r,s,o,a,l,c){this.document=e,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=c,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(e=>{e.getType(),this.contentTemplate=e.template})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&xe.focus(this.targetEl),this.modal&&xe.addClass(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){this.visible&&(this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&xe.focus(this.targetEl),this.modal&&xe.removeClass(this.document?.body,"p-overflow-hidden"))}alignOverlay(){!this.modal&&xe.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&yh.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),xe.appendOverlay(this.overlayEl,"body"===this.appendTo?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&xe.addClass(this.overlayEl,"p-component-overlay-leave")}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){const i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.show(i,!0),this.bindListeners();break;case"void":this.hide(i,!0),this.unbindListeners(),xe.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),yh.clear(i),this.modalVisible=!1,this.cd.markForCheck()}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new tL(this.targetEl,e=>{(!this.listener||this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}))&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{const r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target))||this.isOverlayContentClicked);(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:3!==e.which&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!xe.isTouchDevice()}):!xe.isTouchDevice())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",e=>{!1!==this.overlayOptions.hideOnEscape&&"Escape"===e.code&&(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!xe.isTouchDevice()}):!xe.isTouchDevice())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(xe.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),yh.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(ie(qi),ie(nr),ie(Gn),ie(Sr),ie(Kv),ie(CJ),ie(Ks),ie(qt))};static \u0275cmp=pn({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(1&i&&Ta(s,tu,4),2&i){let o;Rn(o=Pn())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(xi(goe,5),xi(moe,5)),2&i){let s;Rn(s=Pn())&&(r.overlayViewChild=s.first),Rn(s=Pn())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Bn([Soe])],ngContentSelectors:Toe,decls:1,vars:1,consts:[[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"ngStyle","ngClass","click"],["overlay",""],["content",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(kc(),Ee(0,Coe,3,20,"div",0)),2&i&&pe("ngIf",r.modalVisible)},dependencies:[Ra,_o,Il,Gc],styles:["@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}\n"],encapsulation:2,data:{animation:[$N("overlayContentAnimation",[av(":enter",[KN(Doe)]),av(":leave",[KN(Aoe)])])]},changeDetection:0})}return n})(),XU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs,Js,Js]})}return n})();const xoe=["element"],Roe=["content"];function Poe(n,t){1&n&&Di(0)}const SA=function(n,t){return{$implicit:n,options:t}};function Ooe(n,t){if(1&n&&(ni(0),Ee(1,Poe,1,0,"ng-container",7),ii()),2&n){const e=Pe(2);Te(1),pe("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",go(2,SA,e.loadedItems,e.getContentOptions()))}}function Moe(n,t){1&n&&Di(0)}function Noe(n,t){if(1&n&&(ni(0),Ee(1,Moe,1,0,"ng-container",7),ii()),2&n){const e=t.$implicit,i=t.index,r=Pe(3);Te(1),pe("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",go(2,SA,e,r.getOptions(i)))}}const koe=function(n){return{"p-scroller-loading":n}};function Foe(n,t){if(1&n&&(me(0,"div",8,9),Ee(2,Noe,2,5,"ng-container",10),_e()),2&n){const e=Pe(2);pe("ngClass",di(5,koe,e.d_loading))("ngStyle",e.contentStyle),St("data-pc-section","content"),Te(2),pe("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy||e.index)}}function Loe(n,t){1&n&&We(0,"div",11),2&n&&(pe("ngStyle",Pe(2).spacerStyle),St("data-pc-section","spacer"))}function Voe(n,t){1&n&&Di(0)}const Boe=function(n){return{numCols:n}},e4=function(n){return{options:n}};function Uoe(n,t){if(1&n&&(ni(0),Ee(1,Voe,1,0,"ng-container",7),ii()),2&n){const e=t.index,i=Pe(4);Te(1),pe("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",di(4,e4,i.getLoaderOptions(e,i.both&&di(2,Boe,i._numItemsInViewport.cols))))}}function Hoe(n,t){if(1&n&&(ni(0),Ee(1,Uoe,2,6,"ng-container",14),ii()),2&n){const e=Pe(3);Te(1),pe("ngForOf",e.loaderArr)}}function joe(n,t){1&n&&Di(0)}const zoe=function(){return{styleClass:"p-scroller-loading-icon"}};function $oe(n,t){if(1&n&&(ni(0),Ee(1,joe,1,0,"ng-container",7),ii()),2&n){const e=Pe(4);Te(1),pe("ngTemplateOutlet",e.loaderIconTemplate)("ngTemplateOutletContext",di(3,e4,My(2,zoe)))}}function Woe(n,t){1&n&&We(0,"SpinnerIcon",16),2&n&&(pe("styleClass","p-scroller-loading-icon"),St("data-pc-section","loadingIcon"))}function qoe(n,t){if(1&n&&(Ee(0,$oe,2,5,"ng-container",0),Ee(1,Woe,1,2,"ng-template",null,15,_l)),2&n){const e=Ca(2);pe("ngIf",Pe(3).loaderIconTemplate)("ngIfElse",e)}}const Goe=function(n){return{"p-component-overlay":n}};function Koe(n,t){if(1&n&&(me(0,"div",12),Ee(1,Hoe,2,1,"ng-container",0),Ee(2,qoe,3,2,"ng-template",null,13,_l),_e()),2&n){const e=Ca(3),i=Pe(2);pe("ngClass",di(4,Goe,!i.loaderTemplate)),St("data-pc-section","loader"),Te(1),pe("ngIf",i.loaderTemplate)("ngIfElse",e)}}const Zoe=function(n,t,e){return{"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":t,"p-horizontal-scroll":e}};function Qoe(n,t){if(1&n){const e=Ai();ni(0),me(1,"div",2,3),Dt("scroll",function(r){return $t(e),Xt(Pe().onContainerScroll(r))}),Ee(3,Ooe,2,5,"ng-container",0),Ee(4,Foe,3,7,"ng-template",null,4,_l),Ee(6,Loe,1,2,"div",5),Ee(7,Koe,4,6,"div",6),_e(),ii()}if(2&n){const e=Ca(5),i=Pe();Te(1),dr(i._styleClass),pe("ngStyle",i._style)("ngClass",Ny(12,Zoe,i.inline,i.both,i.horizontal)),St("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),Te(2),pe("ngIf",i.contentTemplate)("ngIfElse",e),Te(3),pe("ngIf",i._showSpacer),Te(1),pe("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function Yoe(n,t){1&n&&Di(0)}const Joe=function(n,t){return{rows:n,columns:t}};function Xoe(n,t){if(1&n&&(ni(0),Ee(1,Yoe,1,0,"ng-container",7),ii()),2&n){const e=Pe(2);Te(1),pe("ngTemplateOutlet",e.contentTemplate)("ngTemplateOutletContext",go(5,SA,e.items,go(2,Joe,e._items,e.loadedColumns)))}}function eae(n,t){if(1&n&&(Fc(0),Ee(1,Xoe,2,8,"ng-container",17)),2&n){const e=Pe();Te(1),pe("ngIf",e.contentTemplate)}}const tae=["*"];let nae=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&"object"==typeof e&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new at;onScroll=new at;onScrollIndexChange=new at;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return"vertical"===this._orientation}get horizontal(){return"horizontal"===this._orientation}get both(){return"both"===this._orientation}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}get isPageChanged(){return!this._step||this.page!==this.getPageByFirst()}constructor(e,i,r,s,o){this.document=e,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(e){let i=!1;if(e.loading){const{previousValue:r,currentValue:s}=e.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){const{previousValue:r,currentValue:s}=e.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(e.options){const{previousValue:r,currentValue:s}=e.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"item":default:this.itemTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"loadericon":this.loaderIconTemplate=e.template}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){Wo(this.platformId)&&xe.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=xe.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=xe.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=xe.getWidth(this.contentEl),this.defaultContentHeight=xe.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||xe.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(){return Math.floor((this.first+4*this.d_numToleratedItems)/(this._step||1))}scrollTo(e){this.lastScrollPos=this.both?{top:0,left:0}:0,this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){const{numToleratedItems:r}=this.calculateNumItems(),s=this.getContentPosition(),o=(p=0,_)=>p<=_?0:p,a=(p,_,b)=>p*_+b,l=(p=0,_=0)=>this.scrollTo({left:p,top:_,behavior:i});let c=0;this.both?(c={rows:o(e[0],r[0]),cols:o(e[1],r[1])},l(a(c.cols,this._itemSize[1],s.left),a(c.rows,this._itemSize[0],s.top))):(c=o(e,r),this.horizontal?l(a(c,this._itemSize,s.left),0):l(0,a(c,this._itemSize,s.top))),this.isRangeChanged=this.first!==c,this.first=c}scrollInView(e,i,r="auto"){if(i){const{first:s,viewport:o}=this.getRenderedRange(),a=(p=0,_=0)=>this.scrollTo({left:p,top:_,behavior:r}),c="to-end"===i;if("to-start"===i){if(this.both)o.first.rows-s.rows>e[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>e[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>e){const p=(o.first-1)*this._itemSize;this.horizontal?a(p,0):a(0,p)}}else if(c)if(this.both)o.last.rows-s.rows<=e[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=e[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=e+1){const p=(o.first+1)*this._itemSize;this.horizontal?a(p,0):a(0,p)}}else this.scrollToIndex(e,r)}getRenderedRange(){const e=(s,o)=>Math.floor(s/(o||s));let i=this.first,r=0;if(this.elementViewChild?.nativeElement){const{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;this.both?(i={rows:e(s,this._itemSize[0]),cols:e(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols}):(i=e(this.horizontal?o:s,this._itemSize),r=i+this.numItemsInViewport)}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){const e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,s=(c,p)=>Math.ceil(c/(p||c)),o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize);return{numItemsInViewport:a,numToleratedItems:this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a))}}calculateOptions(){const{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,p=!1)=>this.getLast(a+l+(a<c?2:3)*c,p),s=this.first,o=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";const[e,i]=[xe.getWidth(this.contentEl),xe.getHeight(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");const[r,s]=[xe.getWidth(this.elementViewChild.nativeElement),xe.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){const e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),s=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){const e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._items){const e=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle={...this.spacerStyle,[`${r}`]:(s||[]).length*o+a+"px"};this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){const i=e?e.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle={...this.contentStyle,transform:`translate3d(${o}px, ${a}px, 0)`};if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{const o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(e){const i=e.target,r=this.getContentPosition(),s=(L,W)=>L?L>W?L-W:L:0,o=(L,W)=>Math.floor(L/(W||L)),a=(L,W,H,q,ee,Ae)=>L<=ee?ee:Ae?H-q-ee:W+ee-1,l=(L,W,H,q,ee,Ae,Ve)=>L<=Ae?0:Math.max(0,Ve?L<W?H:L-Ae:L>W?H:L-2*Ae),c=(L,W,H,q,ee,Ae=!1)=>{let Ve=W+q+2*ee;return L>=ee&&(Ve+=ee+1),this.getLast(Ve,Ae)},p=s(i.scrollTop,r.top),_=s(i.scrollLeft,r.left);let b=this.both?{rows:0,cols:0}:0,T=this.last,P=!1,N=this.lastScrollPos;if(this.both){const L=this.lastScrollPos.top<=p,W=this.lastScrollPos.left<=_;if(!this._appendOnly||this._appendOnly&&(L||W)){const H={rows:o(p,this._itemSize[0]),cols:o(_,this._itemSize[1])},q={rows:a(H.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],L),cols:a(H.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],W)};b={rows:l(H.rows,q.rows,this.first.rows,0,0,this.d_numToleratedItems[0],L),cols:l(H.cols,q.cols,this.first.cols,0,0,this.d_numToleratedItems[1],W)},T={rows:c(H.rows,b.rows,0,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(H.cols,b.cols,0,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},P=b.rows!==this.first.rows||T.rows!==this.last.rows||b.cols!==this.first.cols||T.cols!==this.last.cols||this.isRangeChanged,N={top:p,left:_}}}else{const L=this.horizontal?_:p,W=this.lastScrollPos<=L;if(!this._appendOnly||this._appendOnly&&W){const H=o(L,this._itemSize);b=l(H,a(H,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,W),this.first,0,0,this.d_numToleratedItems,W),T=c(H,b,0,this.numItemsInViewport,this.d_numToleratedItems),P=b!==this.first||T!==this.last||this.isRangeChanged,N=L}}return{first:b,last:T,isRangeChanged:P,scrollPos:N}}onScrollChange(e){const{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(e);if(s){const a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged){const l={first:this._step?Math.min(this.getPageByFirst()*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst()+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){const{isRangeChanged:i}=this.onScrollPositionChange(e);(i||this._step&&this.isPageChanged)&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||void 0===this._loading)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){Wo(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{const e=this.document.defaultView,i=xe.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(xe.isVisible(this.elementViewChild?.nativeElement)){const[e,i]=[xe.getWidth(this.elementViewChild?.nativeElement),xe.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical&&s)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=xe.getWidth(this.contentEl),this.defaultContentHeight=xe.getHeight(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:"p-scroller-content "+(this.d_loading?"p-scroller-loading":""),items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){const i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:0===r,last:r===i-1,even:r%2==0,odd:r%2!=0}}getLoaderOptions(e,i){const r=this.loaderArr.length;return{index:e,count:r,first:0===e,last:e===r-1,even:e%2==0,odd:e%2!=0,...i}}static \u0275fac=function(i){return new(i||n)(ie(qi),ie(nr),ie(Sr),ie(Ks),ie(qt))};static \u0275cmp=pn({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(1&i&&Ta(s,tu,4),2&i){let o;Rn(o=Pn())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(xi(xoe,5),xi(Roe,5)),2&i){let s;Rn(s=Pn())&&(r.elementViewChild=s.first),Rn(s=Pn())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Ji],ngContentSelectors:tae,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["disabledContainer",""],[3,"ngStyle","ngClass","scroll"],["element",""],["buildInContent",""],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],["content",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],["buildInLoader",""],[4,"ngFor","ngForOf"],["buildInLoaderIcon",""],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(1&i&&(kc(),Ee(0,Qoe,8,16,"ng-container",0),Ee(1,eae,2,1,"ng-template",null,1,_l)),2&i){const s=Ca(2);pe("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:function(){return[Ra,qc,_o,Il,Gc,TA]},styles:["@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}\n"],encapsulation:2})}return n})(),t4=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs,Js,TA,Js]})}return n})(),n4=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),r4=(()=>{class n extends Fa{pathId;ngOnInit(){this.pathId="url(#"+yg()+")"}static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[en,qs],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0)(1,"g"),We(2,"path",1),_e(),me(3,"defs")(4,"clipPath",2),We(5,"rect",3),_e()()()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Te(1),St("clip-path",r.pathId),Te(3),pe("id",r.pathId))},encapsulation:2})}return n})();function iae(n,t){if(1&n&&(me(0,"span"),rt(1),_e()),2&n){const e=Pe();let i;Te(1),Bc(null!==(i=e.label)&&void 0!==i?i:"empty")}}function rae(n,t){1&n&&Di(0)}const gm=function(n){return{height:n}},sae=function(n,t,e){return{"p-dropdown-item":!0,"p-highlight":n,"p-disabled":t,"p-focus":e}},DA=function(n){return{$implicit:n}},oae=["container"],aae=["filter"],lae=["focusInput"],cae=["editableInput"],uae=["items"],dae=["scroller"],hae=["overlay"],fae=["firstHiddenFocusableEl"],pae=["lastHiddenFocusableEl"];function gae(n,t){if(1&n&&(ni(0),rt(1),ii()),2&n){const e=Pe(2);Te(1),Bc("p-emptylabel"===e.label()?"\xa0":e.label())}}function mae(n,t){1&n&&Di(0)}function _ae(n,t){if(1&n&&(me(0,"span"),rt(1),_e()),2&n){const e=Pe(3);Te(1),Bc("p-emptylabel"===e.label()?"\xa0":e.placeholder)}}function yae(n,t){if(1&n&&Ee(0,_ae,2,1,"span",4),2&n){const e=Pe(2);pe("ngIf",e.label()===e.placeholder||e.label()&&!e.placeholder)}}function vae(n,t){if(1&n){const e=Ai();me(0,"span",10,11),Dt("focus",function(r){return $t(e),Xt(Pe().onInputFocus(r))})("blur",function(r){return $t(e),Xt(Pe().onInputBlur(r))})("keydown",function(r){return $t(e),Xt(Pe().onKeyDown(r))}),Ee(2,gae,2,1,"ng-container",12),Ee(3,mae,1,0,"ng-container",13),Ee(4,yae,1,1,"ng-template",null,14,_l),_e()}if(2&n){const e=Ca(5),i=Pe();pe("ngClass",i.inputClass)("pTooltip",i.tooltip)("tooltipPosition",i.tooltipPosition)("positionStyle",i.tooltipPositionStyle)("tooltipStyleClass",i.tooltipStyleClass)("autofocus",i.autofocus),St("aria-disabled",i.disabled)("id",i.inputId)("aria-label",i.ariaLabel||("p-emptylabel"===i.label()?void 0:i.label()))("aria-labelledby",i.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",i.overlayVisible)("aria-controls",i.id+"_list")("tabindex",i.disabled?-1:i.tabindex)("aria-activedescendant",i.focused?i.focusedOptionId:void 0),Te(2),pe("ngIf",!i.selectedItemTemplate)("ngIfElse",e),Te(1),pe("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",di(19,DA,i.selectedOption))}}function Iae(n,t){if(1&n){const e=Ai();me(0,"input",15,16),Dt("input",function(r){return $t(e),Xt(Pe().onEditableInput(r))})("keydown",function(r){return $t(e),Xt(Pe().onKeyDown(r))})("focus",function(r){return $t(e),Xt(Pe().onInputFocus(r))})("blur",function(r){return $t(e),Xt(Pe().onInputBlur(r))}),_e()}if(2&n){const e=Pe();pe("ngClass",e.inputClass)("disabled",e.disabled),St("maxlength",e.maxlength)("placeholder",e.placeholder)("aria-expanded",e.overlayVisible)}}function bae(n,t){if(1&n){const e=Ai();me(0,"TimesIcon",19),Dt("click",function(r){return $t(e),Xt(Pe(2).clear(r))}),_e()}2&n&&(pe("styleClass","p-dropdown-clear-icon"),St("data-pc-section","clearicon"))}function wae(n,t){}function Eae(n,t){1&n&&Ee(0,wae,0,0,"ng-template")}function Cae(n,t){if(1&n){const e=Ai();me(0,"span",20),Dt("click",function(r){return $t(e),Xt(Pe(2).clear(r))}),Ee(1,Eae,1,0,null,21),_e()}if(2&n){const e=Pe(2);St("data-pc-section","clearicon"),Te(1),pe("ngTemplateOutlet",e.clearIconTemplate)}}function Tae(n,t){if(1&n&&(ni(0),Ee(1,bae,1,2,"TimesIcon",17),Ee(2,Cae,2,2,"span",18),ii()),2&n){const e=Pe();Te(1),pe("ngIf",!e.clearIconTemplate),Te(1),pe("ngIf",e.clearIconTemplate)}}function Sae(n,t){1&n&&We(0,"span",24),2&n&&pe("ngClass",Pe(2).dropdownIcon)}function Dae(n,t){1&n&&We(0,"ChevronDownIcon",25),2&n&&pe("styleClass","p-dropdown-trigger-icon")}function Aae(n,t){if(1&n&&(ni(0),Ee(1,Sae,1,1,"span",22),Ee(2,Dae,1,1,"ChevronDownIcon",23),ii()),2&n){const e=Pe();Te(1),pe("ngIf",e.dropdownIcon),Te(1),pe("ngIf",!e.dropdownIcon)}}function xae(n,t){}function Rae(n,t){1&n&&Ee(0,xae,0,0,"ng-template")}function Pae(n,t){if(1&n&&(me(0,"span",26),Ee(1,Rae,1,0,null,21),_e()),2&n){const e=Pe();Te(1),pe("ngTemplateOutlet",e.dropdownIconTemplate)}}function Oae(n,t){1&n&&Di(0)}function Mae(n,t){1&n&&Di(0)}const s4=function(n){return{options:n}};function Nae(n,t){if(1&n&&(ni(0),Ee(1,Mae,1,0,"ng-container",13),ii()),2&n){const e=Pe(3);Te(1),pe("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",di(2,s4,e.filterOptions))}}function kae(n,t){1&n&&We(0,"SearchIcon",25),2&n&&pe("styleClass","p-dropdown-filter-icon")}function Fae(n,t){}function Lae(n,t){1&n&&Ee(0,Fae,0,0,"ng-template")}function Vae(n,t){if(1&n&&(me(0,"span",41),Ee(1,Lae,1,0,null,21),_e()),2&n){const e=Pe(4);Te(1),pe("ngTemplateOutlet",e.filterIconTemplate)}}function Bae(n,t){if(1&n){const e=Ai();me(0,"div",37)(1,"input",38,39),Dt("input",function(r){return $t(e),Xt(Pe(3).onFilterInputChange(r))})("keydown",function(r){return $t(e),Xt(Pe(3).onFilterKeyDown(r))})("blur",function(r){return $t(e),Xt(Pe(3).onFilterBlur(r))}),_e(),Ee(3,kae,1,1,"SearchIcon",23),Ee(4,Vae,2,1,"span",40),_e()}if(2&n){const e=Pe(3);Te(1),pe("value",e._filterValue()||""),St("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),Te(2),pe("ngIf",!e.filterIconTemplate),Te(1),pe("ngIf",e.filterIconTemplate)}}function Uae(n,t){if(1&n&&(me(0,"div",35),Dt("click",function(i){return i.stopPropagation()}),Ee(1,Nae,2,4,"ng-container",12),Ee(2,Bae,5,7,"ng-template",null,36,_l),_e()),2&n){const e=Ca(3),i=Pe(2);Te(1),pe("ngIf",i.filterTemplate)("ngIfElse",e)}}function Hae(n,t){1&n&&Di(0)}const o4=function(n,t){return{$implicit:n,options:t}};function jae(n,t){if(1&n&&Ee(0,Hae,1,0,"ng-container",13),2&n){const e=t.$implicit,i=t.options;Pe(2),pe("ngTemplateOutlet",Ca(9))("ngTemplateOutletContext",go(2,o4,e,i))}}function zae(n,t){1&n&&Di(0)}function $ae(n,t){if(1&n&&Ee(0,zae,1,0,"ng-container",13),2&n){const e=t.options;pe("ngTemplateOutlet",Pe(4).loaderTemplate)("ngTemplateOutletContext",di(2,s4,e))}}function Wae(n,t){1&n&&(ni(0),Ee(1,$ae,1,4,"ng-template",44),ii())}function qae(n,t){if(1&n){const e=Ai();me(0,"p-scroller",42,43),Dt("onLazyLoad",function(r){return $t(e),Xt(Pe(2).onLazyLoad.emit(r))}),Ee(2,jae,1,5,"ng-template",9),Ee(3,Wae,2,0,"ng-container",4),_e()}if(2&n){const e=Pe(2);Ws(di(8,gm,e.scrollHeight)),pe("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),Te(3),pe("ngIf",e.loaderTemplate)}}function Gae(n,t){1&n&&Di(0)}const Kae=function(){return{}};function Zae(n,t){if(1&n&&(ni(0),Ee(1,Gae,1,0,"ng-container",13),ii()),2&n){Pe();const e=Ca(9),i=Pe();Te(1),pe("ngTemplateOutlet",e)("ngTemplateOutletContext",go(3,o4,i.visibleOptions(),My(2,Kae)))}}function Qae(n,t){if(1&n&&(me(0,"span"),rt(1),_e()),2&n){const e=Pe(2).$implicit,i=Pe(3);Te(1),Bc(i.getOptionGroupLabel(e.optionGroup))}}function Yae(n,t){1&n&&Di(0)}function Jae(n,t){if(1&n&&(ni(0),me(1,"li",49),Ee(2,Qae,2,1,"span",4),Ee(3,Yae,1,0,"ng-container",13),_e(),ii()),2&n){const e=Pe(),i=e.index,r=e.$implicit,s=Pe().options,o=Pe(2);Te(1),pe("ngStyle",di(5,gm,s.itemSize+"px")),St("id",o.id+"_"+o.getOptionIndex(i,s)),Te(1),pe("ngIf",!o.groupTemplate),Te(1),pe("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",di(7,DA,r.optionGroup))}}function Xae(n,t){if(1&n){const e=Ai();ni(0),me(1,"p-dropdownItem",50),Dt("onClick",function(r){$t(e);const s=Pe().$implicit;return Xt(Pe(3).onOptionSelect(r,s))})("onMouseEnter",function(r){$t(e);const s=Pe().index,o=Pe().options,a=Pe(2);return Xt(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),_e(),ii()}if(2&n){const e=Pe(),i=e.index,r=e.$implicit,s=Pe().options,o=Pe(2);Te(1),pe("id",o.id+"_"+o.getOptionIndex(i,s))("option",r)("selected",o.isSelected(r))("label",o.getOptionLabel(r))("disabled",o.isOptionDisabled(r))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(i,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(i,s)))("ariaSetSize",o.ariaSetSize)}}function ele(n,t){if(1&n&&(Ee(0,Jae,4,9,"ng-container",4),Ee(1,Xae,2,9,"ng-container",4)),2&n){const e=t.$implicit;pe("ngIf",e.group),Te(1),pe("ngIf",!e.group)}}function tle(n,t){if(1&n&&(ni(0),rt(1),ii()),2&n){const e=Pe(4);Te(1),Uc(" ",e.emptyFilterMessageLabel," ")}}function nle(n,t){1&n&&Di(0,null,52)}function ile(n,t){if(1&n&&(me(0,"li",51),Ee(1,tle,2,1,"ng-container",12),Ee(2,nle,2,0,"ng-container",21),_e()),2&n){const e=Pe().options,i=Pe(2);pe("ngStyle",di(4,gm,e.itemSize+"px")),Te(1),pe("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),Te(1),pe("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function rle(n,t){if(1&n&&(ni(0),rt(1),ii()),2&n){const e=Pe(4);Te(1),Uc(" ",e.emptyMessageLabel," ")}}function sle(n,t){1&n&&Di(0,null,53)}function ole(n,t){if(1&n&&(me(0,"li",51),Ee(1,rle,2,1,"ng-container",12),Ee(2,sle,2,0,"ng-container",21),_e()),2&n){const e=Pe().options,i=Pe(2);pe("ngStyle",di(4,gm,e.itemSize+"px")),Te(1),pe("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),Te(1),pe("ngTemplateOutlet",i.emptyTemplate)}}function ale(n,t){if(1&n&&(me(0,"ul",45,46),Ee(2,ele,2,2,"ng-template",47),Ee(3,ile,3,6,"li",48),Ee(4,ole,3,6,"li",48),_e()),2&n){const e=t.$implicit,i=t.options,r=Pe(2);Ws(i.contentStyle),pe("ngClass",i.contentStyleClass),St("id",r.id+"_list"),Te(2),pe("ngForOf",e),Te(1),pe("ngIf",r.filterValue&&r.isEmpty()),Te(1),pe("ngIf",!r.filterValue&&r.isEmpty())}}function lle(n,t){1&n&&Di(0)}function cle(n,t){if(1&n){const e=Ai();me(0,"div",27)(1,"span",28,29),Dt("focus",function(r){return $t(e),Xt(Pe().onFirstHiddenFocus(r))}),_e(),Ee(3,Oae,1,0,"ng-container",21),Ee(4,Uae,4,2,"div",30),me(5,"div",31),Ee(6,qae,4,10,"p-scroller",32),Ee(7,Zae,2,6,"ng-container",4),Ee(8,ale,5,7,"ng-template",null,33,_l),_e(),Ee(10,lle,1,0,"ng-container",21),me(11,"span",28,34),Dt("focus",function(r){return $t(e),Xt(Pe().onLastHiddenFocus(r))}),_e()()}if(2&n){const e=Pe();dr(e.panelStyleClass),pe("ngClass","p-dropdown-panel p-component")("ngStyle",e.panelStyle),Te(1),St("aria-hidden",!0)("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),Te(2),pe("ngTemplateOutlet",e.headerTemplate),Te(1),pe("ngIf",e.filter),Te(1),J0("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),Te(1),pe("ngIf",e.virtualScroll),Te(1),pe("ngIf",!e.virtualScroll),Te(3),pe("ngTemplateOutlet",e.footerTemplate),Te(1),St("aria-hidden",!0)("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}const ule={provide:Xs,useExisting:rn(()=>a4),multi:!0};let dle=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;onClick=new at;onMouseEnter=new at;ngOnInit(){}onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=pn({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:"selected",focused:"focused",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template"},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},decls:3,vars:21,consts:[["role","option","pRipple","",3,"id","ngStyle","ngClass","click","mouseenter"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){1&i&&(me(0,"li",0),Dt("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),Ee(1,iae,2,1,"span",1),Ee(2,rae,1,0,"ng-container",2),_e()),2&i&&(pe("id",r.id)("ngStyle",di(13,gm,r.itemSize+"px"))("ngClass",Ny(15,sae,r.selected,r.disabled,r.focused)),St("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),Te(1),pe("ngIf",!r.template),Te(1),pe("ngTemplateOutlet",r.template)("ngTemplateOutletContext",di(19,DA,r.option)))},dependencies:[Ra,_o,Il,Gc,rL],encapsulation:2})}return n})(),a4=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;placeholder;filterPlaceholder;filterLocale;inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;dropdownIcon;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){this._filterValue.set(e)}get options(){return this._options()}set options(e){this._options.set(e)}onChange=new at;onFilter=new at;onFocus=new at;onBlur=new at;onClick=new at;onShow=new at;onHide=new at;onClear=new at;onLazyLoad=new at;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=vc(null);modelValue=vc(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=vc(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=vc(-1);labelId;listId;get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(eL.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(eL.EMPTY_FILTER_MESSAGE)}get filled(){return"string"==typeof this.modelValue()?!!this.modelValue():this.modelValue()||null!=this.modelValue()||null!=this.modelValue()}get isVisibleClearIcon(){return null!=this.modelValue()&&cn.isNotEmpty(this.modelValue())&&""!==this.modelValue()&&this.showClear&&!this.disabled}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue(),"p-inputwrapper-focus":this.focused||this.overlayVisible}}get inputClass(){const e=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder&&e===this.placeholder,"p-dropdown-label-empty":!(this.editable||this.selectedItemTemplate||e&&"p-emptylabel"!==e&&0!==e.length)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":"filled"===this.config.inputStyle,"p-ripple-disabled":!1===this.config.ripple}}visibleOptions=l_(()=>{const e=this.group?this.flatOptions(this.options):this.options||[];if(this._filterValue()){const i=this.filterBy||this.filterFields||this.optionValue?this.filterService.filter(e,this.searchFields(),this._filterValue(),this.filterMatchMode,this.filterLocale):this.options.filter(r=>-1!==r.toLowerCase().indexOf(this._filterValue().toLowerCase()));if(this.group){const s=[];return(this.options||[]).forEach(o=>{const l=this.getOptionGroupChildren(o).filter(c=>i.includes(c));l.length>0&&s.push({...o,["string"==typeof this.optionGroupChildren?this.optionGroupChildren:"items"]:[...l]})}),this.flatOptions(s)}return i}return e});label=l_(()=>{const e=this.findSelectedOptionIndex();return-1!==e?this.getOptionLabel(this.visibleOptions()[e]):this.placeholder||"p-emptylabel"});selectedOption;constructor(e,i,r,s,o,a){this.el=e,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,OR(()=>{const l=this.modelValue(),c=this.visibleOptions();l&&this.editable&&this.updateEditableLabel(),c&&cn.isNotEmpty(c)&&(this.selectedOption=c[this.findSelectedOptionIndex()])})}ngOnInit(){this.id=this.id||yg(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=xe.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&xe.scrollInView(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template}})}flatOptions(e){return(e||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});const o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&!this.modelValue()){const e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,i,r=!0,s=!1){const o=this.getOptionValue(i);this.updateModel(o,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),r&&this.hide(!0),!1===s&&this.onChange.emit({originalEvent:e,value:o})}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder&&!this.modelValue()&&!this.editable&&this.options&&this.options.length}isSelected(e){return this.isValidOption(e)&&cn.equals(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=void 0===this.getOptionLabel(this.modelValue())?this.editableInputViewChild.nativeElement.value:this.getOptionLabel(this.modelValue()))}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel?cn.resolveFieldData(e,this.optionLabel):e&&void 0!==e.label?e.label:e}getOptionValue(e){return this.optionValue?cn.resolveFieldData(e,this.optionValue):!this.optionLabel&&e&&void 0!==e.value?e.value:e}isOptionDisabled(e){return this.optionDisabled?cn.resolveFieldData(e,this.optionDisabled):!(!e||void 0===e.disabled)&&e.disabled}getOptionGroupLabel(e){return this.optionGroupLabel?cn.resolveFieldData(e,this.optionGroupLabel):e&&void 0!==e.label?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren?cn.resolveFieldData(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),"INPUT"!==e.target.tagName&&"clearicon"!==e.target.getAttribute("data-pc-section")&&!e.target.closest('[data-pc-section="clearicon"]')&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.cd.detectChanges()))}isEmpty(){return!this._options()||this._options()&&0===this._options().length}onEditableInput(e){const i=e.target.value;this.searchValue="",!this.searchOptions(e,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,e),this.onChange.emit({originalEvent:e,value:i})}show(e){this.overlayVisible=!0;const i=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),e&&xe.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if("visible"===e.toState){if(this.itemsWrapper=xe.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){const i=this.modelValue()?this.focusedOptionIndex():-1;-1!==i&&this.scroller?.scrollToIndex(i)}else{let i=xe.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}"void"===e.toState&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&xe.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;const i=-1!==this.focusedOptionIndex()?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,!1===this.overlayVisible&&this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onKeyDown(e,i){if(!this.disabled&&!this.readonly)switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&cn.isPrintableCharacter(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key))}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0)}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){const i=-1!==this.focusedOptionIndex()?this.findNextOptionIndex(this.focusedOptionIndex()):this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i),!this.overlayVisible&&this.show(),e.preventDefault()}changeFocusedOptionIndex(e,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){const r=this.visibleOptions()[i];this.onOptionSelect(e,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){if(this.itemsViewChild&&this.itemsViewChild.nativeElement){const r=xe.findSingle(this.itemsViewChild.nativeElement,`li[id="${-1!==e?`${this.id}_${e}`:this.focusedOptionId}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(-1!==e?e:this.focusedOptionIndex())},0)}}get focusedOptionId(){return-1!==this.focusedOptionIndex()?`${this.id}_${this.focusedOptionIndex()}`:null}hasSelectedOption(){return cn.isNotEmpty(this.modelValue())}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){const i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){const i=e>0?cn.findLastIndex(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return i>-1?i:e}findLastOptionIndex(){return cn.findLastIndex(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){const e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel&&e.optionGroup&&e.group}onArrowUpKey(e,i=!1){if(e.altKey&&!i){if(-1!==this.focusedOptionIndex()){const r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(),e.preventDefault()}else{const r=-1!==this.focusedOptionIndex()?this.findPrevOptionIndex(this.focusedOptionIndex()):this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show(),e.preventDefault()}}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,i=!1){i?(e.currentTarget.setSelectionRange(0,0),this.focusedOptionIndex.set(-1)):(this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show()),e.preventDefault()}onEndKey(e,i=!1){if(i){const r=e.currentTarget,s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,i=!1){!i&&this.onEnterKey(e)}onEnterKey(e){if(this.overlayVisible){if(-1!==this.focusedOptionIndex()){const i=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,i)}this.hide()}else this.onArrowDownKey(e);e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())xe.focus(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(-1!==this.focusedOptionIndex()){const r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(this.filter)}}onFirstHiddenFocus(e){const i=e.relatedTarget===this.focusInputViewChild?.nativeElement?xe.getFirstFocusableElement(this.overlayViewChild.el.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild.nativeElement;xe.focus(i)}onLastHiddenFocus(e){const i=e.relatedTarget===this.focusInputViewChild?.nativeElement?xe.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;xe.focus(i)}hasFocusableElements(){return xe.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}onBackspaceKey(e,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterFields||[this.optionLabel]}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return-1!==this.focusedOptionIndex()?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=-1===r?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),-1!==r&&(s=!0),-1===r&&-1===this.focusedOptionIndex()&&(r=this.findFirstFocusedOptionIndex()),-1!==r&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(e){let i=e.target.value?.trim();this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),this.cd.markForCheck()}applyFocus(){this.editable?xe.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():xe.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.updateEditableLabel(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e)}static \u0275fac=function(i){return new(i||n)(ie(Gn),ie(Sr),ie(Ks),ie(qt),ie(EJ),ie(Kv))};static \u0275cmp=pn({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(1&i&&Ta(s,tu,4),2&i){let o;Rn(o=Pn())&&(r.templates=o)}},viewQuery:function(i,r){if(1&i&&(xi(oae,5),xi(aae,5),xi(lae,5),xi(cae,5),xi(uae,5),xi(dae,5),xi(hae,5),xi(fae,5),xi(pae,5)),2&i){let s;Rn(s=Pn())&&(r.containerViewChild=s.first),Rn(s=Pn())&&(r.filterViewChild=s.first),Rn(s=Pn())&&(r.focusInputViewChild=s.first),Rn(s=Pn())&&(r.editableInputViewChild=s.first),Rn(s=Pn())&&(r.itemsViewChild=s.first),Rn(s=Pn())&&(r.scroller=s.first),Rn(s=Pn())&&(r.overlayViewChild=s.first),Rn(s=Pn())&&(r.firstHiddenFocusableElementOnOverlay=s.first),Rn(s=Pn())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){2&i&&Vc("p-inputwrapper-filled",r.filled)("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:"lazy",virtualScroll:"virtualScroll",virtualScrollItemSize:"virtualScrollItemSize",virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:"focusOnHover",selectOnFocus:"selectOnFocus",autoOptionFocus:"autoOptionFocus",autofocusFilter:"autofocusFilter",disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[Bn([ule])],decls:11,vars:20,consts:[[3,"ngClass","ngStyle","click"],["container",""],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],["class","p-dropdown-trigger-icon",4,"ngIf"],[3,"visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions","visibleChange","onAnimationStart","onHide"],["overlay",""],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown"],["focusInput",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["defaultPlaceholder",""],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","input","keydown","focus","blur"],["editableInput",""],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"styleClass","click"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["firstHiddenFocusableEl",""],["class","p-dropdown-header",3,"click",4,"ngIf"],[1,"p-dropdown-items-wrapper"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],["buildInItems",""],["lastHiddenFocusableEl",""],[1,"p-dropdown-header",3,"click"],["builtInFilterElement",""],[1,"p-dropdown-filter-container"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","input","keydown","blur"],["filter",""],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"items","itemSize","autoSize","lazy","options","onLazyLoad"],["scroller",""],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["items",""],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"id","option","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize","onClick","onMouseEnter"],[1,"p-dropdown-empty-message",3,"ngStyle"],["emptyFilter",""],["empty",""]],template:function(i,r){1&i&&(me(0,"div",0,1),Dt("click",function(o){return r.onContainerClick(o)}),Ee(2,vae,6,21,"span",2),Ee(3,Iae,2,5,"input",3),Ee(4,Tae,3,2,"ng-container",4),me(5,"div",5),Ee(6,Aae,3,2,"ng-container",4),Ee(7,Pae,2,1,"span",6),_e(),me(8,"p-overlay",7,8),Dt("visibleChange",function(o){return r.overlayVisible=o})("onAnimationStart",function(o){return r.onOverlayAnimationStart(o)})("onHide",function(){return r.hide()}),Ee(10,cle,13,19,"ng-template",9),_e()()),2&i&&(dr(r.styleClass),pe("ngClass",r.containerClass)("ngStyle",r.style),St("id",r.id),Te(2),pe("ngIf",!r.editable),Te(1),pe("ngIf",r.editable),Te(1),pe("ngIf",r.isVisibleClearIcon),Te(1),St("aria-expanded",r.overlayVisible)("data-pc-section","trigger"),Te(1),pe("ngIf",!r.dropdownIconTemplate),Te(1),pe("ngIf",r.dropdownIconTemplate),Te(1),pe("visible",r.overlayVisible)("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions))},dependencies:function(){return[Ra,qc,_o,Il,Gc,JU,tu,sL,nae,foe,Zv,n4,r4,dle]},styles:["@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}}\n"],encapsulation:2,changeDetection:0})}return n})(),hle=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs,XU,Js,Yv,Qv,t4,poe,Zv,n4,r4,XU,Js,t4]})}return n})();function fle(n,t){if(1&n){const e=Ai();me(0,"div",1)(1,"form",2),Dt("ngSubmit",function(){return $t(e),Xt(Pe().submitProject())}),me(2,"button",3),rt(3,"Back"),_e(),me(4,"div",4)(5,"label",5),rt(6,"Project Name"),_e(),We(7,"input",6),_e(),me(8,"div",4)(9,"label",7),rt(10,"Description"),_e(),We(11,"textarea",8),_e(),me(12,"div",4)(13,"label",9),rt(14,"Image Path"),_e(),We(15,"input",10),_e(),me(16,"div",4)(17,"label",11),rt(18,"Demo URL"),_e(),We(19,"input",12),_e(),me(20,"div",4)(21,"label",13),rt(22,"Project Type"),_e(),me(23,"div",14),We(24,"p-dropdown",15),_e()(),me(25,"div",4)(26,"label",16),rt(27,"GitHub URL"),_e(),We(28,"input",17),_e(),me(29,"div",4),We(30,"button",18),_e()()()}if(2&n){const e=Pe();Te(1),pe("formGroup",e.portfolio_form),Te(23),pe("options",e.projectTypes)}}let ple=(()=>{class n{constructor(e){this.fireStore=e,this.projectTypes=[{label:"Frontend",value:"front"},{label:"Backend",value:"back"},{label:"Full Stack",value:""}],this.project_name=new Zl("",af.required),this.description=new Zl("",af.required),this.image=new Zl("",af.required),this.demo_url=new Zl("",af.required),this.type=new Zl("",af.required),this.github_url=new Zl("",af.required),this.portfolio_form=new lb({project_name:this.project_name,image:this.image,demo_url:this.demo_url,type:this.type,github_url:this.github_url,description:this.description})}submitProject(){var e=this;return(0,Ce.Z)(function*(){if(e.portfolio_form.valid){const i=e.portfolio_form.value;try{yield e.fireStore.collection("portfolio").add(i),console.log("submitted"),e.portfolio_form.reset()}catch{console.log("error")}}})()}static#e=this.\u0275fac=function(i){return new(i||n)(ie(YU))};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-add-projects"]],decls:1,vars:1,consts:[["class","flex justify-content-center align-items-center min-h-screen",4,"ngIf"],[1,"flex","justify-content-center","align-items-center","min-h-screen"],[1,"p-fluid","surface-card","p-12","border-round","shadow-2","w-full","md:w-6",3,"formGroup","ngSubmit"],["routerLink","","pButton","","severity","warn",1,"w-2","justify-content-center","mt-3","mx-2","text-center","text-black","bg-yellow-500","rounded-md","text-center"],[1,"field","col-12"],["for","project_name"],["pInputText","","id","project_name","formControlName","project_name","placeholder","Enter project name"],["for","description"],["pInputTextarea","","id","description","formControlName","description","rows","12","placeholder","Enter project description"],["for","image"],["pInputText","","id","image","formControlName","image","placeholder","e.g., ../../assets/imgs/example.png"],["for","demo_url"],["pInputText","","id","demo_url","formControlName","demo_url","placeholder","https://your-demo-url.com"],["for","projectType"],[1,"col-12"],["id","projectType","formControlName","type","placeholder","Select type","optionLabel","label",1,"w-full",3,"options"],["for","github_url"],["pInputText","","id","github_url","formControlName","github_url","placeholder","https://github.com/your-repo"],["pButton","","type","submit","label","Submit Project",1,"p-button-success","w-full","text-white","mb-5","rounded-md"]],template:function(i,r){1&i&&Ee(0,fle,31,2,"div",0),2&i&&pe("ngIf",r.portfolio_form)},dependencies:[_o,zv,aU,nb,G3,K3,gb,fA,aoe,coe,doe,a4]})}return n})();const gle=function(){return["MEAN STACK Developer"]};let mle=(()=>{class n{constructor(){this.link="https://mustedueg-my.sharepoint.com/:b:/g/personal/77874_must_edu_eg/EZfPiKk9BVRPtTfrntmmsokBd-wPRRgfFXb85BoYHF5Ovw?e=7M4k1D"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-home"]],decls:37,vars:7,consts:[["id","home",1,"home"],[1,"hero-info"],[3,"loop","showCursor","strings","typeSpeed","classList"],[1,"typing"],[1,""],[1,"btn-box"],["href","mailto:adel.berhan@gmail.com",1,"btn"],[1,"bx","bx-right-arrow-alt"],["target","_blank",1,"btn","d-CV",3,"href"],[1,"bx","bx-download"],[1,"social-media"],[1,"bg-icon"],["href","https://www.linkedin.com/in/adel-burhan-2622a6211/","target","_blank"],[1,"bx","bxl-linkedin"],["href","https://github.com/adelberhan","target","_blank"],[1,"bx","bxl-github"],["href","https://www.facebook.com/adel.mohamedberhan/","target","_blank"],[1,"bx","bxl-facebook"],[1,"img-hero"],["src","../../assets/img/hero.png","alt",""],[1,"rotate-text"],[1,"text"]],template:function(i,r){1&i&&(me(0,"section",0)(1,"div",1)(2,"h3"),rt(3,"Welcome To my World"),_e(),me(4,"h1"),rt(5,"Hi I'm Adel"),_e(),me(6,"ngx-typed-js",2),We(7,"h1",3),_e(),We(8,"div",4),me(9,"p"),rt(10," I am in love with front-end web development. I am a fast learner and Passionate for learning new technologies. I aim to learn professional processes of software development and work with a team according to structured standards in a productive environment. "),_e(),me(11,"div",5)(12,"a",6),rt(13,"Hire Me Now ! "),We(14,"i",7),_e(),me(15,"a",8),rt(16,"Download CV "),We(17,"i",9),_e()(),me(18,"div",10)(19,"div",11)(20,"a",12),We(21,"i",13),_e(),We(22,"span"),_e(),me(23,"div",11)(24,"a",14),We(25,"i",15),_e(),We(26,"span"),_e(),me(27,"div",11)(28,"a",16),We(29,"i",17),_e(),We(30,"span"),_e()()(),me(31,"div",18),We(32,"img",19),me(33,"div",20),We(34,"div",21),me(35,"span"),We(36,"i"),_e()()()()),2&i&&(Te(6),pe("loop",!0)("showCursor",!0)("strings",My(6,gle))("typeSpeed",150)("classList","text-ani"),Te(9),pe("href",r.link,Oc))},dependencies:[vJ],styles:["p[_ngcontent-%COMP%]:hover{color:#000}.text-ani[_ngcontent-%COMP%], .typing[_ngcontent-%COMP%]{font-size:2rem!important;font-weight:700;margin-bottom:1rem;background-image:linear-gradient(to right,#3ab5b0 0%,#3d99be 31%,#56317a 100%)!important;-webkit-background-clip:text;color:transparent!important;display:inline}"]})}return n})();var l4={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},AA={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},_le=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ib={CSS:{},springs:{}};function oa(n,t,e){return Math.min(Math.max(n,t),e)}function mm(n,t){return n.indexOf(t)>-1}function xA(n,t){return n.apply(null,t)}var It={arr:function(n){return Array.isArray(n)},obj:function(n){return mm(Object.prototype.toString.call(n),"Object")},pth:function(n){return It.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||It.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return typeof n>"u"},nil:function(n){return It.und(n)||null===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return It.hex(n)||It.rgb(n)||It.hsl(n)},key:function(n){return!l4.hasOwnProperty(n)&&!AA.hasOwnProperty(n)&&"targets"!==n&&"keyframes"!==n}};function c4(n){var t=/\(([^)]+)\)/.exec(n);return t?t[1].split(",").map(function(e){return parseFloat(e)}):[]}function u4(n,t){var e=c4(n),i=oa(It.und(e[0])?1:e[0],.1,100),r=oa(It.und(e[1])?100:e[1],.1,100),s=oa(It.und(e[2])?10:e[2],.1,100),o=oa(It.und(e[3])?0:e[3],.1,100),a=Math.sqrt(r/i),l=s/(2*Math.sqrt(r*i)),c=l<1?a*Math.sqrt(1-l*l):0,_=l<1?(l*a-o)/c:-o+a;function b(P){var N=t?t*P/1e3:P;return N=l<1?Math.exp(-N*l*a)*(1*Math.cos(c*N)+_*Math.sin(c*N)):(1+_*N)*Math.exp(-N*a),0===P||1===P?P:1-N}return t?b:function T(){var P=Ib.springs[n];if(P)return P;for(var N=1/6,L=0,W=0;;)if(1===b(L+=N)){if(++W>=16)break}else W=0;var H=L*N*1e3;return Ib.springs[n]=H,H}}function yle(n){return void 0===n&&(n=10),function(t){return Math.ceil(oa(t,1e-6,1)*n)*(1/n)}}var n,t,vle=function(){var t=.1;function e(p,_){return 1-3*_+3*p}function i(p,_){return 3*_-6*p}function r(p){return 3*p}function s(p,_,b){return((e(_,b)*p+i(_,b))*p+r(_))*p}function o(p,_,b){return 3*e(_,b)*p*p+2*i(_,b)*p+r(_)}return function c(p,_,b,T){if(0<=p&&p<=1&&0<=b&&b<=1){var P=new Float32Array(11);if(p!==_||b!==T)for(var N=0;N<11;++N)P[N]=s(N*t,p,b);return function(W){return p===_&&b===T||0===W||1===W?W:s(function L(W){for(var H=0,q=1;10!==q&&P[q]<=W;++q)H+=t;--q;var Ve=H+(W-P[q])/(P[q+1]-P[q])*t,j=o(Ve,p,b);return j>=.001?function l(p,_,b,T){for(var P=0;P<4;++P){var N=o(_,b,T);if(0===N)return _;_-=(s(_,b,T)-p)/N}return _}(W,Ve,p,b):0===j?Ve:function a(p,_,b,T,P){var N,L,W=0;do{(N=s(L=_+(b-_)/2,T,P)-p)>0?b=L:_=L}while(Math.abs(N)>1e-7&&++W<10);return L}(W,H,H+t,p,b)}(W),_,T)}}}}(),d4=(n={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Expo:function(){return function(i){return i?Math.pow(2,10*i-10):0}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,s=4;i<((r=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((3*r-2)/22-i,2)}},Elastic:function(i,r){void 0===i&&(i=1),void 0===r&&(r=.5);var s=oa(i,1,10),o=oa(r,.1,2);return function(a){return 0===a||1===a?a:-s*Math.pow(2,10*(a-1))*Math.sin((a-1-o/(2*Math.PI)*Math.asin(1/s))*(2*Math.PI)/o)}}},["Quad","Cubic","Quart","Quint"].forEach(function(i,r){t[i]=function(){return function(s){return Math.pow(s,r+2)}}}),Object.keys(t).forEach(function(i){var r=t[i];n["easeIn"+i]=r,n["easeOut"+i]=function(s,o){return function(a){return 1-r(s,o)(1-a)}},n["easeInOut"+i]=function(s,o){return function(a){return a<.5?r(s,o)(2*a)/2:1-r(s,o)(-2*a+2)/2}},n["easeOutIn"+i]=function(s,o){return function(a){return a<.5?(1-r(s,o)(1-2*a))/2:(r(s,o)(2*a-1)+1)/2}}}),n);function RA(n,t){if(It.fnc(n))return n;var e=n.split("(")[0],i=d4[e],r=c4(n);switch(e){case"spring":return u4(n,t);case"cubicBezier":return xA(vle,r);case"steps":return xA(yle,r);default:return xA(i,r)}}function h4(n){try{return document.querySelectorAll(n)}catch{return}}function bb(n,t){for(var e=n.length,i=arguments.length>=2?arguments[1]:void 0,r=[],s=0;s<e;s++)if(s in n){var o=n[s];t.call(i,o,s,n)&&r.push(o)}return r}function wb(n){return n.reduce(function(t,e){return t.concat(It.arr(e)?wb(e):e)},[])}function f4(n){return It.arr(n)?n:(It.str(n)&&(n=h4(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function PA(n,t){return n.some(function(e){return e===t})}function OA(n){var t={};for(var e in n)t[e]=n[e];return t}function MA(n,t){var e=OA(n);for(var i in n)e[i]=t.hasOwnProperty(i)?t[i]:n[i];return e}function Eb(n,t){var e=OA(n);for(var i in t)e[i]=It.und(n[i])?t[i]:n[i];return e}function Ka(n){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(t)return t[1]}function NA(n,t){return It.fnc(n)?n(t.target,t.id,t.total):n}function aa(n,t){return n.getAttribute(t)}function kA(n,t,e){if(PA([e,"deg","rad","turn"],Ka(t)))return t;var r=Ib.CSS[t+e];if(!It.und(r))return r;var o=document.createElement(n.tagName),a=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;a.appendChild(o),o.style.position="absolute",o.style.width=100+e;var l=100/o.offsetWidth;a.removeChild(o);var c=l*parseFloat(t);return Ib.CSS[t+e]=c,c}function p4(n,t,e){if(t in n.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=n.style[t]||getComputedStyle(n).getPropertyValue(i)||"0";return e?kA(n,r,e):r}}function FA(n,t){return It.dom(n)&&!It.inp(n)&&(!It.nil(aa(n,t))||It.svg(n)&&n[t])?"attribute":It.dom(n)&&PA(_le,t)?"transform":It.dom(n)&&"transform"!==t&&p4(n,t)?"css":null!=n[t]?"object":void 0}function g4(n){if(It.dom(n)){for(var r,t=n.style.transform||"",e=/(\w+)\(([^)]*)\)/g,i=new Map;r=e.exec(t);)i.set(r[1],r[2]);return i}}function LA(n,t,e,i){switch(FA(n,t)){case"transform":return function Tle(n,t,e,i){var r=mm(t,"scale")?1:0+function Cle(n){return mm(n,"translate")||"perspective"===n?"px":mm(n,"rotate")||mm(n,"skew")?"deg":void 0}(t),s=g4(n).get(t)||r;return e&&(e.transforms.list.set(t,s),e.transforms.last=t),i?kA(n,s,i):s}(n,t,i,e);case"css":return p4(n,t,e);case"attribute":return aa(n,t);default:return n[t]||0}}function VA(n,t){var e=/^(\*=|\+=|-=)/.exec(n);if(!e)return n;var i=Ka(n)||0,r=parseFloat(t),s=parseFloat(n.replace(e[0],""));switch(e[0][0]){case"+":return r+s+i;case"-":return r-s+i;case"*":return r*s+i}}function m4(n,t){if(It.col(n))return function Ele(n){return It.rgb(n)?function Ile(n){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);return t?"rgba("+t[1]+",1)":n}(n):It.hex(n)?function ble(n){var e=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,l,c,p){return l+l+c+c+p+p}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+",1)"}(n):It.hsl(n)?function wle(n){var a,l,c,t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),e=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,s=t[4]||1;function o(b,T,P){return P<0&&(P+=1),P>1&&(P-=1),P<1/6?b+6*(T-b)*P:P<.5?T:P<2/3?b+(T-b)*(2/3-P)*6:b}if(0==i)a=l=c=r;else{var p=r<.5?r*(1+i):r+i-r*i,_=2*r-p;a=o(_,p,e+1/3),l=o(_,p,e),c=o(_,p,e-1/3)}return"rgba("+255*a+","+255*l+","+255*c+","+s+")"}(n):void 0}(n);if(/\s/g.test(n))return n;var e=Ka(n),i=e?n.substr(0,n.length-e.length):n;return t?i+t:i}function BA(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function _4(n){for(var i,t=n.points,e=0,r=0;r<t.numberOfItems;r++){var s=t.getItem(r);r>0&&(e+=BA(i,s)),i=s}return e}function y4(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return function Sle(n){return 2*Math.PI*aa(n,"r")}(n);case"rect":return function Dle(n){return 2*aa(n,"width")+2*aa(n,"height")}(n);case"line":return function Ale(n){return BA({x:aa(n,"x1"),y:aa(n,"y1")},{x:aa(n,"x2"),y:aa(n,"y2")})}(n);case"polyline":return _4(n);case"polygon":return function xle(n){var t=n.points;return _4(n)+BA(t.getItem(t.numberOfItems-1),t.getItem(0))}(n)}}function v4(n,t){var e=t||{},i=e.el||function Ple(n){for(var t=n.parentNode;It.svg(t)&&It.svg(t.parentNode);)t=t.parentNode;return t}(n),r=i.getBoundingClientRect(),s=aa(i,"viewBox"),o=r.width,a=r.height,l=e.viewBox||(s?s.split(" "):[0,0,o,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:o,h:a,vW:l[2],vH:l[3]}}function Mle(n,t,e){function i(p){return void 0===p&&(p=0),n.el.getPointAtLength(t+p>=1?t+p:0)}var r=v4(n.el,n.svg),s=i(),o=i(-1),a=i(1),l=e?1:r.w/r.vW,c=e?1:r.h/r.vH;switch(n.property){case"x":return(s.x-r.x)*l;case"y":return(s.y-r.y)*c;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}function I4(n,t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=m4(It.pth(n)?n.totalLength:n,t)+"";return{original:i,numbers:i.match(e)?i.match(e).map(Number):[0],strings:It.str(n)||t?i.split(e):[]}}function UA(n){return bb(n?wb(It.arr(n)?n.map(f4):f4(n)):[],function(e,i,r){return r.indexOf(e)===i})}function b4(n){var t=UA(n);return t.map(function(e,i){return{target:e,id:i,total:t.length,transforms:{list:g4(e)}}})}function Nle(n,t){var e=OA(t);if(/^spring/.test(e.easing)&&(e.duration=u4(e.easing)),It.arr(n)){var i=n.length;2!==i||It.obj(n[0])?It.fnc(t.duration)||(e.duration=t.duration/i):n={value:n}}var s=It.arr(n)?n:[n];return s.map(function(o,a){var l=It.obj(o)&&!It.pth(o)?o:{value:o};return It.und(l.delay)&&(l.delay=a?0:t.delay),It.und(l.endDelay)&&(l.endDelay=a===s.length-1?t.endDelay:0),l}).map(function(o){return Eb(o,e)})}var w4={css:function(n,t,e){return n.style[t]=e},attribute:function(n,t,e){return n.setAttribute(t,e)},object:function(n,t,e){return n[t]=e},transform:function(n,t,e,i,r){if(i.list.set(t,e),t===i.last||r){var s="";i.list.forEach(function(o,a){s+=a+"("+o+") "}),n.style.transform=s}}};function E4(n,t){b4(n).forEach(function(i){for(var r in t){var s=NA(t[r],i),o=i.target,a=Ka(s),l=LA(o,r,a,i),p=VA(m4(s,a||Ka(l)),l),_=FA(o,r);w4[_](o,r,p,i.transforms,!0)}})}function Ule(n,t){return bb(wb(n.map(function(e){return t.map(function(i){return function Ble(n,t){var e=FA(n.target,t.name);if(e){var i=function Vle(n,t){var e;return n.tweens.map(function(i){var r=function Lle(n,t){var e={};for(var i in n){var r=NA(n[i],t);It.arr(r)&&1===(r=r.map(function(s){return NA(s,t)})).length&&(r=r[0]),e[i]=r}return e.duration=parseFloat(e.duration),e.delay=parseFloat(e.delay),e}(i,t),s=r.value,o=It.arr(s)?s[1]:s,a=Ka(o),l=LA(t.target,n.name,a,t),c=e?e.to.original:l,p=It.arr(s)?s[0]:c,_=Ka(p)||Ka(l),b=a||_;return It.und(o)&&(o=c),r.from=I4(p,b),r.to=I4(VA(o,p),b),r.start=e?e.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=RA(r.easing,r.duration),r.isPath=It.pth(s),r.isPathTargetInsideSVG=r.isPath&&It.svg(t.target),r.isColor=It.col(r.from.original),r.isColor&&(r.round=1),e=r,r})}(t,n),r=i[i.length-1];return{type:e,property:t.name,animatable:n,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}(e,i)})})),function(e){return!It.und(e)})}function C4(n,t){var e=n.length,i=function(s){return s.timelineOffset?s.timelineOffset:0},r={};return r.duration=e?Math.max.apply(Math,n.map(function(s){return i(s)+s.duration})):t.duration,r.delay=e?Math.min.apply(Math,n.map(function(s){return i(s)+s.delay})):t.delay,r.endDelay=e?r.duration-Math.max.apply(Math,n.map(function(s){return i(s)+s.duration-s.endDelay})):t.endDelay,r}var T4=0,Eo=[],S4=function(){var n;function e(r){for(var s=Eo.length,o=0;o<s;){var a=Eo[o];a.paused?(Eo.splice(o,1),s--):(a.tick(r),o++)}n=o>0?requestAnimationFrame(e):void 0}return typeof document<"u"&&document.addEventListener("visibilitychange",function i(){Ei.suspendWhenDocumentHidden&&(D4()?n=cancelAnimationFrame(n):(Eo.forEach(function(r){return r._onDocumentVisibility()}),S4()))}),function t(){!n&&(!D4()||!Ei.suspendWhenDocumentHidden)&&Eo.length>0&&(n=requestAnimationFrame(e))}}();function D4(){return!!document&&document.hidden}function Ei(n){void 0===n&&(n={});var r,t=0,e=0,i=0,s=0,o=null;function a(q){var ee=window.Promise&&new Promise(function(Ae){return o=Ae});return q.finished=ee,ee}var l=function Hle(n){var t=MA(l4,n),e=MA(AA,n),i=function Fle(n,t){var e=[],i=t.keyframes;for(var r in i&&(t=Eb(function kle(n){for(var t=bb(wb(n.map(function(s){return Object.keys(s)})),function(s){return It.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),e={},i=function(s){var o=t[s];e[o]=n.map(function(a){var l={};for(var c in a)It.key(c)?c==o&&(l.value=a[c]):l[c]=a[c];return l})},r=0;r<t.length;r++)i(r);return e}(i),t)),t)It.key(r)&&e.push({name:r,tweens:Nle(t[r],n)});return e}(e,n),r=b4(n.targets),s=Ule(r,i),o=C4(s,e),a=T4;return T4++,Eb(t,{id:a,children:[],animatables:r,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}(n);function p(){var q=l.direction;"alternate"!==q&&(l.direction="normal"!==q?"normal":"reverse"),l.reversed=!l.reversed,r.forEach(function(ee){return ee.reversed=l.reversed})}function _(q){return l.reversed?l.duration-q:q}function b(){t=0,e=_(l.currentTime)*(1/Ei.speed)}function T(q,ee){ee&&ee.seek(q-ee.timelineOffset)}function N(q){for(var ee=0,Ae=l.animations,Ve=Ae.length;ee<Ve;){var j=Ae[ee],U=j.animatable,$=j.tweens,J=$.length-1,X=$[J];J&&(X=bb($,function(Co){return q<Co.end})[0]||X);for(var se=oa(q-X.start-X.delay,0,X.duration)/X.duration,z=isNaN(se)?1:X.easing(se),mr=X.to.strings,to=X.round,nt=[],ct=X.to.numbers.length,lt=void 0,Bt=0;Bt<ct;Bt++){var jn=void 0,Qr=X.to.numbers[Bt],ai=X.from.numbers[Bt]||0;jn=X.isPath?Mle(X.value,z*Qr,X.isPathTargetInsideSVG):ai+z*(Qr-ai),to&&(X.isColor&&Bt>2||(jn=Math.round(jn*to)/to)),nt.push(jn)}var Ln=mr.length;if(Ln){lt=mr[0];for(var En=0;En<Ln;En++){var df=mr[En+1],Yn=nt[En];isNaN(Yn)||(lt+=df?Yn+df:Yn+" ")}}else lt=nt[0];w4[j.type](U.target,j.property,lt,U.transforms),j.currentValue=lt,ee++}}function L(q){l[q]&&!l.passThrough&&l[q](l)}function H(q){var ee=l.duration,Ae=l.delay,Ve=ee-l.endDelay,j=_(q);l.progress=oa(j/ee*100,0,100),l.reversePlayback=j<l.currentTime,r&&function P(q){if(l.reversePlayback)for(var Ae=s;Ae--;)T(q,r[Ae]);else for(var ee=0;ee<s;ee++)T(q,r[ee])}(j),!l.began&&l.currentTime>0&&(l.began=!0,L("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,L("loopBegin")),j<=Ae&&0!==l.currentTime&&N(0),(j>=Ve&&l.currentTime!==ee||!ee)&&N(ee),j>Ae&&j<Ve?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,L("changeBegin")),L("change"),N(j)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,L("changeComplete")),l.currentTime=oa(j,0,ee),l.began&&L("update"),q>=ee&&(e=0,function W(){l.remaining&&!0!==l.remaining&&l.remaining--}(),l.remaining?(t=i,L("loopComplete"),l.loopBegan=!1,"alternate"===l.direction&&p()):(l.paused=!0,l.completed||(l.completed=!0,L("loopComplete"),L("complete"),!l.passThrough&&"Promise"in window&&(o(),a(l)))))}return a(l),l.reset=function(){var q=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed="reverse"===q,l.remaining=l.loop;for(var ee=s=(r=l.children).length;ee--;)l.children[ee].reset();(l.reversed&&!0!==l.loop||"alternate"===q&&1===l.loop)&&l.remaining++,N(l.reversed?l.duration:0)},l._onDocumentVisibility=b,l.set=function(q,ee){return E4(q,ee),l},l.tick=function(q){i=q,t||(t=i),H((i+(e-t))*Ei.speed)},l.seek=function(q){H(_(q))},l.pause=function(){l.paused=!0,b()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Eo.push(l),b(),S4())},l.reverse=function(){p(),l.completed=!l.reversed,b()},l.restart=function(){l.reset(),l.play()},l.remove=function(q){x4(UA(q),l)},l.reset(),l.autoplay&&l.play(),l}function A4(n,t){for(var e=t.length;e--;)PA(n,t[e].animatable.target)&&t.splice(e,1)}function x4(n,t){var e=t.animations,i=t.children;A4(n,e);for(var r=i.length;r--;){var s=i[r],o=s.animations;A4(n,o),!o.length&&!s.children.length&&i.splice(r,1)}!e.length&&!i.length&&t.pause()}Ei.version="3.2.1",Ei.speed=1,Ei.suspendWhenDocumentHidden=!0,Ei.running=Eo,Ei.remove=function jle(n){for(var t=UA(n),e=Eo.length;e--;)x4(t,Eo[e])},Ei.get=LA,Ei.set=E4,Ei.convertPx=kA,Ei.path=function Ole(n,t){var e=It.str(n)?h4(n)[0]:n,i=t||100;return function(r){return{property:r,el:e,svg:v4(e),totalLength:y4(e)*(i/100)}}},Ei.setDashoffset=function Rle(n){var t=y4(n);return n.setAttribute("stroke-dasharray",t),t},Ei.stagger=function zle(n,t){void 0===t&&(t={});var e=t.direction||"normal",i=t.easing?RA(t.easing):null,r=t.grid,s=t.axis,o=t.from||0,a="first"===o,l="center"===o,c="last"===o,p=It.arr(n),_=parseFloat(p?n[0]:n),b=p?parseFloat(n[1]):0,T=Ka(p?n[1]:n)||0,P=t.start||0+(p?_:0),N=[],L=0;return function(W,H,q){if(a&&(o=0),l&&(o=(q-1)/2),c&&(o=q-1),!N.length){for(var ee=0;ee<q;ee++){if(r){var Ae=l?(r[0]-1)/2:o%r[0],Ve=l?(r[1]-1)/2:Math.floor(o/r[0]),$=Ae-ee%r[0],J=Ve-Math.floor(ee/r[0]),X=Math.sqrt($*$+J*J);"x"===s&&(X=-$),"y"===s&&(X=-J),N.push(X)}else N.push(Math.abs(o-ee));L=Math.max.apply(Math,N)}i&&(N=N.map(function(z){return i(z/L)*L})),"reverse"===e&&(N=N.map(function(z){return s?z<0?-1*z:-z:Math.abs(L-z)}))}return P+(p?(b-_)/L:_)*(Math.round(100*N[H])/100)+T}},Ei.timeline=function $le(n){void 0===n&&(n={});var t=Ei(n);return t.duration=0,t.add=function(e,i){var r=Eo.indexOf(t),s=t.children;function o(b){b.passThrough=!0}r>-1&&Eo.splice(r,1);for(var a=0;a<s.length;a++)o(s[a]);var l=Eb(e,MA(AA,n));l.targets=l.targets||n.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=It.und(i)?c:VA(i,c),o(t),t.seek(l.timelineOffset);var p=Ei(l);o(p),s.push(p);var _=C4(s,n);return t.delay=_.delay,t.endDelay=_.endDelay,t.duration=_.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},Ei.easing=RA,Ei.penner=d4,Ei.random=function(n,t){return Math.floor(Math.random()*(t-n+1))+n};const Wle=Ei;function qle(n,t){1&n&&(We(0,"i",28),me(1,"span"),rt(2,"skills"),_e())}function Gle(n,t){1&n&&(We(0,"i",29),me(1,"span"),rt(2,"Education"),_e())}function Kle(n,t){1&n&&(We(0,"i",30),me(1,"span"),rt(2,"Work"),_e())}function Zle(n,t){1&n&&(We(0,"i",31),me(1,"span"),rt(2,"Contact"),_e())}let Qle=(()=>{class n{constructor(){this.link="https://mustedueg-my.sharepoint.com/:b:/g/personal/77874_must_edu_eg/EZfPiKk9BVRPtTfrntmmsokBd-wPRRgfFXb85BoYHF5Ovw?e=7M4k1D"}ngOnInit(){Qo.init({disable:"mobile"}),Qo.refresh(),this.animateObject()}ngAfterViewInit(){setTimeout(()=>{Qo.refresh()},500)}animateObject(){Wle({targets:[".ring",".circle"],translateY:[{value:-30,duration:2500},{value:0,duration:2500}],loop:!0,easing:"easeInOutQuad"})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-about"]],decls:74,vars:1,consts:[["id","about",1,"about"],[1,"about-img"],["data-aos","fade-down"],["src","../../assets/img/hero.png\n  ","alt","",1,"aboutHero"],[1,"showcase-ring"],["src","../../assets/shapes/ring.png",1,"ring"],["src","../../assets/shapes/ring.png",1,"circle"],["data-aos","zoom-out-right"],[1,"about-content"],[1,"heading"],["styleClass","tabview-custom "],["pTemplate","header"],[1,"title"],["header","Header II"],[1,"line"],[2,"display","inline","margin-right","30px"],[2,"display","inline"],["header","Header III"],[1,"text-box"],[1,"list-inline","list-icons"],[1,"list-inline-item"],["href","https://www.linkedin.com/in/adel-ahmed-2622a6211/","target","_blank"],[1,"devicon-linkedin-plain"],["href","https://github.com/adelberhan","target","_blank"],[1,"devicon-github-original","colored"],[1,"cvContent"],["target","_blank",1,"btn","d-CV",3,"href"],[1,"bx","bx-download"],[1,"pi","pi-sparkles",2,"background-image","linear-gradient(\n                  to right,\n                  #3ab5b0 0%,\n                  #3d99be 31%,\n                  #56317a 100%\n                )","-webkit-background-clip","text","color","transparent !important","display","inline","margin-right","5px"],[1,"pi","pi-graduation-cap",2,"background-image","linear-gradient(\n                  to right,\n                  #3ab5b0 0%,\n                  #3d99be 31%,\n                  #56317a 100%\n                )","-webkit-background-clip","text","color","transparent !important","display","inline","margin-right","5px"],[1,"pi","pi-briefcase",2,"background-image","linear-gradient(\n                  to right,\n                  #3ab5b0 0%,\n                  #3d99be 31%,\n                  #56317a 100%\n                )","-webkit-background-clip","text","color","transparent !important","display","inline","margin-right","5px"],[1,"pi","pi-address-book",2,"background-image","linear-gradient(\n                  to right,\n                  #3ab5b0 0%,\n                  #3d99be 31%,\n                  #56317a 100%\n                )","-webkit-background-clip","text","color","transparent !important","display","inline","margin-right","5px"]],template:function(i,r){1&i&&(me(0,"section",0)(1,"div",1)(2,"div",2),We(3,"img",3),_e(),me(4,"div",4),We(5,"img",5)(6,"img",6),_e()(),me(7,"div",7)(8,"div",8)(9,"h2",9),rt(10,"About Me"),_e(),me(11,"p"),rt(12," Self-motivated team player seeking opportunities in the field of Computer Science to apply my B.Sc. degree where I can further expand personal and professional experiences. "),_e(),me(13,"p-tabView",10)(14,"p-tabPanel"),Ee(15,qle,3,0,"ng-template",11),me(16,"p",12),rt(17,"Front-end"),_e(),me(18,"span"),rt(19," -Skilled in HTML, CSS, and responsive web design."),_e(),me(20,"span"),rt(21," - Capable of integrating RESTful APIs and handling data in Angular."),_e(),me(22,"span"),rt(23," - Experienced in project setup, code generation, and development with Angular CLI."),_e(),me(24,"p",12),rt(25,"Back-end"),_e(),me(26,"span"),rt(27," - Node.js: Creating high-performance server-side applications."),_e(),me(28,"span"),rt(29,"- Express: Efficiently handling HTTP requests and routing."),_e(),me(30,"span"),rt(31,"- MongoDB: Flexible NoSQL database for adaptable data structures."),_e(),me(32,"span"),rt(33," - JWT (JSON Web Tokens): Secure user authentication and session "),_e()(),me(34,"p-tabPanel",13),Ee(35,Gle,3,0,"ng-template",11),me(36,"span"),rt(37,"B.Sc. Computer Science | Misr University of Science and Technology |"),We(38,"br"),rt(39," GPA 3.45"),_e()(),me(40,"p-tabPanel",13),Ee(41,Kle,3,0,"ng-template",11),We(42,"div",14),me(43,"p",15),rt(44," Inovasys | Internship "),_e(),me(45,"p",16),rt(46,"Feb 2024 - Mar 2024 Cairo, Egypt"),_e(),me(47,"span"),rt(48,"Power platform"),We(49,"br"),rt(50," Utilized the Microsoft Power Platform extensively, including Power Automate, Power Apps, Power BI, and Power Virtual Agents, to develop innovative solutions."),_e()(),me(51,"p-tabPanel",17),Ee(52,Zle,3,0,"ng-template",11),me(53,"div",18)(54,"p"),rt(55,"E-mail"),_e(),me(56,"span"),rt(57,"adel.berhan@gmail.com"),_e()(),me(58,"div",18)(59,"p"),rt(60,"Phone"),_e(),me(61,"span"),rt(62,"01014308323"),_e()(),me(63,"ul",19)(64,"li",20)(65,"a",21),We(66,"i",22),_e()(),me(67,"li",20)(68,"a",23),We(69,"i",24),_e()()()()(),me(70,"div",25)(71,"a",26),rt(72,"Download CV "),We(73,"i",27),_e()()()()()),2&i&&(Te(71),pe("href",r.link,Oc))},dependencies:[lL,aL,tu],styles:["li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px}li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:var(--main-color);cursor:pointer}span[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]{width:400px}  .p-tabview-nav{background-color:transparent!important}  .p-element .p-ripple .p-tabview-nav-link{background-color:#e3edf7}  .p-tabview .p-tabview-nav li .p-tabview-nav-link{background-color:#e3edf7}  .p-tabview-nav{justify-content:space-between;padding:0}  span.ng-star-inserted{font-size:1.2rem}  .p-tabview .p-tabview-nav li .p-tabview-nav-link{background-color:transparent}  .p-tabview-panels{background-color:#e3edf7}.title[_ngcontent-%COMP%]{margin:5px;font-weight:500;font-size:1.3rem}p[_ngcontent-%COMP%]:hover{color:#000}"]})}return n})();function Yle(n,t){1&n&&We(0,"i",13)}function Jle(n,t){1&n&&We(0,"i",14)}function Xle(n,t){1&n&&We(0,"i",15)}function ece(n,t){1&n&&We(0,"i",16)}function tce(n,t){1&n&&We(0,"i",17)}function nce(n,t){1&n&&We(0,"i",18)}function ice(n,t){1&n&&We(0,"img",19)}function rce(n,t){1&n&&We(0,"img",20)}function sce(n,t){1&n&&We(0,"img",21)}function oce(n,t){1&n&&We(0,"i",22)}function ace(n,t){1&n&&We(0,"i",23)}function lce(n,t){1&n&&We(0,"i",24)}let cce=(()=>{class n{constructor(){this.services=[],this.customOptions={loop:!0,autoplay:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,autoplayHoverPause:!0,dots:!1,autoplaySpeed:1e3,animateIn:"fadeIn",animateOut:"fadeOut",items:1,navSpeed:700,autoplayTimeout:1100,navText:["",""],responsive:{0:{items:3},400:{items:3},740:{items:4},940:{items:6}},nav:!0}}ngOnInit(){this.onWindowResize(),Qo.init({disable:!1}),Qo.refresh()}onWindowResize(){this.getScreenWidth=window.innerWidth}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-services"]],hostBindings:function(i,r){1&i&&Dt("resize",function(o){return r.onWindowResize(o)},0,nR)},decls:27,vars:1,consts:[["id","services",1,"services"],["data-aos","fade-down"],[1,"proposal"],[1,"text-box","main-text","m-2"],[1,"service"],[3,"options"],["carouselSlide",""],[1,"showcase"],["alt","","src","http://drive.google.com/uc?export=view&id=1IdwqjQUIESgqtrvdiTCgpBsm7AQd_5AA",1,"ring"],["alt","","src","http://drive.google.com/uc?export=view&id=1xKORWvHbhInOnHpvlb-odIzO26J1AThe",1,"circle"],["alt","","src","http://drive.google.com/uc?export=view&id=1xKORWvHbhInOnHpvlb-odIzO26J1AThe",1,"circle2"],["alt","","src","http://drive.google.com/uc?export=view&id=1xKORWvHbhInOnHpvlb-odIzO26J1AThe",1,"circle3"],["alt","","src","http://drive.google.com/uc?export=view&id=1nLMkBmQNV4PZTmj8RBEuV8F0zxb0mvM-",1,"half-ring"],[1,"devicon-mongodb-plain"],[1,"devicon-javascript-plain"],[1,"p-3","devicon-npm-original-wordmark"],[1,"devicon-flask-original-wordmark","colored"],[1,"p-3","devicon-angularjs-plain"],[1,"p-3","devicon-bootstrap-plain"],["src","https://rxjs.dev/generated/images/marketing/home/Rx_Logo-512-512.png","alt","",1,"img"],["src","../../assets/icons/primeng-logo.webp","alt","",1,"img-3"],["src","../../assets/icons/api.png","alt","",1,"img-2"],[1,"p-3","devicon-typescript-plain"],[1,"devicon-css3-plain"],[1,"devicon-html5-plain"]],template:function(i,r){1&i&&(me(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),rt(5,"Skills"),_e(),We(6,"br")(7,"br"),me(8,"owl-carousel-o",5),Ee(9,Yle,1,0,"ng-template",6),Ee(10,Jle,1,0,"ng-template",6),Ee(11,Xle,1,0,"ng-template",6),Ee(12,ece,1,0,"ng-template",6),Ee(13,tce,1,0,"ng-template",6),Ee(14,nce,1,0,"ng-template",6),Ee(15,ice,1,0,"ng-template",6),Ee(16,rce,1,0,"ng-template",6),Ee(17,sce,1,0,"ng-template",6),Ee(18,oce,1,0,"ng-template",6),Ee(19,ace,1,0,"ng-template",6),Ee(20,lce,1,0,"ng-template",6),_e()()(),me(21,"div",7),We(22,"img",8)(23,"img",9)(24,"img",10)(25,"img",11)(26,"img",12),_e()()()),2&i&&(Te(8),pe("options",r.customOptions))},dependencies:[hJ,QF],styles:["i[_ngcontent-%COMP%]{font-size:70px}i[_ngcontent-%COMP%]:hover{color:var(--main-color)}span[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:var(--main-color);margin-left:10px}.service[_ngcontent-%COMP%]{margin-bottom:780px}.container[_ngcontent-%COMP%]{overflow:hidden}.container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slidein 30s linear infinite;white-space:nowrap}.container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]{width:100%;display:inline-block;margin:0}.container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .logos[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{width:20%;animation:_ngcontent-%COMP%_fade-in .5s cubic-bezier(.455,.03,.515,.955) forwards}@keyframes _ngcontent-%COMP%_slidein{0%{transform:translateZ(0)}to{transform:translate3d(-100%,0,0)}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slidein 30s linear infinite}.container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:hover{animation-play-state:paused}img[_ngcontent-%COMP%]{width:83px!important;height:66px;filter:grayscale(100%);margin-top:-51px}img[_ngcontent-%COMP%]:hover{filter:grayscale(0%)}.img[_ngcontent-%COMP%]{margin:1px 24px -10px 19px!important;width:74px!important;height:71px!important}.img-2[_ngcontent-%COMP%]{margin:3px 24px -10px 19px!important}.img-3[_ngcontent-%COMP%]{width:78px!important;height:78px;margin:-1px 24px -10px 19px!important}"]})}return n})(),uce=(()=>{class n{constructor(e,i){this.http=e,this.db=i,this.jsonUrl="assets/data/portfolio_data_with_ids.json",this.portfolioCollection=i.collection("portfolio"),this.portfolios$=this.portfolioCollection.valueChanges({idField:"id"})}static#e=this.\u0275fac=function(i){return new(i||n)(De(pL),De(YU))};static#t=this.\u0275prov=Qe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dce(n,t){if(1&n&&(me(0,"div")(1,"div",12),We(2,"img",13),me(3,"h3",14),rt(4),_e(),me(5,"p",15),rt(6),_e(),me(7,"div",16)(8,"a",17),rt(9,"Demo"),_e(),me(10,"a",17),rt(11,"GitHub"),_e()()()()),2&n){const e=Pe().$implicit;Te(2),pe("src",e.image,Oc)("alt",e.project_name),Te(2),Uc(" ",e.project_name," "),Te(2),Uc(" ",e.description," "),Te(2),pe("href",e.demo_url,Oc),Te(2),pe("href",e.github_url,Oc)}}function hce(n,t){if(1&n&&(me(0,"div",10),Ee(1,dce,12,6,"div",11),_e()),2&n){const e=t.$implicit,i=Pe(2);pe("ngClass","mix "+e.type),Te(1),pe("ngIf",!i.selectedType||e.type.trim().toLowerCase().includes(i.selectedType))}}function fce(n,t){if(1&n){const e=Ai();me(0,"section",1)(1,"div",2)(2,"div",3)(3,"h2",4),rt(4,"My Projects"),_e(),me(5,"span"),rt(6,"Simple of my previous projects"),_e()(),me(7,"div",5)(8,"button",6),Dt("click",function(){return $t(e),Xt(Pe().setFilter(""))}),rt(9,"All"),_e(),me(10,"button",6),Dt("click",function(){return $t(e),Xt(Pe().setFilter("front"))}),rt(11,"Front-end"),_e(),me(12,"button",6),Dt("click",function(){return $t(e),Xt(Pe().setFilter("back"))}),rt(13,"Back-end"),_e()(),me(14,"div",7)(15,"div",8),Ee(16,hce,2,2,"div",9),_e()()()()}if(2&n){const e=Pe();Te(16),pe("ngForOf",e.projects)}}let pce=(()=>{class n{setFilter(e){this.selectedType=e,console.log(this.selectedType)}constructor(e){this.portfolioService=e,this.projects=[],this.destroy$=new oe,this.selectedType=""}ngOnInit(){Qo.init({disable:!1}),Qo.refresh(),this.portfolioService.portfolios$.pipe(Lk(this.projects)).subscribe(e=>{this.projects=e,console.log("Projects:",this.projects)})}updateProjectsAndRefresh(e){this.projects=e}static#e=this.\u0275fac=function(i){return new(i||n)(ie(uce))};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-portfolio"]],decls:1,vars:1,consts:[["class","portfolio","id","portfolio",4,"ngIf"],["id","portfolio",1,"portfolio"],["data-aos","fade-down"],[1,"main-text"],[1,"heading"],[1,"fillter-buttons"],[1,"button",3,"click"],["data-aos","zoom-in-up"],[1,"portfolio-gallery","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf"],[1,"max-w-sm","md:max-w-lg","mx-auto","md:mx-0","border","rounded-md","p-2","flex","flex-col","space-y-3","card"],[1,"rounded-md","h-52","w-full","lg:object-cover",3,"src","alt"],[1,"text-lg","font-semibold",2,"height","20px"],[1,"text-xs","text-gray-500",2,"height","32px","word-wrap","break-word"],[1,"items","items-center","space-x-2","mt-4"],["target","_blank",1,"readMore",3,"href"]],template:function(i,r){1&i&&Ee(0,fce,17,1,"section",0),2&i&&pe("ngIf",r.projects)},dependencies:[Ra,qc,_o],styles:["button[_ngcontent-%COMP%]{font-size:13px}h3[_ngcontent-%COMP%]{font-size:1.3rem!important;color:#3d99be!important}p[_ngcontent-%COMP%]:hover{color:#000!important}a[_ngcontent-%COMP%]:hover{color:#3d99be!important}.jb[_ngcontent-%COMP%]{justify-content:space-between}i[_ngcontent-%COMP%]{font-size:2.5rem}i[_ngcontent-%COMP%]:hover{color:#3d99be}.items[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}"]})}return n})(),gce=(()=>{class n{constructor(){this.items=[]}ngOnInit(){hamburgerMenu()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-header"]],decls:21,vars:0,consts:[["href","#",1,"logo"],[1,"navlist","mt-3"],["href","#home",1,"active"],["href","#about"],["href","#services"],["href","#portfolio"],[1,"right-header"],[1,"menu-icon"],[1,"bar"]],template:function(i,r){1&i&&(me(0,"header")(1,"a",0)(2,"span"),rt(3,"A"),_e(),rt(4,"del"),_e(),me(5,"ul",1)(6,"li")(7,"a",2),rt(8,"Home"),_e()(),me(9,"li")(10,"a",3),rt(11,"About"),_e()(),me(12,"li")(13,"a",4),rt(14,"Skills"),_e()(),me(15,"li")(16,"a",5),rt(17,"Projects"),_e()()(),me(18,"div",6)(19,"div",7),We(20,"div",8),_e()()())},styles:["li[_ngcontent-%COMP%]{list-style:none}"]})}return n})(),mce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=pn({type:n,selectors:[["app-main"]],decls:15,vars:0,consts:[[1,"overlay"],[1,"global-scope"],["id","progress"],["id","progress-value"],[1,"bx","bxs-chevrons-up"]],template:function(i,r){1&i&&(We(0,"div",0)(1,"app-header"),me(2,"div",1),We(3,"app-home")(4,"app-about")(5,"app-services")(6,"app-portfolio"),me(7,"footer")(8,"p"),rt(9,"Copyright \xa9 2025 by "),me(10,"span"),rt(11,"Adel"),_e()()(),me(12,"div",2)(13,"span",3),We(14,"i",4),_e()()())},dependencies:[mle,Qle,cce,pce,gce]})}return n})(),_ce=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),yce=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),vce=(()=>{class n extends Fa{static \u0275fac=function(){let e;return function(r){return(e||(e=Dn(n)))(r||n)}}();static \u0275cmp=pn({type:n,selectors:[["BarsIcon"]],standalone:!0,features:[en,qs],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z","fill","currentColor"]],template:function(i,r){1&i&&(rs(),me(0,"svg",0),We(1,"path",1),_e()),2&i&&(dr(r.getClassNames()),St("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})(),nue=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Sn({type:n});static \u0275inj=vn({imports:[cs,mg,Qv,Yv,Js,vce,_ce,yce,mg,Yv,Js]})}return n})();const iue=[{path:"",component:mce},{path:"add",component:ple}];let rue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Sn({type:n,bootstrap:[AY]});static#n=this.\u0275inj=vn({providers:[uX],imports:[VN,DY,JK,fJ,IJ,lX,NX,Ase.initializeApp(Ere_firebase),bre(()=>wre()),Ise,mg.forRoot(iue),loe,uoe,hoe,hle,nue]})}return n})();Zq().bootstrapModule(rue).catch(n=>console.error(n))},402:function(yr){yr.exports=function(Ge){function E(g){if(C[g])return C[g].exports;var d=C[g]={exports:{},id:g,loaded:!1};return Ge[g].call(d.exports,d,d.exports,E),d.loaded=!0,d.exports}var C={};return E.m=Ge,E.c=C,E.p="dist/",E(0)}([function(Ge,E,C){"use strict";function g(ce){return ce&&ce.__esModule?ce:{default:ce}}var d=Object.assign||function(ce){for(var Ft=1;Ft<arguments.length;Ft++){var Ut=arguments[Ft];for(var dn in Ut)Object.prototype.hasOwnProperty.call(Ut,dn)&&(ce[dn]=Ut[dn])}return ce},I=(g(C(1)),C(6)),S=g(I),B=g(C(7)),K=g(C(8)),be=g(C(9)),ft=g(C(10)),Nt=g(C(11)),yt=g(C(14)),un=[],fn=!1,ot={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},kt=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(fn=!0),fn)return un=(0,Nt.default)(un,ot),(0,ft.default)(un,ot.once),un},Jn=function(){un=(0,yt.default)(),kt()};Ge.exports={init:function(ce){ot=d(ot,ce),un=(0,yt.default)();var Ft=document.all&&!window.atob;return function(ce){return!0===ce||"mobile"===ce&&be.default.mobile()||"phone"===ce&&be.default.phone()||"tablet"===ce&&be.default.tablet()||"function"==typeof ce&&!0===ce()}(ot.disable)||Ft?void un.forEach(function(ce,Ft){ce.node.removeAttribute("data-aos"),ce.node.removeAttribute("data-aos-easing"),ce.node.removeAttribute("data-aos-duration"),ce.node.removeAttribute("data-aos-delay")}):(ot.disableMutationObserver||K.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),ot.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",ot.easing),document.querySelector("body").setAttribute("data-aos-duration",ot.duration),document.querySelector("body").setAttribute("data-aos-delay",ot.delay),"DOMContentLoaded"===ot.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?kt(!0):"load"===ot.startEvent?window.addEventListener(ot.startEvent,function(){kt(!0)}):document.addEventListener(ot.startEvent,function(){kt(!0)}),window.addEventListener("resize",(0,B.default)(kt,ot.debounceDelay,!0)),window.addEventListener("orientationchange",(0,B.default)(kt,ot.debounceDelay,!0)),window.addEventListener("scroll",(0,S.default)(function(){(0,ft.default)(un,ot.once)},ot.throttleDelay)),ot.disableMutationObserver||K.default.ready("[data-aos]",Jn),un)},refresh:kt,refreshHard:Jn}},function(Ge,E){},,,,,function(Ge,E){(function(C){"use strict";function g(Ne,vt,ce){function Ft(_t){var At=ue,Cn=oe;return ue=oe=void 0,Tt=_t,we=Ne.apply(Cn,At)}function ci(_t){var At=_t-Le;return void 0===Le||At>=vt||At<0||Je&&_t-Tt>=Ie}function mi(){var _t=He();return ci(_t)?bt(_t):void(ae=setTimeout(mi,function dn(_t){var Vn=vt-(_t-Le);return Je?Jn(Vn,Ie-(_t-Tt)):Vn}(_t)))}function bt(_t){return ae=void 0,ut&&ue?Ft(_t):(ue=oe=void 0,we)}function le(){var _t=He(),At=ci(_t);if(ue=arguments,oe=this,Le=_t,At){if(void 0===ae)return function Ut(_t){return Tt=_t,ae=setTimeout(mi,vt),$e?Ft(_t):we}(Le);if(Je)return ae=setTimeout(mi,vt),Ft(Le)}return void 0===ae&&(ae=setTimeout(mi,vt)),we}var ue,oe,Ie,we,ae,Le,Tt=0,$e=!1,Je=!1,ut=!0;if("function"!=typeof Ne)throw new TypeError(Z);return vt=k(vt)||0,y(ce)&&($e=!!ce.leading,Ie=(Je="maxWait"in ce)?kt(k(ce.maxWait)||0,vt):Ie,ut="trailing"in ce?!!ce.trailing:ut),le.cancel=function vr(){void 0!==ae&&clearTimeout(ae),Tt=0,ue=Le=oe=ae=void 0},le.flush=function Ui(){return void 0===ae?we:bt(He())},le}function y(Ne){var vt=typeof Ne>"u"?"undefined":B(Ne);return!!Ne&&("object"==vt||"function"==vt)}function S(Ne){return"symbol"==(typeof Ne>"u"?"undefined":B(Ne))||function I(Ne){return!!Ne&&"object"==(typeof Ne>"u"?"undefined":B(Ne))}(Ne)&&ot.call(Ne)==te}function k(Ne){if("number"==typeof Ne)return Ne;if(S(Ne))return K;if(y(Ne)){var vt="function"==typeof Ne.valueOf?Ne.valueOf():Ne;Ne=y(vt)?vt+"":vt}if("string"!=typeof Ne)return 0===Ne?Ne:+Ne;Ne=Ne.replace(be,"");var ce=ft.test(Ne);return ce||_n.test(Ne)?Nt(Ne.slice(2),ce?2:8):Ke.test(Ne)?K:+Ne}var B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ne){return typeof Ne}:function(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},Z="Expected a function",K=NaN,te="[object Symbol]",be=/^\s+|\s+$/g,Ke=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,_n=/^0o[0-7]+$/i,Nt=parseInt,mt="object"==(typeof C>"u"?"undefined":B(C))&&C&&C.Object===Object&&C,yt="object"==(typeof self>"u"?"undefined":B(self))&&self&&self.Object===Object&&self,un=mt||yt||Function("return this")(),ot=Object.prototype.toString,kt=Math.max,Jn=Math.min,He=function(){return un.Date.now()};Ge.exports=function d(Ne,vt,ce){var Ft=!0,Ut=!0;if("function"!=typeof Ne)throw new TypeError(Z);return y(ce)&&(Ft="leading"in ce?!!ce.leading:Ft,Ut="trailing"in ce?!!ce.trailing:Ut),g(Ne,vt,{leading:Ft,maxWait:vt,trailing:Ut})}}).call(E,function(){return this}())},function(Ge,E){(function(C){"use strict";function d(He){var Ne=typeof He>"u"?"undefined":k(He);return!!He&&("object"==Ne||"function"==Ne)}function I(He){return"symbol"==(typeof He>"u"?"undefined":k(He))||function y(He){return!!He&&"object"==(typeof He>"u"?"undefined":k(He))}(He)&&fn.call(He)==K}function S(He){if("number"==typeof He)return He;if(I(He))return Z;if(d(He)){var Ne="function"==typeof He.valueOf?He.valueOf():He;He=d(Ne)?Ne+"":Ne}if("string"!=typeof He)return 0===He?He:+He;He=He.replace(te,"");var vt=Ke.test(He);return vt||ft.test(He)?_n(He.slice(2),vt?2:8):be.test(He)?Z:+He}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(He){return typeof He}:function(He){return He&&"function"==typeof Symbol&&He.constructor===Symbol&&He!==Symbol.prototype?"symbol":typeof He},B="Expected a function",Z=NaN,K="[object Symbol]",te=/^\s+|\s+$/g,be=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,ft=/^0o[0-7]+$/i,_n=parseInt,Nt="object"==(typeof C>"u"?"undefined":k(C))&&C&&C.Object===Object&&C,mt="object"==(typeof self>"u"?"undefined":k(self))&&self&&self.Object===Object&&self,yt=Nt||mt||Function("return this")(),fn=Object.prototype.toString,ot=Math.max,kt=Math.min,Jn=function(){return yt.Date.now()};Ge.exports=function g(He,Ne,vt){function ce(ut){var _t=le,At=ue;return le=ue=void 0,Le=ut,Ie=He.apply(At,_t)}function dn(ut){var _t=ut-ae;return void 0===ae||_t>=Ne||_t<0||$e&&ut-Le>=oe}function ci(){var ut=Jn();return dn(ut)?mi(ut):void(we=setTimeout(ci,function Ut(ut){var Cn=Ne-(ut-ae);return $e?kt(Cn,oe-(ut-Le)):Cn}(ut)))}function mi(ut){return we=void 0,Je&&le?ce(ut):(le=ue=void 0,Ie)}function Ui(){var ut=Jn(),_t=dn(ut);if(le=arguments,ue=this,ae=ut,_t){if(void 0===we)return function Ft(ut){return Le=ut,we=setTimeout(ci,Ne),Tt?ce(ut):Ie}(ae);if($e)return we=setTimeout(ci,Ne),ce(ae)}return void 0===we&&(we=setTimeout(ci,Ne)),Ie}var le,ue,oe,Ie,we,ae,Le=0,Tt=!1,$e=!1,Je=!0;if("function"!=typeof He)throw new TypeError(B);return Ne=S(Ne)||0,d(vt)&&(Tt=!!vt.leading,oe=($e="maxWait"in vt)?ot(S(vt.maxWait)||0,Ne):oe,Je="trailing"in vt?!!vt.trailing:Je),Ui.cancel=function bt(){void 0!==we&&clearTimeout(we),Le=0,le=ae=ue=we=void 0},Ui.flush=function vr(){return void 0===we?Ie:mi(Jn())},Ui}}).call(E,function(){return this}())},function(Ge,E){"use strict";function C(k){var B=void 0,Z=void 0;for(B=0;B<k.length;B+=1)if((Z=k[B]).dataset&&Z.dataset.aos||Z.children&&C(Z.children))return!0;return!1}function g(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function I(k){k&&k.forEach(function(B){var Z=Array.prototype.slice.call(B.addedNodes),K=Array.prototype.slice.call(B.removedNodes);if(C(Z.concat(K)))return S()})}Object.defineProperty(E,"__esModule",{value:!0});var S=function(){};E.default={isSupported:function d(){return!!g()},ready:function y(k,B){var Z=window.document,te=new(g())(I);S=B,te.observe(Z.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Ge,E){"use strict";function g(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(E,"__esModule",{value:!0});var d=function(){function Z(K,te){for(var be=0;be<te.length;be++){var Ke=te[be];Ke.enumerable=Ke.enumerable||!1,Ke.configurable=!0,"value"in Ke&&(Ke.writable=!0),Object.defineProperty(K,Ke.key,Ke)}}return function(K,te,be){return te&&Z(K.prototype,te),be&&Z(K,be),K}}(),y=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,I=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,S=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,k=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,B=function(){function Z(){!function C(Z,K){if(!(Z instanceof K))throw new TypeError("Cannot call a class as a function")}(this,Z)}return d(Z,[{key:"phone",value:function(){var K=g();return!(!y.test(K)&&!I.test(K.substr(0,4)))}},{key:"mobile",value:function(){var K=g();return!(!S.test(K)&&!k.test(K.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Z}();E.default=new B},function(Ge,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.default=function(d,y){var I=window.pageYOffset,S=window.innerHeight;d.forEach(function(k,B){!function(d,y,I){var S=d.node.getAttribute("data-aos-once");y>d.position?d.node.classList.add("aos-animate"):typeof S<"u"&&("false"===S||!I&&"true"!==S)&&d.node.classList.remove("aos-animate")}(k,S+I,y)})}},function(Ge,E,C){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var y=function g(S){return S&&S.__esModule?S:{default:S}}(C(12));E.default=function(S,k){return S.forEach(function(B,Z){B.node.classList.add("aos-init"),B.position=(0,y.default)(B.node,k.offset)}),S}},function(Ge,E,C){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var y=function g(S){return S&&S.__esModule?S:{default:S}}(C(13));E.default=function(S,k){var B=0,Z=0,K=window.innerHeight,te={offset:S.getAttribute("data-aos-offset"),anchor:S.getAttribute("data-aos-anchor"),anchorPlacement:S.getAttribute("data-aos-anchor-placement")};switch(te.offset&&!isNaN(te.offset)&&(Z=parseInt(te.offset)),te.anchor&&document.querySelectorAll(te.anchor)&&(S=document.querySelectorAll(te.anchor)[0]),B=(0,y.default)(S).top,te.anchorPlacement){case"top-bottom":break;case"center-bottom":B+=S.offsetHeight/2;break;case"bottom-bottom":B+=S.offsetHeight;break;case"top-center":B+=K/2;break;case"bottom-center":B+=K/2+S.offsetHeight;break;case"center-center":B+=K/2+S.offsetHeight/2;break;case"top-top":B+=K;break;case"bottom-top":B+=S.offsetHeight+K;break;case"center-top":B+=S.offsetHeight/2+K}return te.anchorPlacement||te.offset||isNaN(k)||(Z=k),B+Z}},function(Ge,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(g){for(var d=0,y=0;g&&!isNaN(g.offsetLeft)&&!isNaN(g.offsetTop);)d+=g.offsetLeft-("BODY"!=g.tagName?g.scrollLeft:0),y+=g.offsetTop-("BODY"!=g.tagName?g.scrollTop:0),g=g.offsetParent;return{top:y,left:d}}},function(Ge,E){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(g){return g=g||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(g,function(d){return{node:d}})}}])},324:yr=>{!function(Ge){"use strict";var E=null,C=null;(function(){var S,I,g=["webkit","moz","o","ms"],d=Ge.document.createElement("div"),y=-1;for(y=0;y<g.length&&!Ge.requestAnimationFrame;y++)Ge.requestAnimationFrame=Ge[g[y]+"RequestAnimationFrame"];typeof d.nextElementSibling>"u"&&Object.defineProperty(Ge.Element.prototype,"nextElementSibling",{get:function(){for(var I=this.nextSibling;I;){if(1===I.nodeType)return I;I=I.nextSibling}return null}}),(I=Ge.Element.prototype).matches=I.matches||I.machesSelector||I.mozMatchesSelector||I.msMatchesSelector||I.oMatchesSelector||I.webkitMatchesSelector||function(S){return Array.prototype.indexOf.call(this.parentElement.querySelectorAll(S),this)>-1},Object.keys||(Object.keys=function(){var S,k,B,I=Object.prototype.hasOwnProperty;return S=!{toString:null}.propertyIsEnumerable("toString"),B=(k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(Z){var K=[],te="",be=-1;if("object"!=typeof Z&&("function"!=typeof Z||null===Z))throw new TypeError("Object.keys called on non-object");for(te in Z)I.call(Z,te)&&K.push(te);if(S)for(be=0;be<B;be++)I.call(Z,k[be])&&K.push(k[be]);return K}}()),Array.isArray||(Array.isArray=function(I){return"[object Array]"===Object.prototype.toString.call(I)}),"function"!=typeof Object.create&&(Object.create=(S=function(){},function(k,B){if(k!==Object(k)&&null!==k)throw TypeError("Argument must be an object, or null");S.prototype=k||{};var Z=new S;return S.prototype=null,void 0!==B&&Object.defineProperties(Z,B),null===k&&(Z.__proto__=null),Z})),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(I){var S,k,B,Z;if(null===this)throw new TypeError;if(0==(Z=(B=Object(this)).length>>>0)||(S=0,arguments.length>1&&((S=Number(arguments[1]))!=S?S=0:0!==S&&S!==1/0&&S!==-1/0&&(S=(S>0||-1)*Math.floor(Math.abs(S)))),S>=Z))return-1;for(k=S>=0?S:Math.max(Z-Math.abs(S),0);k<Z;k++)if(k in B&&B[k]===I)return k;return-1}),Function.prototype.bind||(Function.prototype.bind=function(I){var S,k,B,Z;if("function"!=typeof this)throw new TypeError;return S=Array.prototype.slice.call(arguments,1),k=this,B=function(){},Z=function(){return k.apply(this instanceof B?this:I,S.concat(Array.prototype.slice.call(arguments)))},this.prototype&&(B.prototype=this.prototype),Z.prototype=new B,Z}),Ge.Element.prototype.dispatchEvent||(Ge.Element.prototype.dispatchEvent=function(I){try{return this.fireEvent("on"+I.type,I)}catch{}})})(),E=function(g,d,y){var I=null,S=!1,k=null,B=null,Z=null,te=[],be="",Ke=[],ft=-1;if(Z=y||Ge.document,(S=arguments[3])&&(S="boolean"==typeof S),"string"==typeof g)Ke=Z.querySelectorAll(g);else if(g&&"object"==typeof g&&C.isElement(g,Z))Ke=[g];else{if(!g||"object"!=typeof g||!g.length)throw new Error(E.messages.errorFactoryInvalidContainer());Ke=g}if(Ke.length<1)throw new Error(E.messages.errorFactoryContainerNotFound());for(ft=0;(I=Ke[ft])&&(!(ft>0)||S);ft++)I.id?be=I.id:(be="MixItUp"+C.randomHex(),I.id=be),E.instances[be]instanceof E.Mixer?(k=E.instances[be],(!d||d&&d.debug&&!1!==d.debug.showWarnings)&&console.warn(E.messages.warningFactoryPreexistingInstance())):((k=new E.Mixer).attach(I,Z,be,d),E.instances[be]=k),B=new E.Facade(k),te.push(d&&d.debug&&d.debug.enable?k:B);return S?new E.Collection(te):te[0]},E.use=function(g){E.Base.prototype.callActions.call(E,"beforeUse",arguments),"function"==typeof g&&"mixitup-extension"===g.TYPE?typeof E.extensions[g.NAME]>"u"&&(g(E),E.extensions[g.NAME]=g):g.fn&&g.fn.jquery&&(E.libraries.$=g),E.Base.prototype.callActions.call(E,"afterUse",arguments)},E.instances={},E.extensions={},E.libraries={},C={hasClass:function(g,d){return!!g.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))},addClass:function(g,d){this.hasClass(g,d)||(g.className+=g.className?" "+d:d)},removeClass:function(g,d){if(this.hasClass(g,d)){var y=new RegExp("(\\s|^)"+d+"(\\s|$)");g.className=g.className.replace(y," ").trim()}},extend:function(g,d,y,I){var S=[],k="",B=-1;y=y||!1,I=I||!1;try{if(Array.isArray(d))for(B=0;B<d.length;B++)S.push(B);else d&&(S=Object.keys(d));for(B=0;B<S.length;B++)k=S[B],!y||"object"!=typeof d[k]||this.isElement(d[k])?g[k]=d[k]:Array.isArray(d[k])?(g[k]||(g[k]=[]),this.extend(g[k],d[k],y,I)):(g[k]||(g[k]={}),this.extend(g[k],d[k],y,I))}catch(Z){if(!I)throw Z;this.handleExtendError(Z,g)}return g},handleExtendError:function(g,d){var I=null,S="",k="",B="",Z="",K="",te=-1,be=-1;if(g instanceof TypeError&&(I=/property "?(\w*)"?[,:] object/i.exec(g.message))){for(K in S=I[1],d){for(be=0;be<S.length&&S.charAt(be)===K.charAt(be);)be++;be>te&&(te=be,Z=K)}throw te>1&&(B=E.messages.errorConfigInvalidPropertySuggestion({probableMatch:Z})),k=E.messages.errorConfigInvalidProperty({erroneous:S,suggestion:B}),new TypeError(k)}throw g},template:function(g){for(var d=/\${([\w]*)}/g,y={},I=null;I=d.exec(g);)y[I[1]]=new RegExp("\\${"+I[1]+"}","g");return function(S){var k="",B=g;for(k in S=S||{},y)B=B.replace(y[k],typeof S[k]<"u"?S[k]:"");return B}},on:function(g,d,y,I){g&&(g.addEventListener?g.addEventListener(d,y,I):g.attachEvent&&(g["e"+d+y]=y,g[d+y]=function(){g["e"+d+y](Ge.event)},g.attachEvent("on"+d,g[d+y])))},off:function(g,d,y){g&&(g.removeEventListener?g.removeEventListener(d,y,!1):g.detachEvent&&(g.detachEvent("on"+d,g[d+y]),g[d+y]=null))},getCustomEvent:function(g,d,y){var I=null;return y=y||Ge.document,"function"==typeof Ge.CustomEvent?I=new Ge.CustomEvent(g,{detail:d,bubbles:!0,cancelable:!0}):"function"==typeof y.createEvent?(I=y.createEvent("CustomEvent")).initCustomEvent(g,!0,!0,d):((I=y.createEventObject()).type=g,I.returnValue=!1,I.cancelBubble=!1,I.detail=d),I},getOriginalEvent:function(g){return g.touches&&g.touches.length?g.touches[0]:g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:g},index:function(g,d){for(var y=0;null!==(g=g.previousElementSibling);)(!d||g.matches(d))&&++y;return y},camelCase:function(g){return g.toLowerCase().replace(/([_-][a-z])/g,function(d){return d.toUpperCase().replace(/[_-]/,"")})},pascalCase:function(g){return(g=this.camelCase(g)).charAt(0).toUpperCase()+g.slice(1)},dashCase:function(g){return g.replace(/([A-Z])/g,"-$1").replace(/^-/,"").toLowerCase()},isElement:function(g,d){return d=d||Ge.document,!!(Ge.HTMLElement&&g instanceof Ge.HTMLElement||d.defaultView&&d.defaultView.HTMLElement&&g instanceof d.defaultView.HTMLElement)||null!==g&&1===g.nodeType&&"string"==typeof g.nodeName},createElement:function(g,d){var y=null,I=null;for(y=(d=d||Ge.document).createDocumentFragment(),(I=d.createElement("div")).innerHTML=g.trim();I.firstChild;)y.appendChild(I.firstChild);return y},removeWhitespace:function(g){for(var d;g&&"#text"===g.nodeName;)d=g,g=g.previousSibling,d.parentElement&&d.parentElement.removeChild(d)},isEqualArray:function(g,d){var y=g.length;if(y!==d.length)return!1;for(;y--;)if(g[y]!==d[y])return!1;return!0},deepEquals:function(g,d){var y;if("object"==typeof g&&g&&"object"==typeof d&&d){if(Object.keys(g).length!==Object.keys(d).length)return!1;for(y in g)if(!d.hasOwnProperty(y)||!this.deepEquals(g[y],d[y]))return!1}else if(g!==d)return!1;return!0},arrayShuffle:function(g){for(var d=g.slice(),y=d.length,I=y,S=-1,k=[];I--;)S=~~(Math.random()*y),k=d[I],d[I]=d[S],d[S]=k;return d},arrayFromList:function(g){var d,y;try{return Array.prototype.slice.call(g)}catch{for(d=[],y=0;y<g.length;y++)d.push(g[y]);return d}},debounce:function(g,d,y){var I;return function(){var Z,S=this,k=arguments,B=y&&!I;Z=function(){I=null,y||g.apply(S,k)},clearTimeout(I),I=setTimeout(Z,d),B&&g.apply(S,k)}},position:function(g){for(var d=0,y=0,I=g;g;)d-=g.scrollLeft,y-=g.scrollTop,g===I&&(d+=g.offsetLeft,y+=g.offsetTop,I=g.offsetParent),g=g.parentElement;return{x:d,y}},getHypotenuse:function(g,d){var y=g.x-d.x,I=g.y-d.y;return y=y<0?-1*y:y,I=I<0?-1*I:I,Math.sqrt(Math.pow(y,2)+Math.pow(I,2))},getIntersectionRatio:function(g,d){var I,y=g.width*g.height;return I=Math.max(0,Math.min(g.left+g.width,d.left+d.width)-Math.max(g.left,d.left)),Math.max(0,Math.min(g.top+g.height,d.top+d.height)-Math.max(g.top,d.top))*I/y},closestParent:function(g,d,y,I){var S=g.parentNode;if(I=I||Ge.document,y&&g.matches(d))return g;for(;S&&S!=I.body;){if(S.matches&&S.matches(d))return S;if(!S.parentNode)return null;S=S.parentNode}return null},children:function(g,d,y){var I=[],S="";return y=y||Ge.doc,g&&(g.id||(S="Temp"+this.randomHexKey(),g.id=S),I=y.querySelectorAll("#"+g.id+" > "+d),S&&g.removeAttribute("id")),I},clean:function(g){var d=[],y=-1;for(y=0;y<g.length;y++)""!==g[y]&&d.push(g[y]);return d},defer:function(g){var d=null,y=null,I=null;return y=new this.Deferred,E.features.has.promises?y.promise=new Promise(function(S,k){y.resolve=S,y.reject=k}):(I=Ge.jQuery||g.$)&&"function"==typeof I.Deferred?(d=I.Deferred(),y.promise=d.promise(),y.resolve=d.resolve,y.reject=d.reject):Ge.console&&console.warn(E.messages.warningNoPromiseImplementation()),y},all:function(g,d){var y=null;return E.features.has.promises?Promise.all(g):(y=Ge.jQuery||d.$)&&"function"==typeof y.when?y.when.apply(y,g).done(function(){return arguments}):(Ge.console&&console.warn(E.messages.warningNoPromiseImplementation()),[])},getPrefix:function(g,d,y){var I=-1,S="";if(C.dashCase(d)in g.style)return"";for(I=0;S=y[I];I++)if(S+d in g.style)return S.toLowerCase();return"unsupported"},randomHex:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(g){return{scrollTop:Ge.pageYOffset,scrollLeft:Ge.pageXOffset,docHeight:(g="object"==typeof g.body?g:Ge.document).documentElement.scrollHeight,docWidth:g.documentElement.scrollWidth,viewportHeight:g.documentElement.clientHeight,viewportWidth:g.documentElement.clientWidth}},bind:function(g,d){return function(){return d.apply(g,arguments)}},isVisible:function(g){var d=null;return!(!g.offsetParent&&(d=Ge.getComputedStyle(g),"fixed"!==d.position||"hidden"===d.visibility||"0"===d.opacity))},seal:function(g){"function"==typeof Object.seal&&Object.seal(g)},freeze:function(g){"function"==typeof Object.freeze&&Object.freeze(g)},compareVersions:function(g,d){var y=g.split("."),I=d.split("."),S=-1,k=-1,B=-1;for(B=0;B<y.length;B++){if(S=parseInt(y[B].replace(/[^\d.]/g,"")),(k=parseInt(I[B].replace(/[^\d.]/g,"")||0))<S)return!1;if(k>S)return!0}return!0},Deferred:function(){this.promise=null,this.resolve=null,this.reject=null,this.id=C.randomHex()},isEmptyObject:function(g){var d="";if("function"==typeof Object.keys)return 0===Object.keys(g).length;for(d in g)if(g.hasOwnProperty(d))return!1;return!0},getClassname:function(g,d,y){var I="";return(I+=g.block).length&&(I+=g.delineatorElement),I+=g["element"+this.pascalCase(d)],y&&(I.length&&(I+=g.delineatorModifier),I+=y),I},getProperty:function(g,d){var I,y=d.split("."),S="",k=0;if(!d)return g;for(I=function(B){return B?B[S]:null};k<y.length;)S=y[k],g=I(g),k++;return typeof g<"u"?g:null}},E.h=C,E.Base=function(){},E.Base.prototype={constructor:E.Base,callActions:function(g,d){var I=this.constructor.actions[g],S="";if(I&&!C.isEmptyObject(I))for(S in I)I[S].apply(this,d)},callFilters:function(g,d,y){var S=this.constructor.filters[g],k=d,B="";if(!S||C.isEmptyObject(S))return k;for(B in y=y||[],S)(y=C.arrayFromList(y)).unshift(k),k=S[B].apply(this,y);return k}},E.BaseStatic=function(){this.actions={},this.filters={},this.extend=function(g){C.extend(this.prototype,g)},this.registerAction=function(g,d,y){(this.actions[g]=this.actions[g]||{})[d]=y},this.registerFilter=function(g,d,y){(this.filters[g]=this.filters[g]||{})[d]=y}},E.Features=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new E.Has,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this.callActions("afterConstruct")},E.BaseStatic.call(E.Features),E.Features.prototype=Object.create(E.Base.prototype),C.extend(E.Features.prototype,{constructor:E.Features,init:function(){var g=this;g.callActions("beforeInit",arguments),g.canary=document.createElement("div"),g.setPrefixes(),g.runTests(),g.callActions("beforeInit",arguments)},runTests:function(){var g=this;g.callActions("beforeRunTests",arguments),g.has.promises="function"==typeof Ge.Promise,g.has.transitions="unsupported"!==g.transitionPrefix,g.callActions("afterRunTests",arguments),C.freeze(g.has)},setPrefixes:function(){var g=this;g.callActions("beforeSetPrefixes",arguments),g.transitionPrefix=C.getPrefix(g.canary,"Transition",g.VENDORS),g.transformPrefix=C.getPrefix(g.canary,"Transform",g.VENDORS),g.boxSizingPrefix=C.getPrefix(g.canary,"BoxSizing",g.VENDORS),g.boxSizingProp=g.boxSizingPrefix?g.boxSizingPrefix+C.pascalCase(g.BOX_SIZING_PROP):g.BOX_SIZING_PROP,g.transitionProp=g.transitionPrefix?g.transitionPrefix+C.pascalCase(g.TRANSITION_PROP):g.TRANSITION_PROP,g.transformProp=g.transformPrefix?g.transformPrefix+C.pascalCase(g.TRANSFORM_PROP):g.TRANSFORM_PROP,g.transformRule=g.transformPrefix?"-"+g.transformPrefix+"-"+g.TRANSFORM_PROP:g.TRANSFORM_PROP,g.perspectiveProp=g.transformPrefix?g.transformPrefix+C.pascalCase(g.PERSPECTIVE_PROP):g.PERSPECTIVE_PROP,g.perspectiveOriginProp=g.transformPrefix?g.transformPrefix+C.pascalCase(g.PERSPECTIVE_ORIGIN_PROP):g.PERSPECTIVE_ORIGIN_PROP,g.callActions("afterSetPrefixes",arguments)}}),E.Has=function(){this.transitions=!1,this.promises=!1,C.seal(this)},E.features=new E.Features,E.features.init(),E.ConfigAnimation=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.applyPerspective=!0,this.perspectiveDistance="3000px",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudge=!0,this.clampHeight=!0,this.clampWidth=!0,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigAnimation),E.ConfigAnimation.prototype=Object.create(E.Base.prototype),E.ConfigAnimation.prototype.constructor=E.ConfigAnimation,E.ConfigBehavior=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.liveSort=!1,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigBehavior),E.ConfigBehavior.prototype=Object.create(E.Base.prototype),E.ConfigBehavior.prototype.constructor=E.ConfigBehavior,E.ConfigCallbacks=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigCallbacks),E.ConfigCallbacks.prototype=Object.create(E.Base.prototype),E.ConfigCallbacks.prototype.constructor=E.ConfigCallbacks,E.ConfigControls=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.enable=!0,this.live=!1,this.scope="global",this.toggleLogic="or",this.toggleDefault="all",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigControls),E.ConfigControls.prototype=Object.create(E.Base.prototype),E.ConfigControls.prototype.constructor=E.ConfigControls,E.ConfigClassNames=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.block="mixitup",this.elementContainer="container",this.elementFilter="control",this.elementSort="control",this.elementMultimix="control",this.elementToggle="control",this.modifierActive="active",this.modifierDisabled="disabled",this.modifierFailed="failed",this.delineatorElement="-",this.delineatorModifier="-",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigClassNames),E.ConfigClassNames.prototype=Object.create(E.Base.prototype),E.ConfigClassNames.prototype.constructor=E.ConfigClassNames,E.ConfigData=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.uidKey="",this.dirtyCheck=!1,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigData),E.ConfigData.prototype=Object.create(E.Base.prototype),E.ConfigData.prototype.constructor=E.ConfigData,E.ConfigDebug=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.enable=!1,this.showWarnings=!0,this.fauxAsync=!1,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigDebug),E.ConfigDebug.prototype=Object.create(E.Base.prototype),E.ConfigDebug.prototype.constructor=E.ConfigDebug,E.ConfigLayout=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.allowNestedTargets=!0,this.containerClassName="",this.siblingBefore=null,this.siblingAfter=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigLayout),E.ConfigLayout.prototype=Object.create(E.Base.prototype),E.ConfigLayout.prototype.constructor=E.ConfigLayout,E.ConfigLoad=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.filter="all",this.sort="default:asc",this.dataset=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigLoad),E.ConfigLoad.prototype=Object.create(E.Base.prototype),E.ConfigLoad.prototype.constructor=E.ConfigLoad,E.ConfigSelectors=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.target=".mix",this.control="",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigSelectors),E.ConfigSelectors.prototype=Object.create(E.Base.prototype),E.ConfigSelectors.prototype.constructor=E.ConfigSelectors,E.ConfigRender=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.target=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigRender),E.ConfigRender.prototype=Object.create(E.Base.prototype),E.ConfigRender.prototype.constructor=E.ConfigRender,E.ConfigTemplates=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.ConfigTemplates),E.ConfigTemplates.prototype=Object.create(E.Base.prototype),E.ConfigTemplates.prototype.constructor=E.ConfigTemplates,E.Config=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.animation=new E.ConfigAnimation,this.behavior=new E.ConfigBehavior,this.callbacks=new E.ConfigCallbacks,this.controls=new E.ConfigControls,this.classNames=new E.ConfigClassNames,this.data=new E.ConfigData,this.debug=new E.ConfigDebug,this.layout=new E.ConfigLayout,this.load=new E.ConfigLoad,this.selectors=new E.ConfigSelectors,this.render=new E.ConfigRender,this.templates=new E.ConfigTemplates,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.Config),E.Config.prototype=Object.create(E.Base.prototype),E.Config.prototype.constructor=E.Config,E.MixerDom=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.MixerDom),E.MixerDom.prototype=Object.create(E.Base.prototype),E.MixerDom.prototype.constructor=E.MixerDom,E.UiClassNames=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.base="",this.active="",this.disabled="",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.UiClassNames),E.UiClassNames.prototype=Object.create(E.Base.prototype),E.UiClassNames.prototype.constructor=E.UiClassNames,E.CommandDataset=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.dataset=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandDataset),E.CommandDataset.prototype=Object.create(E.Base.prototype),E.CommandDataset.prototype.constructor=E.CommandDataset,E.CommandMultimix=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.filter=null,this.sort=null,this.insert=null,this.remove=null,this.changeLayout=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandMultimix),E.CommandMultimix.prototype=Object.create(E.Base.prototype),E.CommandMultimix.prototype.constructor=E.CommandMultimix,E.CommandFilter=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.selector="",this.collection=null,this.action="show",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandFilter),E.CommandFilter.prototype=Object.create(E.Base.prototype),E.CommandFilter.prototype.constructor=E.CommandFilter,E.CommandSort=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.sortString="",this.attribute="",this.order="asc",this.collection=null,this.next=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandSort),E.CommandSort.prototype=Object.create(E.Base.prototype),E.CommandSort.prototype.constructor=E.CommandSort,E.CommandInsert=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.index=0,this.collection=[],this.position="before",this.sibling=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandInsert),E.CommandInsert.prototype=Object.create(E.Base.prototype),E.CommandInsert.prototype.constructor=E.CommandInsert,E.CommandRemove=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.targets=[],this.collection=[],this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandRemove),E.CommandRemove.prototype=Object.create(E.Base.prototype),E.CommandRemove.prototype.constructor=E.CommandRemove,E.CommandChangeLayout=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.containerClassName="",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.CommandChangeLayout),E.CommandChangeLayout.prototype=Object.create(E.Base.prototype),E.CommandChangeLayout.prototype.constructor=E.CommandChangeLayout,E.ControlDefinition=function(g,d,y,I){E.Base.call(this),this.callActions("beforeConstruct"),this.type=g,this.selector=d,this.live=y||!1,this.parent=I||"",this.callActions("afterConstruct"),C.freeze(this),C.seal(this)},E.BaseStatic.call(E.ControlDefinition),E.ControlDefinition.prototype=Object.create(E.Base.prototype),E.ControlDefinition.prototype.constructor=E.ControlDefinition,E.controlDefinitions=[],E.controlDefinitions.push(new E.ControlDefinition("multimix","[data-filter][data-sort]")),E.controlDefinitions.push(new E.ControlDefinition("filter","[data-filter]")),E.controlDefinitions.push(new E.ControlDefinition("sort","[data-sort]")),E.controlDefinitions.push(new E.ControlDefinition("toggle","[data-toggle]")),E.Control=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.selector="",this.bound=[],this.pending=-1,this.type="",this.status="inactive",this.filter="",this.sort="",this.canDisable=!1,this.handler=null,this.classNames=new E.UiClassNames,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.Control),E.Control.prototype=Object.create(E.Base.prototype),C.extend(E.Control.prototype,{constructor:E.Control,init:function(g,d,y){var I=this;if(this.callActions("beforeInit",arguments),I.el=g,I.type=d,I.selector=y,I.selector)I.status="live";else switch(I.canDisable="boolean"==typeof I.el.disable,I.type){case"filter":I.filter=I.el.getAttribute("data-filter");break;case"toggle":I.filter=I.el.getAttribute("data-toggle");break;case"sort":I.sort=I.el.getAttribute("data-sort");break;case"multimix":I.filter=I.el.getAttribute("data-filter"),I.sort=I.el.getAttribute("data-sort")}I.bindClick(),E.controls.push(I),this.callActions("afterInit",arguments)},isBound:function(g){var y;return this.callActions("beforeIsBound",arguments),y=this.bound.indexOf(g)>-1,this.callFilters("afterIsBound",y,arguments)},addBinding:function(g){this.callActions("beforeAddBinding",arguments),this.isBound()||this.bound.push(g),this.callActions("afterAddBinding",arguments)},removeBinding:function(g){var d=this,y=-1;this.callActions("beforeRemoveBinding",arguments),(y=d.bound.indexOf(g))>-1&&d.bound.splice(y,1),d.bound.length<1&&(d.unbindClick(),y=E.controls.indexOf(d),E.controls.splice(y,1),"active"===d.status&&d.renderStatus(d.el,"inactive")),this.callActions("afterRemoveBinding",arguments)},bindClick:function(){var g=this;this.callActions("beforeBindClick",arguments),g.handler=function(d){g.handleClick(d)},C.on(g.el,"click",g.handler),this.callActions("afterBindClick",arguments)},unbindClick:function(){var g=this;this.callActions("beforeUnbindClick",arguments),C.off(g.el,"click",g.handler),g.handler=null,this.callActions("afterUnbindClick",arguments)},handleClick:function(g){var d=this,y=null,I=null,S=!1,B={},Z=null,K=[],te=-1;if(this.callActions("beforeHandleClick",arguments),this.pending=0,I=d.bound[0],y=d.selector?C.closestParent(g.target,I.config.selectors.control+d.selector,!0,I.dom.document):d.el){switch(d.type){case"filter":B.filter=d.filter||y.getAttribute("data-filter");break;case"sort":B.sort=d.sort||y.getAttribute("data-sort");break;case"multimix":B.filter=d.filter||y.getAttribute("data-filter"),B.sort=d.sort||y.getAttribute("data-sort");break;case"toggle":B.filter=d.filter||y.getAttribute("data-toggle"),S="live"===d.status?C.hasClass(y,d.classNames.active):"active"===d.status}for(te=0;te<d.bound.length;te++)Z=new E.CommandMultimix,C.extend(Z,B),K.push(Z);for(K=d.callFilters("commandsHandleClick",K,arguments),d.pending=d.bound.length,te=0;I=d.bound[te];te++)(B=K[te])&&(I.lastClicked||(I.lastClicked=y),E.events.fire("mixClick",I.dom.container,{state:I.state,instance:I,originalEvent:g,control:I.lastClicked},I.dom.document),("function"!=typeof I.config.callbacks.onMixClick||!1!==I.config.callbacks.onMixClick.call(I.lastClicked,I.state,g,I))&&("toggle"===d.type?S?I.toggleOff(B.filter):I.toggleOn(B.filter):I.multimix(B)));this.callActions("afterHandleClick",arguments)}else d.callActions("afterHandleClick",arguments)},update:function(g,d){var y=this,I=new E.CommandMultimix;y.callActions("beforeUpdate",arguments),y.pending--,y.pending=Math.max(0,y.pending),!(y.pending>0)&&("live"===y.status?y.updateLive(g,d):(I.sort=y.sort,I.filter=y.filter,y.callFilters("actionsUpdate",I,arguments),y.parseStatusChange(y.el,g,I,d)),y.callActions("afterUpdate",arguments))},updateLive:function(g,d){var y=this,I=null,S=null,k=null,B=-1;if(y.callActions("beforeUpdateLive",arguments),y.el){for(I=y.el.querySelectorAll(y.selector),B=0;k=I[B];B++){switch(S=new E.CommandMultimix,y.type){case"filter":S.filter=k.getAttribute("data-filter");break;case"sort":S.sort=k.getAttribute("data-sort");break;case"multimix":S.filter=k.getAttribute("data-filter"),S.sort=k.getAttribute("data-sort");break;case"toggle":S.filter=k.getAttribute("data-toggle")}S=y.callFilters("actionsUpdateLive",S,arguments),y.parseStatusChange(k,g,S,d)}y.callActions("afterUpdateLive",arguments)}},parseStatusChange:function(g,d,y,I){var S=this,k="",Z=-1;switch(S.callActions("beforeParseStatusChange",arguments),S.type){case"filter":S.renderStatus(g,d.filter===y.filter?"active":"inactive");break;case"multimix":S.renderStatus(g,d.sort===y.sort&&d.filter===y.filter?"active":"inactive");break;case"sort":d.sort.match(/:asc/g)&&(k=d.sort.replace(/:asc/g,"")),S.renderStatus(g,d.sort===y.sort||k===y.sort?"active":"inactive");break;case"toggle":for(I.length<1&&S.renderStatus(g,"inactive"),d.filter===y.filter&&S.renderStatus(g,"active"),Z=0;Z<I.length;Z++){if(I[Z]===y.filter){S.renderStatus(g,"active");break}S.renderStatus(g,"inactive")}}S.callActions("afterParseStatusChange",arguments)},renderStatus:function(g,d){var y=this;switch(y.callActions("beforeRenderStatus",arguments),d){case"active":C.addClass(g,y.classNames.active),C.removeClass(g,y.classNames.disabled),y.canDisable&&(y.el.disabled=!1);break;case"inactive":C.removeClass(g,y.classNames.active),C.removeClass(g,y.classNames.disabled),y.canDisable&&(y.el.disabled=!1);break;case"disabled":y.canDisable&&(y.el.disabled=!0),C.addClass(g,y.classNames.disabled),C.removeClass(g,y.classNames.active)}"live"!==y.status&&(y.status=d),y.callActions("afterRenderStatus",arguments)}}),E.controls=[],E.StyleData=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.x=0,this.y=0,this.top=0,this.right=0,this.bottom=0,this.left=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.scale=new E.TransformData,this.translateX=new E.TransformData,this.translateY=new E.TransformData,this.translateZ=new E.TransformData,this.rotateX=new E.TransformData,this.rotateY=new E.TransformData,this.rotateZ=new E.TransformData,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.StyleData),E.StyleData.prototype=Object.create(E.Base.prototype),E.StyleData.prototype.constructor=E.StyleData,E.TransformData=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.value=0,this.unit="",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.TransformData),E.TransformData.prototype=Object.create(E.Base.prototype),E.TransformData.prototype.constructor=E.TransformData,E.TransformDefaults=function(){E.StyleData.apply(this),this.callActions("beforeConstruct"),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.TransformDefaults),E.TransformDefaults.prototype=Object.create(E.StyleData.prototype),E.TransformDefaults.prototype.constructor=E.TransformDefaults,E.transformDefaults=new E.TransformDefaults,E.EventDetail=function(){this.state=null,this.futureState=null,this.instance=null,this.originalEvent=null},E.Events=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.mixStart=null,this.mixBusy=null,this.mixEnd=null,this.mixFail=null,this.mixClick=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.Events),E.Events.prototype=Object.create(E.Base.prototype),E.Events.prototype.constructor=E.Events,E.Events.prototype.fire=function(g,d,y,I){var k,S=this,B=new E.EventDetail;if(S.callActions("beforeFire",arguments),typeof S[g]>"u")throw new Error('Event type "'+g+'" not found.');B.state=new E.State,C.extend(B.state,y.state),y.futureState&&(B.futureState=new E.State,C.extend(B.futureState,y.futureState)),B.instance=y.instance,y.originalEvent&&(B.originalEvent=y.originalEvent),k=C.getCustomEvent(g,B,I),S.callFilters("eventFire",k,arguments),d.dispatchEvent(k)},E.events=new E.Events,E.QueueItem=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.args=[],this.instruction=null,this.triggerElement=null,this.deferred=null,this.isToggling=!1,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.QueueItem),E.QueueItem.prototype=Object.create(E.Base.prototype),E.QueueItem.prototype.constructor=E.QueueItem,E.Mixer=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.config=new E.Config,this.id="",this.isBusy=!1,this.isToggling=!1,this.incPadding=!0,this.controls=[],this.targets=[],this.origOrder=[],this.cache={},this.toggleArray=[],this.targetsMoved=0,this.targetsImmovable=0,this.targetsBound=0,this.targetsDone=0,this.staggerDuration=0,this.effectsIn=null,this.effectsOut=null,this.transformIn=[],this.transformOut=[],this.queue=[],this.state=null,this.lastOperation=null,this.lastClicked=null,this.userCallback=null,this.userDeferred=null,this.dom=new E.MixerDom,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.Mixer),E.Mixer.prototype=Object.create(E.Base.prototype),C.extend(E.Mixer.prototype,{constructor:E.Mixer,attach:function(g,d,y,I){var S=this,k=null,B=-1;for(S.callActions("beforeAttach",arguments),S.id=y,I&&C.extend(S.config,I,!0,!0),S.sanitizeConfig(),S.cacheDom(g,d),S.config.layout.containerClassName&&C.addClass(S.dom.container,S.config.layout.containerClassName),E.features.has.transitions||(S.config.animation.enable=!1),typeof Ge.console>"u"&&(S.config.debug.showWarnings=!1),S.config.data.uidKey&&(S.config.controls.enable=!1),S.indexTargets(),S.state=S.getInitialState(),B=0;k=S.lastOperation.toHide[B];B++)k.hide();S.config.controls.enable&&(S.initControls(),S.buildToggleArray(null,S.state),S.updateControls({filter:S.state.activeFilter,sort:S.state.activeSort})),S.parseEffects(),S.callActions("afterAttach",arguments)},sanitizeConfig:function(){var g=this;g.callActions("beforeSanitizeConfig",arguments),g.config.controls.scope=g.config.controls.scope.toLowerCase().trim(),g.config.controls.toggleLogic=g.config.controls.toggleLogic.toLowerCase().trim(),g.config.controls.toggleDefault=g.config.controls.toggleDefault.toLowerCase().trim(),g.config.animation.effects=g.config.animation.effects.trim(),g.callActions("afterSanitizeConfig",arguments)},getInitialState:function(){var g=this,d=new E.State,y=new E.Operation;if(g.callActions("beforeGetInitialState",arguments),d.activeContainerClassName=g.config.layout.containerClassName,g.config.load.dataset){if(!g.config.data.uidKey||"string"!=typeof g.config.data.uidKey)throw new TypeError(E.messages.errorConfigDataUidKeyNotSet());y.startDataset=y.newDataset=d.activeDataset=g.config.load.dataset.slice(),y.startContainerClassName=y.newContainerClassName=d.activeContainerClassName,y.show=g.targets.slice(),d=g.callFilters("stateGetInitialState",d,arguments)}else d.activeFilter=g.parseFilterArgs([g.config.load.filter]).command,d.activeSort=g.parseSortArgs([g.config.load.sort]).command,d.totalTargets=g.targets.length,(d=g.callFilters("stateGetInitialState",d,arguments)).activeSort.collection||d.activeSort.attribute||"random"===d.activeSort.order||"desc"===d.activeSort.order?(y.newSort=d.activeSort,g.sortOperation(y),g.printSort(!1,y),g.targets=y.newOrder):y.startOrder=y.newOrder=g.targets,y.startFilter=y.newFilter=d.activeFilter,y.startSort=y.newSort=d.activeSort,y.startContainerClassName=y.newContainerClassName=d.activeContainerClassName,"all"===y.newFilter.selector?y.newFilter.selector=g.config.selectors.target:"none"===y.newFilter.selector&&(y.newFilter.selector="");return y=g.callFilters("operationGetInitialState",y,[d]),g.lastOperation=y,y.newFilter&&g.filterOperation(y),g.buildState(y)},cacheDom:function(g,d){var y=this;y.callActions("beforeCacheDom",arguments),y.dom.document=d,y.dom.body=y.dom.document.querySelector("body"),y.dom.container=g,y.dom.parent=g,y.callActions("afterCacheDom",arguments)},indexTargets:function(){var I,g=this,d=null,y=null,S=-1;if(g.callActions("beforeIndexTargets",arguments),g.dom.targets=g.config.layout.allowNestedTargets?g.dom.container.querySelectorAll(g.config.selectors.target):C.children(g.dom.container,g.config.selectors.target,g.dom.document),g.dom.targets=C.arrayFromList(g.dom.targets),g.targets=[],(I=g.config.load.dataset)&&I.length!==g.dom.targets.length)throw new Error(E.messages.errorDatasetPrerenderedMismatch());if(g.dom.targets.length){for(S=0;y=g.dom.targets[S];S++)(d=new E.Target).init(y,g,I?I[S]:void 0),d.isInDom=!0,g.targets.push(d);g.dom.parent=g.dom.targets[0].parentElement===g.dom.container?g.dom.container:g.dom.targets[0].parentElement}g.origOrder=g.targets,g.callActions("afterIndexTargets",arguments)},initControls:function(){var g=this,d="",y=null,I=null,S=null,k=null,B=null,Z=-1,K=-1;switch(g.callActions("beforeInitControls",arguments),g.config.controls.scope){case"local":S=g.dom.container;break;case"global":S=g.dom.document;break;default:throw new Error(E.messages.errorConfigInvalidControlsScope())}for(Z=0;d=E.controlDefinitions[Z];Z++)if(g.config.controls.live||d.live){if(d.parent){if(!(k=g.dom[d.parent])||k.length<0)continue;"number"!=typeof k.length&&(k=[k])}else k=[S];for(K=0;I=k[K];K++)B=g.getControl(I,d.type,d.selector),g.controls.push(B)}else for(y=S.querySelectorAll(g.config.selectors.control+d.selector),K=0;I=y[K];K++)(B=g.getControl(I,d.type,""))&&g.controls.push(B);g.callActions("afterInitControls",arguments)},getControl:function(g,d,y){var I=this,S=null,k=-1;if(I.callActions("beforeGetControl",arguments),!y)for(k=0;S=E.controls[k];k++){if(S.el===g&&S.isBound(I))return I.callFilters("controlGetControl",null,arguments);if(S.el===g&&S.type===d&&S.selector===y)return S.addBinding(I),I.callFilters("controlGetControl",S,arguments)}return(S=new E.Control).init(g,d,y),S.classNames.base=C.getClassname(I.config.classNames,d),S.classNames.active=C.getClassname(I.config.classNames,d,I.config.classNames.modifierActive),S.classNames.disabled=C.getClassname(I.config.classNames,d,I.config.classNames.modifierDisabled),S.addBinding(I),I.callFilters("controlGetControl",S,arguments)},getToggleSelector:function(){var g=this,d="or"===g.config.controls.toggleLogic?", ":"",y="";return g.callActions("beforeGetToggleSelector",arguments),g.toggleArray=C.clean(g.toggleArray),""===(y=g.toggleArray.join(d))&&(y=g.config.controls.toggleDefault),g.callFilters("selectorGetToggleSelector",y,arguments)},buildToggleArray:function(g,d){var y=this,I="";if(y.callActions("beforeBuildToggleArray",arguments),g&&g.filter)I=g.filter.selector.replace(/\s/g,"");else{if(!d)return;I=d.activeFilter.selector.replace(/\s/g,"")}(I===y.config.selectors.target||"all"===I)&&(I=""),y.toggleArray="or"===y.config.controls.toggleLogic?I.split(","):y.splitCompoundSelector(I),y.toggleArray=C.clean(y.toggleArray),y.callActions("afterBuildToggleArray",arguments)},splitCompoundSelector:function(g){var d=g.split(/([\.\[])/g),y=[],I="",S=-1;for(""===d[0]&&d.shift(),S=0;S<d.length;S++)S%2==0&&(I=""),I+=d[S],S%2!=0&&y.push(I);return y},updateControls:function(g){var d=this,y=null,I=new E.CommandMultimix,S=-1;for(d.callActions("beforeUpdateControls",arguments),I.filter=g.filter?g.filter.selector:d.state.activeFilter.selector,I.sort=d.buildSortString(g.sort?g.sort:d.state.activeSort),I.filter===d.config.selectors.target&&(I.filter="all"),""===I.filter&&(I.filter="none"),C.freeze(I),S=0;y=d.controls[S];S++)y.update(I,d.toggleArray);d.callActions("afterUpdateControls",arguments)},buildSortString:function(g){var y="";return y+=g.sortString,g.next&&(y+=" "+this.buildSortString(g.next)),y},insertTargets:function(g,d){var I,y=this,S=-1,k=null,B=null,Z=null,K=-1;if(y.callActions("beforeInsertTargets",arguments),typeof g.index>"u"&&(g.index=0),I=y.getNextSibling(g.index,g.sibling,g.position),k=y.dom.document.createDocumentFragment(),S=I?C.index(I,y.config.selectors.target):y.targets.length,g.collection){for(K=0;Z=g.collection[K];K++){if(y.dom.targets.indexOf(Z)>-1)throw new Error(E.messages.errorInsertPreexistingElement());Z.style.display="none",k.appendChild(Z),k.appendChild(y.dom.document.createTextNode(" ")),C.isElement(Z,y.dom.document)&&Z.matches(y.config.selectors.target)&&((B=new E.Target).init(Z,y),B.isInDom=!0,y.targets.splice(S,0,B),S++)}y.dom.parent.insertBefore(k,I)}d.startOrder=y.origOrder=y.targets,y.callActions("afterInsertTargets",arguments)},getNextSibling:function(g,d,y){var I=this,S=null;return g=Math.max(g,0),d&&"before"===y?S=d:d&&"after"===y?S=d.nextElementSibling||null:I.targets.length>0&&typeof g<"u"?S=g<I.targets.length||!I.targets.length?I.targets[g].dom.el:I.targets[I.targets.length-1].dom.el.nextElementSibling:0===I.targets.length&&I.dom.parent.children.length>0&&(I.config.layout.siblingAfter?S=I.config.layout.siblingAfter:I.config.layout.siblingBefore&&(S=I.config.layout.siblingBefore.nextElementSibling)),I.callFilters("elementGetNextSibling",S,arguments)},filterOperation:function(g){var S,d=this,y=!1,I=-1,k=null,B=-1;for(d.callActions("beforeFilterOperation",arguments),S=g.newFilter.action,B=0;k=g.newOrder[B];B++)y=g.newFilter.collection?g.newFilter.collection.indexOf(k.dom.el)>-1:""!==g.newFilter.selector&&k.dom.el.matches(g.newFilter.selector),d.evaluateHideShow(y,k,S,g);if(g.toRemove.length)for(B=0;k=g.show[B];B++)g.toRemove.indexOf(k)>-1&&(g.show.splice(B,1),(I=g.toShow.indexOf(k))>-1&&g.toShow.splice(I,1),g.toHide.push(k),g.hide.push(k),B--);g.matching=g.show.slice(),0===g.show.length&&""!==g.newFilter.selector&&0!==d.targets.length&&(g.hasFailed=!0),d.callActions("afterFilterOperation",arguments)},evaluateHideShow:function(g,d,y,I){var k,S=this,B=Array.prototype.slice.call(arguments,1);k=S.callFilters("testResultEvaluateHideShow",g,B),S.callActions("beforeEvaluateHideShow",arguments),!0===k&&"show"===y||!1===k&&"hide"===y?(I.show.push(d),!d.isShown&&I.toShow.push(d)):(I.hide.push(d),d.isShown&&I.toHide.push(d)),S.callActions("afterEvaluateHideShow",arguments)},sortOperation:function(g){var d=this,y=[],I=null,S=null,k=-1;if(d.callActions("beforeSortOperation",arguments),g.startOrder=d.targets,g.newSort.collection){for(y=[],k=0;S=g.newSort.collection[k];k++){if(d.dom.targets.indexOf(S)<0)throw new Error(E.messages.errorSortNonExistentElement());(I=new E.Target).init(S,d),I.isInDom=!0,y.push(I)}g.newOrder=y}else"random"===g.newSort.order?g.newOrder=C.arrayShuffle(g.startOrder):""===g.newSort.attribute?(g.newOrder=d.origOrder.slice(),"desc"===g.newSort.order&&g.newOrder.reverse()):(g.newOrder=g.startOrder.slice(),g.newOrder.sort(function(B,Z){return d.compare(B,Z,g.newSort)}));C.isEqualArray(g.newOrder,g.startOrder)&&(g.willSort=!1),d.callActions("afterSortOperation",arguments)},compare:function(g,d,y){var I=this,S=y.order,k=I.getAttributeValue(g,y.attribute),B=I.getAttributeValue(d,y.attribute);return isNaN(1*k)||isNaN(1*B)?(k=k.toLowerCase(),B=B.toLowerCase()):(k*=1,B*=1),k<B?"asc"===S?-1:1:k>B?"asc"===S?1:-1:k===B&&y.next?I.compare(g,d,y.next):0},getAttributeValue:function(g,d){var I;return null===(I=g.dom.el.getAttribute("data-"+d))&&this.config.debug.showWarnings&&console.warn(E.messages.warningInconsistentSortingAttributes({attribute:"data-"+d})),this.callFilters("valueGetAttributeValue",I||0,arguments)},printSort:function(g,d){var Z,y=this,I=g?d.newOrder:d.startOrder,S=g?d.startOrder:d.newOrder,k=I.length?I[I.length-1].dom.el.nextElementSibling:null,B=Ge.document.createDocumentFragment(),K=null,te=null,be=-1;for(y.callActions("beforePrintSort",arguments),be=0;K=I[be];be++)"absolute"!==(te=K.dom.el).style.position&&(C.removeWhitespace(te.previousSibling),te.parentElement.removeChild(te));for((Z=k?k.previousSibling:y.dom.parent.lastChild)&&"#text"===Z.nodeName&&C.removeWhitespace(Z),be=0;K=S[be];be++)te=K.dom.el,C.isElement(B.lastChild)&&B.appendChild(Ge.document.createTextNode(" ")),B.appendChild(te);y.dom.parent.firstChild&&y.dom.parent.firstChild!==k&&B.insertBefore(Ge.document.createTextNode(" "),B.childNodes[0]),k?(B.appendChild(Ge.document.createTextNode(" ")),y.dom.parent.insertBefore(B,k)):y.dom.parent.appendChild(B),y.callActions("afterPrintSort",arguments)},parseSortString:function(g,d){var I=g.split(" "),S=d,k=[],B=-1;for(B=0;B<I.length;B++){switch(k=I[B].split(":"),S.sortString=I[B],S.attribute=C.dashCase(k[0]),S.order=k[1]||"asc",S.attribute){case"default":S.attribute="";break;case"random":S.attribute="",S.order="random"}if(!S.attribute||"random"===S.order)break;B<I.length-1&&(S.next=new E.CommandSort,C.freeze(S),S=S.next)}return this.callFilters("commandsParseSort",d,arguments)},parseEffects:function(){var g=this,d="",y=g.config.animation.effectsIn||g.config.animation.effects,I=g.config.animation.effectsOut||g.config.animation.effects;for(d in g.callActions("beforeParseEffects",arguments),g.effectsIn=new E.StyleData,g.effectsOut=new E.StyleData,g.transformIn=[],g.transformOut=[],g.effectsIn.opacity=g.effectsOut.opacity=1,g.parseEffect("fade",y,g.effectsIn,g.transformIn),g.parseEffect("fade",I,g.effectsOut,g.transformOut,!0),E.transformDefaults)E.transformDefaults[d]instanceof E.TransformData&&(g.parseEffect(d,y,g.effectsIn,g.transformIn),g.parseEffect(d,I,g.effectsOut,g.transformOut,!0));g.parseEffect("stagger",y,g.effectsIn,g.transformIn),g.parseEffect("stagger",I,g.effectsOut,g.transformOut,!0),g.callActions("afterParseEffects",arguments)},parseEffect:function(g,d,y,I,S){var Z,k=this,K="",be="",Ke=["%","px","em","rem","vh","vw","deg"],ft="",_n=-1;if(k.callActions("beforeParseEffect",arguments),"string"!=typeof d)throw new TypeError(E.messages.errorConfigInvalidAnimationEffects());if(d.indexOf(g)<0)"stagger"===g&&(k.staggerDuration=0);else{switch((Z=d.indexOf(g+"("))>-1&&(K=d.substring(Z),be=/\(([^)]+)\)/.exec(K)[1]),g){case"fade":y.opacity=be?parseFloat(be):0;break;case"stagger":k.staggerDuration=be?parseFloat(be):100;break;default:if(y[g].value=S&&k.config.animation.reverseOut&&"scale"!==g?-1*(be?parseFloat(be):E.transformDefaults[g].value):be?parseFloat(be):E.transformDefaults[g].value,be){for(_n=0;ft=Ke[_n];_n++)if(be.indexOf(ft)>-1){y[g].unit=ft;break}}else y[g].unit=E.transformDefaults[g].unit;I.push(g+"("+y[g].value+y[g].unit+")")}k.callActions("afterParseEffect",arguments)}},buildState:function(g){var d=this,y=new E.State,I=null,S=-1;for(d.callActions("beforeBuildState",arguments),S=0;I=d.targets[S];S++)(!g.toRemove.length||g.toRemove.indexOf(I)<0)&&y.targets.push(I.dom.el);for(S=0;I=g.matching[S];S++)y.matching.push(I.dom.el);for(S=0;I=g.show[S];S++)y.show.push(I.dom.el);for(S=0;I=g.hide[S];S++)(!g.toRemove.length||g.toRemove.indexOf(I)<0)&&y.hide.push(I.dom.el);return y.id=d.id,y.container=d.dom.container,y.activeFilter=g.newFilter,y.activeSort=g.newSort,y.activeDataset=g.newDataset,y.activeContainerClassName=g.newContainerClassName,y.hasFailed=g.hasFailed,y.totalTargets=d.targets.length,y.totalShow=g.show.length,y.totalHide=g.hide.length,y.totalMatching=g.matching.length,y.triggerElement=g.triggerElement,d.callFilters("stateBuildState",y,arguments)},goMix:function(g,d){var I,y=this;return y.callActions("beforeGoMix",arguments),y.config.animation.duration&&y.config.animation.effects&&C.isVisible(y.dom.container)||(g=!1),!d.toShow.length&&!d.toHide.length&&!d.willSort&&!d.willChangeLayout&&(g=!1),!d.startState.show.length&&!d.show.length&&(g=!1),E.events.fire("mixStart",y.dom.container,{state:d.startState,futureState:d.newState,instance:y},y.dom.document),"function"==typeof y.config.callbacks.onMixStart&&y.config.callbacks.onMixStart.call(y.dom.container,d.startState,d.newState,y),C.removeClass(y.dom.container,C.getClassname(y.config.classNames,"container",y.config.classNames.modifierFailed)),I=y.userDeferred?y.userDeferred:y.userDeferred=C.defer(E.libraries),y.isBusy=!0,g&&E.features.has.transitions?(Ge.pageYOffset!==d.docState.scrollTop&&Ge.scrollTo(d.docState.scrollLeft,d.docState.scrollTop),y.config.animation.applyPerspective&&(y.dom.parent.style[E.features.perspectiveProp]=y.config.animation.perspectiveDistance,y.dom.parent.style[E.features.perspectiveOriginProp]=y.config.animation.perspectiveOrigin),y.config.animation.animateResizeContainer&&d.startHeight!==d.newHeight&&d.viewportDeltaY!==d.startHeight-d.newHeight&&(y.dom.parent.style.height=d.startHeight+"px"),y.config.animation.animateResizeContainer&&d.startWidth!==d.newWidth&&d.viewportDeltaX!==d.startWidth-d.newWidth&&(y.dom.parent.style.width=d.startWidth+"px"),d.startHeight===d.newHeight&&(y.dom.parent.style.height=d.startHeight+"px"),d.startWidth===d.newWidth&&(y.dom.parent.style.width=d.startWidth+"px"),d.startHeight===d.newHeight&&d.startWidth===d.newWidth&&(y.dom.parent.style.overflow="hidden"),requestAnimationFrame(function(){y.moveTargets(d)}),y.callFilters("promiseGoMix",I.promise,arguments)):(y.config.debug.fauxAsync?setTimeout(function(){y.cleanUp(d)},y.config.animation.duration):y.cleanUp(d),y.callFilters("promiseGoMix",I.promise,arguments))},getStartMixData:function(g){var d=this,y=Ge.getComputedStyle(d.dom.parent),I=d.dom.parent.getBoundingClientRect(),S=null,k={},B=-1;for(d.incPadding="border-box"===y[E.features.boxSizingProp],d.callActions("beforeGetStartMixData",arguments),B=0;S=g.show[B];B++)k=S.getPosData(),g.showPosData[B]={startPosData:k};for(B=0;S=g.toHide[B];B++)k=S.getPosData(),g.toHidePosData[B]={startPosData:k};g.startX=I.left,g.startY=I.top,g.startHeight=d.incPadding?I.height:I.height-parseFloat(y.paddingTop)-parseFloat(y.paddingBottom)-parseFloat(y.borderTop)-parseFloat(y.borderBottom),g.startWidth=d.incPadding?I.width:I.width-parseFloat(y.paddingLeft)-parseFloat(y.paddingRight)-parseFloat(y.borderLeft)-parseFloat(y.borderRight),d.callActions("afterGetStartMixData",arguments)},setInter:function(g){var d=this,y=null,I=-1;for(d.callActions("beforeSetInter",arguments),d.config.animation.clampHeight&&(d.dom.parent.style.height=g.startHeight+"px",d.dom.parent.style.overflow="hidden"),d.config.animation.clampWidth&&(d.dom.parent.style.width=g.startWidth+"px",d.dom.parent.style.overflow="hidden"),I=0;y=g.toShow[I];I++)y.show();g.willChangeLayout&&(C.removeClass(d.dom.container,g.startContainerClassName),C.addClass(d.dom.container,g.newContainerClassName)),d.callActions("afterSetInter",arguments)},getInterMixData:function(g){var y=null,I=-1;for(this.callActions("beforeGetInterMixData",arguments),I=0;y=g.show[I];I++)g.showPosData[I].interPosData=y.getPosData();for(I=0;y=g.toHide[I];I++)g.toHidePosData[I].interPosData=y.getPosData();this.callActions("afterGetInterMixData",arguments)},setFinal:function(g){var d=this,y=null,I=-1;for(d.callActions("beforeSetFinal",arguments),g.willSort&&d.printSort(!1,g),I=0;y=g.toHide[I];I++)y.hide();d.callActions("afterSetFinal",arguments)},getFinalMixData:function(g){var I,d=this,y=null,S=null,k=-1;for(d.callActions("beforeGetFinalMixData",arguments),k=0;S=g.show[k];k++)g.showPosData[k].finalPosData=S.getPosData();for(k=0;S=g.toHide[k];k++)g.toHidePosData[k].finalPosData=S.getPosData();for((d.config.animation.clampHeight||d.config.animation.clampWidth)&&(d.dom.parent.style.height=d.dom.parent.style.width=d.dom.parent.style.overflow=""),d.incPadding||(y=Ge.getComputedStyle(d.dom.parent)),I=d.dom.parent.getBoundingClientRect(),g.newX=I.left,g.newY=I.top,g.newHeight=d.incPadding?I.height:I.height-parseFloat(y.paddingTop)-parseFloat(y.paddingBottom)-parseFloat(y.borderTop)-parseFloat(y.borderBottom),g.newWidth=d.incPadding?I.width:I.width-parseFloat(y.paddingLeft)-parseFloat(y.paddingRight)-parseFloat(y.borderLeft)-parseFloat(y.borderRight),g.viewportDeltaX=g.docState.viewportWidth-this.dom.document.documentElement.clientWidth,g.viewportDeltaY=g.docState.viewportHeight-this.dom.document.documentElement.clientHeight,g.willSort&&d.printSort(!0,g),k=0;S=g.toShow[k];k++)S.hide();for(k=0;S=g.toHide[k];k++)S.show();g.willChangeLayout&&(C.removeClass(d.dom.container,g.newContainerClassName),C.addClass(d.dom.container,d.config.layout.containerClassName)),d.callActions("afterGetFinalMixData",arguments)},getTweenData:function(g){var d=this,y=null,I=null,S=Object.getOwnPropertyNames(d.effectsIn),k="",B=null,te=-1,be=-1;for(d.callActions("beforeGetTweenData",arguments),te=0;y=g.show[te];te++)for((I=g.showPosData[te]).posIn=new E.StyleData,I.posOut=new E.StyleData,I.tweenData=new E.StyleData,y.isShown?(I.posIn.x=I.startPosData.x-I.interPosData.x,I.posIn.y=I.startPosData.y-I.interPosData.y):I.posIn.x=I.posIn.y=0,I.posOut.x=I.finalPosData.x-I.interPosData.x,I.posOut.y=I.finalPosData.y-I.interPosData.y,I.posIn.opacity=y.isShown?1:d.effectsIn.opacity,I.posOut.opacity=1,I.tweenData.opacity=I.posOut.opacity-I.posIn.opacity,!y.isShown&&!d.config.animation.nudge&&(I.posIn.x=I.posOut.x,I.posIn.y=I.posOut.y),I.tweenData.x=I.posOut.x-I.posIn.x,I.tweenData.y=I.posOut.y-I.posIn.y,d.config.animation.animateResizeTargets&&(I.posIn.width=I.startPosData.width,I.posIn.height=I.startPosData.height,I.posIn.marginRight=I.startPosData.marginRight-((I.startPosData.width||I.finalPosData.width)-I.interPosData.width),I.posIn.marginBottom=I.startPosData.marginBottom-((I.startPosData.height||I.finalPosData.height)-I.interPosData.height),I.posOut.width=I.finalPosData.width,I.posOut.height=I.finalPosData.height,I.posOut.marginRight=I.finalPosData.marginRight-((I.finalPosData.width||I.startPosData.width)-I.interPosData.width),I.posOut.marginBottom=I.finalPosData.marginBottom-((I.finalPosData.height||I.startPosData.height)-I.interPosData.height),I.tweenData.width=I.posOut.width-I.posIn.width,I.tweenData.height=I.posOut.height-I.posIn.height,I.tweenData.marginRight=I.posOut.marginRight-I.posIn.marginRight,I.tweenData.marginBottom=I.posOut.marginBottom-I.posIn.marginBottom),be=0;k=S[be];be++)(B=d.effectsIn[k])instanceof E.TransformData&&B.value&&(I.posIn[k].value=B.value,I.posOut[k].value=0,I.tweenData[k].value=I.posOut[k].value-I.posIn[k].value,I.posIn[k].unit=I.posOut[k].unit=I.tweenData[k].unit=B.unit);for(te=0;y=g.toHide[te];te++)for((I=g.toHidePosData[te]).posIn=new E.StyleData,I.posOut=new E.StyleData,I.tweenData=new E.StyleData,I.posIn.x=y.isShown?I.startPosData.x-I.interPosData.x:0,I.posIn.y=y.isShown?I.startPosData.y-I.interPosData.y:0,I.posOut.x=d.config.animation.nudge?0:I.posIn.x,I.posOut.y=d.config.animation.nudge?0:I.posIn.y,I.tweenData.x=I.posOut.x-I.posIn.x,I.tweenData.y=I.posOut.y-I.posIn.y,d.config.animation.animateResizeTargets&&(I.posIn.width=I.startPosData.width,I.posIn.height=I.startPosData.height,I.posIn.marginRight=I.startPosData.marginRight-(I.startPosData.width-I.interPosData.width),I.posIn.marginBottom=I.startPosData.marginBottom-(I.startPosData.height-I.interPosData.height)),I.posIn.opacity=1,I.posOut.opacity=d.effectsOut.opacity,I.tweenData.opacity=I.posOut.opacity-I.posIn.opacity,be=0;k=S[be];be++)(B=d.effectsOut[k])instanceof E.TransformData&&B.value&&(I.posIn[k].value=0,I.posOut[k].value=B.value,I.tweenData[k].value=I.posOut[k].value-I.posIn[k].value,I.posIn[k].unit=I.posOut[k].unit=I.tweenData[k].unit=B.unit);d.callActions("afterGetTweenData",arguments)},moveTargets:function(g){var d=this,y=null,I=null,S=null,k="",B=!1,Z=-1,K=-1,te=d.checkProgress.bind(d);for(d.callActions("beforeMoveTargets",arguments),K=0;y=g.show[K];K++)I=new E.IMoveData,(B=d.willTransition(k=y.isShown?"none":"show",g.hasEffect,(S=g.showPosData[K]).posIn,S.posOut))&&Z++,y.show(),I.posIn=S.posIn,I.posOut=S.posOut,I.statusChange=k,I.staggerIndex=Z,I.operation=g,I.callback=B?te:null,y.move(I);for(K=0;y=g.toHide[K];K++)S=g.toHidePosData[K],I=new E.IMoveData,B=d.willTransition(k="hide",S.posIn,S.posOut),I.posIn=S.posIn,I.posOut=S.posOut,I.statusChange=k,I.staggerIndex=K,I.operation=g,I.callback=B?te:null,y.move(I);d.config.animation.animateResizeContainer&&(d.dom.parent.style[E.features.transitionProp]="height "+d.config.animation.duration+"ms ease, width "+d.config.animation.duration+"ms ease ",requestAnimationFrame(function(){g.startHeight!==g.newHeight&&g.viewportDeltaY!==g.startHeight-g.newHeight&&(d.dom.parent.style.height=g.newHeight+"px"),g.startWidth!==g.newWidth&&g.viewportDeltaX!==g.startWidth-g.newWidth&&(d.dom.parent.style.width=g.newWidth+"px")})),g.willChangeLayout&&(C.removeClass(d.dom.container,d.config.layout.ContainerClassName),C.addClass(d.dom.container,g.newContainerClassName)),d.callActions("afterMoveTargets",arguments)},hasEffect:function(){var g=this,d=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],y="",I=null,S=!1,B=-1;if(1!==g.effectsIn.opacity)return g.callFilters("resultHasEffect",!0,arguments);for(B=0;y=d[B];B++)if(0!==("undefined"!==(I=g.effectsIn[y]).value?I.value:I)){S=!0;break}return g.callFilters("resultHasEffect",S,arguments)},willTransition:function(g,d,y,I){var k,S=this;return k=!(!C.isVisible(S.dom.container)||!("none"!==g&&d||y.x!==I.x||y.y!==I.y)&&(!S.config.animation.animateResizeTargets||y.width===I.width&&y.height===I.height&&y.marginRight===I.marginRight&&y.marginTop===I.marginTop)),S.callFilters("resultWillTransition",k,arguments)},checkProgress:function(g){var d=this;d.targetsDone++,d.targetsBound===d.targetsDone&&d.cleanUp(g)},cleanUp:function(g){var d=this,y=null,I=null,S=null,k=null,B=-1;for(d.callActions("beforeCleanUp",arguments),d.targetsMoved=d.targetsImmovable=d.targetsBound=d.targetsDone=0,B=0;y=g.show[B];B++)y.cleanUp(),y.show();for(B=0;y=g.toHide[B];B++)y.cleanUp(),y.hide();if(g.willSort&&d.printSort(!1,g),d.dom.parent.style[E.features.transitionProp]=d.dom.parent.style.height=d.dom.parent.style.width=d.dom.parent.style.overflow=d.dom.parent.style[E.features.perspectiveProp]=d.dom.parent.style[E.features.perspectiveOriginProp]="",g.willChangeLayout&&(C.removeClass(d.dom.container,g.startContainerClassName),C.addClass(d.dom.container,g.newContainerClassName)),g.toRemove.length){for(B=0;y=d.targets[B];B++)g.toRemove.indexOf(y)>-1&&((I=y.dom.el.previousSibling)&&"#text"===I.nodeName&&(S=y.dom.el.nextSibling)&&"#text"===S.nodeName&&C.removeWhitespace(I),g.willSort||d.dom.parent.removeChild(y.dom.el),d.targets.splice(B,1),y.isInDom=!1,B--);d.origOrder=d.targets}g.willSort&&(d.targets=g.newOrder),d.state=g.newState,d.lastOperation=g,d.dom.targets=d.state.targets,E.events.fire("mixEnd",d.dom.container,{state:d.state,instance:d},d.dom.document),"function"==typeof d.config.callbacks.onMixEnd&&d.config.callbacks.onMixEnd.call(d.dom.container,d.state,d),g.hasFailed&&(E.events.fire("mixFail",d.dom.container,{state:d.state,instance:d},d.dom.document),"function"==typeof d.config.callbacks.onMixFail&&d.config.callbacks.onMixFail.call(d.dom.container,d.state,d),C.addClass(d.dom.container,C.getClassname(d.config.classNames,"container",d.config.classNames.modifierFailed))),"function"==typeof d.userCallback&&d.userCallback.call(d.dom.container,d.state,d),"function"==typeof d.userDeferred.resolve&&d.userDeferred.resolve(d.state),d.userCallback=null,d.userDeferred=null,d.lastClicked=null,d.isToggling=!1,d.isBusy=!1,d.queue.length&&(d.callActions("beforeReadQueueCleanUp",arguments),k=d.queue.shift(),d.userDeferred=k.deferred,d.isToggling=k.isToggling,d.lastClicked=k.triggerElement,k.instruction.command instanceof E.CommandMultimix?d.multimix.apply(d,k.args):d.dataset.apply(d,k.args)),d.callActions("afterCleanUp",arguments)},parseMultimixArgs:function(g){var d=this,y=new E.UserInstruction,I=null,S=-1;for(y.animate=d.config.animation.enable,y.command=new E.CommandMultimix,S=0;S<g.length;S++)null!==(I=g[S])&&("object"==typeof I?C.extend(y.command,I):"boolean"==typeof I?y.animate=I:"function"==typeof I&&(y.callback=I));return y.command.insert&&!(y.command.insert instanceof E.CommandInsert)&&(y.command.insert=d.parseInsertArgs([y.command.insert]).command),y.command.remove&&!(y.command.remove instanceof E.CommandRemove)&&(y.command.remove=d.parseRemoveArgs([y.command.remove]).command),y.command.filter&&!(y.command.filter instanceof E.CommandFilter)&&(y.command.filter=d.parseFilterArgs([y.command.filter]).command),y.command.sort&&!(y.command.sort instanceof E.CommandSort)&&(y.command.sort=d.parseSortArgs([y.command.sort]).command),y.command.changeLayout&&!(y.command.changeLayout instanceof E.CommandChangeLayout)&&(y.command.changeLayout=d.parseChangeLayoutArgs([y.command.changeLayout]).command),y=d.callFilters("instructionParseMultimixArgs",y,arguments),C.freeze(y),y},parseFilterArgs:function(g){var d=this,y=new E.UserInstruction,I=null,S=-1;for(y.animate=d.config.animation.enable,y.command=new E.CommandFilter,S=0;S<g.length;S++)"string"==typeof(I=g[S])?y.command.selector=I:null===I?y.command.collection=[]:"object"==typeof I&&C.isElement(I,d.dom.document)?y.command.collection=[I]:"object"==typeof I&&typeof I.length<"u"?y.command.collection=C.arrayFromList(I):"object"==typeof I?C.extend(y.command,I):"boolean"==typeof I?y.animate=I:"function"==typeof I&&(y.callback=I);if(y.command.selector&&y.command.collection)throw new Error(E.messages.errorFilterInvalidArguments());return y=d.callFilters("instructionParseFilterArgs",y,arguments),C.freeze(y),y},parseSortArgs:function(g){var d=this,y=new E.UserInstruction,I=null,S="",k=-1;for(y.animate=d.config.animation.enable,y.command=new E.CommandSort,k=0;k<g.length;k++)if(null!==(I=g[k]))switch(typeof I){case"string":S=I;break;case"object":I.length&&(y.command.collection=C.arrayFromList(I));break;case"boolean":y.animate=I;break;case"function":y.callback=I}return S&&(y.command=d.parseSortString(S,y.command)),y=d.callFilters("instructionParseSortArgs",y,arguments),C.freeze(y),y},parseInsertArgs:function(g){var d=this,y=new E.UserInstruction,I=null,S=-1;for(y.animate=d.config.animation.enable,y.command=new E.CommandInsert,S=0;S<g.length;S++)null!==(I=g[S])&&("number"==typeof I?y.command.index=I:"string"==typeof I&&["before","after"].indexOf(I)>-1?y.command.position=I:"string"==typeof I?y.command.collection=C.arrayFromList(C.createElement(I).childNodes):"object"==typeof I&&C.isElement(I,d.dom.document)?y.command.collection.length?y.command.sibling=I:y.command.collection=[I]:"object"==typeof I&&I.length?y.command.collection.length?y.command.sibling=I[0]:y.command.collection=I:"object"==typeof I&&I.childNodes&&I.childNodes.length?y.command.collection.length?y.command.sibling=I.childNodes[0]:y.command.collection=C.arrayFromList(I.childNodes):"object"==typeof I?C.extend(y.command,I):"boolean"==typeof I?y.animate=I:"function"==typeof I&&(y.callback=I));if(y.command.index&&y.command.sibling)throw new Error(E.messages.errorInsertInvalidArguments());return!y.command.collection.length&&d.config.debug.showWarnings&&console.warn(E.messages.warningInsertNoElements()),y=d.callFilters("instructionParseInsertArgs",y,arguments),C.freeze(y),y},parseRemoveArgs:function(g){var d=this,y=new E.UserInstruction,I=null,S=null,k=-1;for(y.animate=d.config.animation.enable,y.command=new E.CommandRemove,k=0;k<g.length;k++)if(null!==(S=g[k]))switch(typeof S){case"number":d.targets[S]&&(y.command.targets[0]=d.targets[S]);break;case"string":y.command.collection=C.arrayFromList(d.dom.parent.querySelectorAll(S));break;case"object":S&&S.length?y.command.collection=S:C.isElement(S,d.dom.document)?y.command.collection=[S]:C.extend(y.command,S);break;case"boolean":y.animate=S;break;case"function":y.callback=S}if(y.command.collection.length)for(k=0;I=d.targets[k];k++)y.command.collection.indexOf(I.dom.el)>-1&&y.command.targets.push(I);return!y.command.targets.length&&d.config.debug.showWarnings&&console.warn(E.messages.warningRemoveNoElements()),C.freeze(y),y},parseDatasetArgs:function(g){var y=new E.UserInstruction,I=null,S=-1;for(y.animate=this.config.animation.enable,y.command=new E.CommandDataset,S=0;S<g.length;S++)if(null!==(I=g[S]))switch(typeof I){case"object":Array.isArray(I)||"number"==typeof I.length?y.command.dataset=I:C.extend(y.command,I);break;case"boolean":y.animate=I;break;case"function":y.callback=I}return C.freeze(y),y},parseChangeLayoutArgs:function(g){var y=new E.UserInstruction,I=null,S=-1;for(y.animate=this.config.animation.enable,y.command=new E.CommandChangeLayout,S=0;S<g.length;S++)if(null!==(I=g[S]))switch(typeof I){case"string":y.command.containerClassName=I;break;case"object":C.extend(y.command,I);break;case"boolean":y.animate=I;break;case"function":y.callback=I}return C.freeze(y),y},queueMix:function(g){var d=this,y=null,I="";return d.callActions("beforeQueueMix",arguments),y=C.defer(E.libraries),d.config.animation.queue&&d.queue.length<d.config.animation.queueLimit?(g.deferred=y,d.queue.push(g),d.config.controls.enable&&(d.isToggling?(d.buildToggleArray(g.instruction.command),I=d.getToggleSelector(),d.updateControls({filter:{selector:I}})):d.updateControls(g.instruction.command))):(d.config.debug.showWarnings&&console.warn(E.messages.warningMultimixInstanceQueueFull()),y.resolve(d.state),E.events.fire("mixBusy",d.dom.container,{state:d.state,instance:d},d.dom.document),"function"==typeof d.config.callbacks.onMixBusy&&d.config.callbacks.onMixBusy.call(d.dom.container,d.state,d)),d.callFilters("promiseQueueMix",y.promise,arguments)},getDataOperation:function(g){var d=this,y=new E.Operation,I=[];if(y=d.callFilters("operationUnmappedGetDataOperation",y,arguments),d.dom.targets.length&&!(I=d.state.activeDataset||[]).length)throw new Error(E.messages.errorDatasetNotSet());return y.id=C.randomHex(),y.startState=d.state,y.startDataset=I,y.newDataset=g.slice(),d.diffDatasets(y),y.startOrder=d.targets,y.newOrder=y.show,d.config.animation.enable&&(d.getStartMixData(y),d.setInter(y),y.docState=C.getDocumentState(d.dom.document),d.getInterMixData(y),d.setFinal(y),d.getFinalMixData(y),d.parseEffects(),y.hasEffect=d.hasEffect(),d.getTweenData(y)),d.targets=y.show.slice(),y.newState=d.buildState(y),Array.prototype.push.apply(d.targets,y.toRemove),d.callFilters("operationMappedGetDataOperation",y,arguments)},diffDatasets:function(g){var d=this,y=[],I=[],S=[],k=null,B=null,Z=null,K=null,te=null,be={},Ke="",ft=-1;for(d.callActions("beforeDiffDatasets",arguments),ft=0;k=g.newDataset[ft];ft++){if(typeof(Ke=k[d.config.data.uidKey])>"u"||Ke.toString().length<1)throw new TypeError(E.messages.errorDatasetInvalidUidKey({uidKey:d.config.data.uidKey}));if(be[Ke])throw new Error(E.messages.errorDatasetDuplicateUid({uid:Ke}));be[Ke]=!0,(B=d.cache[Ke])instanceof E.Target?(d.config.data.dirtyCheck&&!C.deepEquals(k,B.data)&&(Z=B.render(k),B.data=k,Z!==B.dom.el&&(B.isInDom&&(B.unbindEvents(),d.dom.parent.replaceChild(Z,B.dom.el)),B.isShown||(Z.style.display="none"),B.dom.el=Z,B.isInDom&&B.bindEvents())),Z=B.dom.el):((B=new E.Target).init(null,d,k),B.hide()),B.isInDom?(te=B.dom.el.nextElementSibling,I.push(Ke),K&&(K.lastElementChild&&K.appendChild(d.dom.document.createTextNode(" ")),d.insertDatasetFrag(K,B.dom.el,S),K=null)):(K||(K=d.dom.document.createDocumentFragment()),K.lastElementChild&&K.appendChild(d.dom.document.createTextNode(" ")),K.appendChild(B.dom.el),B.isInDom=!0,B.unbindEvents(),B.bindEvents(),B.hide(),g.toShow.push(B),S.push(B)),g.show.push(B)}for(K&&((te=te||d.config.layout.siblingAfter)&&K.appendChild(d.dom.document.createTextNode(" ")),d.insertDatasetFrag(K,te,S)),ft=0;k=g.startDataset[ft];ft++)g.show.indexOf(B=d.cache[Ke=k[d.config.data.uidKey]])<0?(g.hide.push(B),g.toHide.push(B),g.toRemove.push(B)):y.push(Ke);C.isEqualArray(y,I)||(g.willSort=!0),d.callActions("afterDiffDatasets",arguments)},insertDatasetFrag:function(g,d,y){var I=this,S=d?C.arrayFromList(I.dom.parent.children).indexOf(d):I.targets.length;for(I.dom.parent.insertBefore(g,d);y.length;)I.targets.splice(S,0,y.shift()),S++},willSort:function(g,d){var I,y=this;return I=!!(y.config.behavior.liveSort||"random"===g.order||g.attribute!==d.attribute||g.order!==d.order||g.collection!==d.collection||null===g.next&&d.next||g.next&&null===d.next)||!(!g.next||!d.next)&&y.willSort(g.next,d.next),y.callFilters("resultWillSort",I,arguments)},show:function(){return this.filter("all")},hide:function(){return this.filter("none")},isMixing:function(){return this.isBusy},filter:function(){var d=this.parseFilterArgs(arguments);return this.multimix({filter:d.command},d.animate,d.callback)},toggleOn:function(){var I,g=this,d=g.parseFilterArgs(arguments),y=d.command.selector;return g.isToggling=!0,g.toggleArray.indexOf(y)<0&&g.toggleArray.push(y),I=g.getToggleSelector(),g.multimix({filter:I},d.animate,d.callback)},toggleOff:function(){var S,g=this,d=g.parseFilterArgs(arguments),I=g.toggleArray.indexOf(d.command.selector);return g.isToggling=!0,I>-1&&g.toggleArray.splice(I,1),S=g.getToggleSelector(),g.multimix({filter:S},d.animate,d.callback)},sort:function(){var d=this.parseSortArgs(arguments);return this.multimix({sort:d.command},d.animate,d.callback)},changeLayout:function(){var d=this.parseChangeLayoutArgs(arguments);return this.multimix({changeLayout:d.command},d.animate,d.callback)},dataset:function(){var g=this,d=g.parseDatasetArgs(arguments),y=null,I=null,S=!1;return g.callActions("beforeDataset",arguments),g.isBusy?((I=new E.QueueItem).args=arguments,I.instruction=d,g.queueMix(I)):(d.callback&&(g.userCallback=d.callback),S=d.animate^g.config.animation.enable?d.animate:g.config.animation.enable,y=g.getDataOperation(d.command.dataset),g.goMix(S,y))},multimix:function(){var g=this,d=null,y=!1,I=null,S=g.parseMultimixArgs(arguments);return g.callActions("beforeMultimix",arguments),g.isBusy?((I=new E.QueueItem).args=arguments,I.instruction=S,I.triggerElement=g.lastClicked,I.isToggling=g.isToggling,g.queueMix(I)):(d=g.getOperation(S.command),g.config.controls.enable&&(S.command.filter&&!g.isToggling&&(g.toggleArray.length=0,g.buildToggleArray(d.command)),g.queue.length<1&&g.updateControls(d.command)),S.callback&&(g.userCallback=S.callback),y=S.animate^g.config.animation.enable?S.animate:g.config.animation.enable,g.callFilters("operationMultimix",d,arguments),g.goMix(y,d))},getOperation:function(g){var d=this,y=g.sort,I=g.filter,S=g.changeLayout,k=g.remove,B=g.insert,Z=new E.Operation;return(Z=d.callFilters("operationUnmappedGetOperation",Z,arguments)).id=C.randomHex(),Z.command=g,Z.startState=d.state,Z.triggerElement=d.lastClicked,d.isBusy?(d.config.debug.showWarnings&&console.warn(E.messages.warningGetOperationInstanceBusy()),null):(B&&d.insertTargets(B,Z),k&&(Z.toRemove=k.targets),Z.startSort=Z.newSort=Z.startState.activeSort,Z.startOrder=Z.newOrder=d.targets,y&&(Z.startSort=Z.startState.activeSort,Z.newSort=y,Z.willSort=d.willSort(y,Z.startState.activeSort),Z.willSort&&d.sortOperation(Z)),Z.startFilter=Z.startState.activeFilter,Z.newFilter=I||C.extend(new E.CommandFilter,Z.startFilter),"all"===Z.newFilter.selector?Z.newFilter.selector=d.config.selectors.target:"none"===Z.newFilter.selector&&(Z.newFilter.selector=""),d.filterOperation(Z),Z.startContainerClassName=Z.startState.activeContainerClassName,S?(Z.newContainerClassName=S.containerClassName,Z.newContainerClassName!==Z.startContainerClassName&&(Z.willChangeLayout=!0)):Z.newContainerClassName=Z.startContainerClassName,d.config.animation.enable&&(d.getStartMixData(Z),d.setInter(Z),Z.docState=C.getDocumentState(d.dom.document),d.getInterMixData(Z),d.setFinal(Z),d.getFinalMixData(Z),d.parseEffects(),Z.hasEffect=d.hasEffect(),d.getTweenData(Z)),Z.willSort&&(d.targets=Z.newOrder),Z.newState=d.buildState(Z),d.callFilters("operationMappedGetOperation",Z,arguments))},tween:function(g,d){var y=null,I=null,S=-1,k=-1;for(d=Math.min(d,1),d=Math.max(d,0),k=0;y=g.show[k];k++)y.applyTween(I=g.showPosData[k],d);for(k=0;y=g.hide[k];k++)y.isShown&&y.hide(),(S=g.toHide.indexOf(y))>-1&&(I=g.toHidePosData[S],y.isShown||y.show(),y.applyTween(I,d))},insert:function(){var d=this.parseInsertArgs(arguments);return this.multimix({insert:d.command},d.animate,d.callback)},insertBefore:function(){var d=this.parseInsertArgs(arguments);return this.insert(d.command.collection,"before",d.command.sibling,d.animate,d.callback)},insertAfter:function(){var d=this.parseInsertArgs(arguments);return this.insert(d.command.collection,"after",d.command.sibling,d.animate,d.callback)},prepend:function(){var d=this.parseInsertArgs(arguments);return this.insert(0,d.command.collection,d.animate,d.callback)},append:function(){var g=this,d=g.parseInsertArgs(arguments);return g.insert(g.state.totalTargets,d.command.collection,d.animate,d.callback)},remove:function(){var d=this.parseRemoveArgs(arguments);return this.multimix({remove:d.command},d.animate,d.callback)},getConfig:function(g){var y,d=this;return y=g?C.getProperty(d.config,g):d.config,d.callFilters("valueGetConfig",y,arguments)},configure:function(g){var d=this;d.callActions("beforeConfigure",arguments),C.extend(d.config,g,!0,!0),d.callActions("afterConfigure",arguments)},getState:function(){var d;return d=new E.State,C.extend(d,this.state),C.freeze(d),this.callFilters("stateGetState",d,arguments)},forceRefresh:function(){this.indexTargets()},forceRender:function(){var g=this,d=null,y=null,I="";for(I in g.cache)(y=(d=g.cache[I]).render(d.data))!==d.dom.el&&(d.isInDom&&(d.unbindEvents(),g.dom.parent.replaceChild(y,d.dom.el)),d.isShown||(y.style.display="none"),d.dom.el=y,d.isInDom&&d.bindEvents());g.state=g.buildState(g.lastOperation)},destroy:function(g){var d=this,y=null,I=null,S=0;for(d.callActions("beforeDestroy",arguments),S=0;y=d.controls[S];S++)y.removeBinding(d);for(S=0;I=d.targets[S];S++)g&&I.show(),I.unbindEvents();d.dom.container.id.match(/^MixItUp/)&&d.dom.container.removeAttribute("id"),delete E.instances[d.id],d.callActions("afterDestroy",arguments)}}),E.IMoveData=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.posIn=null,this.posOut=null,this.operation=null,this.callback=null,this.statusChange="",this.duration=-1,this.staggerIndex=-1,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.IMoveData),E.IMoveData.prototype=Object.create(E.Base.prototype),E.IMoveData.prototype.constructor=E.IMoveData,E.TargetDom=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.el=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.TargetDom),E.TargetDom.prototype=Object.create(E.Base.prototype),E.TargetDom.prototype.constructor=E.TargetDom,E.Target=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.isInDom=!1,this.handler=null,this.operation=null,this.data=null,this.dom=new E.TargetDom,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.Target),E.Target.prototype=Object.create(E.Base.prototype),C.extend(E.Target.prototype,{constructor:E.Target,init:function(g,d,y){var I=this,S="";if(I.callActions("beforeInit",arguments),I.mixer=d,g||(g=I.render(y)),I.cacheDom(g),I.bindEvents(),"none"!==I.dom.el.style.display&&(I.isShown=!0),y&&d.config.data.uidKey){if(typeof(S=y[d.config.data.uidKey])>"u"||S.toString().length<1)throw new TypeError(E.messages.errorDatasetInvalidUidKey({uidKey:d.config.data.uidKey}));I.id=S,I.data=y,d.cache[S]=I}I.callActions("afterInit",arguments)},render:function(g){var k,d=this,y=null,I=null,S=null;if(d.callActions("beforeRender",arguments),"function"!=typeof(y=d.callFilters("renderRender",d.mixer.config.render.target,arguments)))throw new TypeError(E.messages.errorDatasetRendererNotSet());return(k=y(g))&&"object"==typeof k&&C.isElement(k)?I=k:"string"==typeof k&&((S=document.createElement("div")).innerHTML=k,I=S.firstElementChild),d.callFilters("elRender",I,arguments)},cacheDom:function(g){var d=this;d.callActions("beforeCacheDom",arguments),d.dom.el=g,d.callActions("afterCacheDom",arguments)},getSortString:function(g){var d=this,y=d.dom.el.getAttribute("data-"+g)||"";d.callActions("beforeGetSortString",arguments),y=isNaN(1*y)?y.toLowerCase():1*y,d.sortString=y,d.callActions("afterGetSortString",arguments)},show:function(){var g=this;g.callActions("beforeShow",arguments),g.isShown||(g.dom.el.style.display="",g.isShown=!0),g.callActions("afterShow",arguments)},hide:function(){var g=this;g.callActions("beforeHide",arguments),g.isShown&&(g.dom.el.style.display="none",g.isShown=!1),g.callActions("afterHide",arguments)},move:function(g){var d=this;d.callActions("beforeMove",arguments),d.isExcluded||d.mixer.targetsMoved++,d.applyStylesIn(g),requestAnimationFrame(function(){d.applyStylesOut(g)}),d.callActions("afterMove",arguments)},applyTween:function(g,d){var y=this,I="",S=null,k=g.posIn,B=[],Z=new E.StyleData,K=-1;for(y.callActions("beforeApplyTween",arguments),Z.x=k.x,Z.y=k.y,0===d?y.hide():y.isShown||y.show(),K=0;I=E.features.TWEENABLE[K];K++)if(S=g.tweenData[I],"x"===I){if(!S)continue;Z.x=k.x+S*d}else if("y"===I){if(!S)continue;Z.y=k.y+S*d}else if(S instanceof E.TransformData){if(!S.value)continue;Z[I].value=k[I].value+S.value*d,Z[I].unit=S.unit,B.push(I+"("+Z[I].value+S.unit+")")}else{if(!S)continue;Z[I]=k[I]+S*d,y.dom.el.style[I]=Z[I]}(Z.x||Z.y)&&B.unshift("translate("+Z.x+"px, "+Z.y+"px)"),B.length&&(y.dom.el.style[E.features.transformProp]=B.join(" ")),y.callActions("afterApplyTween",arguments)},applyStylesIn:function(g){var d=this,y=g.posIn,I=1!==d.mixer.effectsIn.opacity,S=[];d.callActions("beforeApplyStylesIn",arguments),S.push("translate("+y.x+"px, "+y.y+"px)"),d.mixer.config.animation.animateResizeTargets&&("show"!==g.statusChange&&(d.dom.el.style.width=y.width+"px",d.dom.el.style.height=y.height+"px"),d.dom.el.style.marginRight=y.marginRight+"px",d.dom.el.style.marginBottom=y.marginBottom+"px"),I&&(d.dom.el.style.opacity=y.opacity),"show"===g.statusChange&&(S=S.concat(d.mixer.transformIn)),d.dom.el.style[E.features.transformProp]=S.join(" "),d.callActions("afterApplyStylesIn",arguments)},applyStylesOut:function(g){var d=this,y=[],I=[],S=d.mixer.config.animation.animateResizeTargets,k=typeof d.mixer.effectsIn.opacity<"u";if(d.callActions("beforeApplyStylesOut",arguments),y.push(d.writeTransitionRule(E.features.transformRule,g.staggerIndex)),"none"!==g.statusChange&&y.push(d.writeTransitionRule("opacity",g.staggerIndex,g.duration)),S&&(y.push(d.writeTransitionRule("width",g.staggerIndex,g.duration)),y.push(d.writeTransitionRule("height",g.staggerIndex,g.duration)),y.push(d.writeTransitionRule("margin",g.staggerIndex,g.duration))),!g.callback)return d.mixer.targetsImmovable++,void(d.mixer.targetsMoved===d.mixer.targetsImmovable&&d.mixer.cleanUp(g.operation));switch(d.operation=g.operation,d.callback=g.callback,!d.isExcluded&&d.mixer.targetsBound++,d.isBound=!0,d.applyTransition(y),S&&g.posOut.width>0&&g.posOut.height>0&&(d.dom.el.style.width=g.posOut.width+"px",d.dom.el.style.height=g.posOut.height+"px",d.dom.el.style.marginRight=g.posOut.marginRight+"px",d.dom.el.style.marginBottom=g.posOut.marginBottom+"px"),!d.mixer.config.animation.nudge&&"hide"===g.statusChange&&I.push("translate("+g.posOut.x+"px, "+g.posOut.y+"px)"),g.statusChange){case"hide":k&&(d.dom.el.style.opacity=d.mixer.effectsOut.opacity),I=I.concat(d.mixer.transformOut);break;case"show":k&&(d.dom.el.style.opacity=1)}(d.mixer.config.animation.nudge||!d.mixer.config.animation.nudge&&"hide"!==g.statusChange)&&I.push("translate("+g.posOut.x+"px, "+g.posOut.y+"px)"),d.dom.el.style[E.features.transformProp]=I.join(" "),d.callActions("afterApplyStylesOut",arguments)},writeTransitionRule:function(g,d,y){var I=this,S=I.getDelay(d);return I.callFilters("ruleWriteTransitionRule",g+" "+(y>0?y:I.mixer.config.animation.duration)+"ms "+S+"ms "+("opacity"===g?"linear":I.mixer.config.animation.easing),arguments)},getDelay:function(g){var d=this;return"function"==typeof d.mixer.config.animation.staggerSequence&&(g=d.mixer.config.animation.staggerSequence.call(d,g,d.state)),d.callFilters("delayGetDelay",d.mixer.staggerDuration?g*d.mixer.staggerDuration:0,arguments)},applyTransition:function(g){var d=this,y=g.join(", ");d.callActions("beforeApplyTransition",arguments),d.dom.el.style[E.features.transitionProp]=y,d.callActions("afterApplyTransition",arguments)},handleTransitionEnd:function(g){var d=this,y=g.propertyName,I=d.mixer.config.animation.animateResizeTargets;d.callActions("beforeHandleTransitionEnd",arguments),d.isBound&&g.target.matches(d.mixer.config.selectors.target)&&(y.indexOf("transform")>-1||y.indexOf("opacity")>-1||I&&y.indexOf("height")>-1||I&&y.indexOf("width")>-1||I&&y.indexOf("margin")>-1)&&(d.callback.call(d,d.operation),d.isBound=!1,d.callback=null,d.operation=null),d.callActions("afterHandleTransitionEnd",arguments)},eventBus:function(g){var d=this;switch(d.callActions("beforeEventBus",arguments),g.type){case"webkitTransitionEnd":case"transitionend":d.handleTransitionEnd(g)}d.callActions("afterEventBus",arguments)},unbindEvents:function(){var g=this;g.callActions("beforeUnbindEvents",arguments),C.off(g.dom.el,"webkitTransitionEnd",g.handler),C.off(g.dom.el,"transitionend",g.handler),g.callActions("afterUnbindEvents",arguments)},bindEvents:function(){var d,g=this;g.callActions("beforeBindEvents",arguments),d="webkit"===E.features.transitionPrefix?"webkitTransitionEnd":"transitionend",g.handler=function(y){return g.eventBus(y)},C.on(g.dom.el,d,g.handler),g.callActions("afterBindEvents",arguments)},getPosData:function(g){var d=this,y={},I=null,S=new E.StyleData;return d.callActions("beforeGetPosData",arguments),S.x=d.dom.el.offsetLeft,S.y=d.dom.el.offsetTop,(d.mixer.config.animation.animateResizeTargets||g)&&(I=d.dom.el.getBoundingClientRect(),S.top=I.top,S.right=I.right,S.bottom=I.bottom,S.left=I.left,S.width=I.width,S.height=I.height),d.mixer.config.animation.animateResizeTargets&&(y=Ge.getComputedStyle(d.dom.el),S.marginBottom=parseFloat(y.marginBottom),S.marginRight=parseFloat(y.marginRight)),d.callFilters("posDataGetPosData",S,arguments)},cleanUp:function(){var g=this;g.callActions("beforeCleanUp",arguments),g.dom.el.style[E.features.transformProp]="",g.dom.el.style[E.features.transitionProp]="",g.dom.el.style.opacity="",g.mixer.config.animation.animateResizeTargets&&(g.dom.el.style.width="",g.dom.el.style.height="",g.dom.el.style.marginRight="",g.dom.el.style.marginBottom=""),g.callActions("afterCleanUp",arguments)}}),E.Collection=function(g){var d=null,y=-1;for(this.callActions("beforeConstruct"),y=0;d=g[y];y++)this[y]=d;this.length=g.length,this.callActions("afterConstruct"),C.freeze(this)},E.BaseStatic.call(E.Collection),E.Collection.prototype=Object.create(E.Base.prototype),C.extend(E.Collection.prototype,{constructor:E.Collection,mixitup:function(g){var y=null,I=Array.prototype.slice.call(arguments),S=[],k=-1;for(this.callActions("beforeMixitup"),I.shift(),k=0;y=this[k];k++)S.push(y[g].apply(y,I));return this.callFilters("promiseMixitup",C.all(S,E.libraries),arguments)}}),E.Operation=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.hasFailed=!1,this.triggerElement=null,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.startSort=null,this.newSort=null,this.startFilter=null,this.newFilter=null,this.startDataset=null,this.newDataset=null,this.viewportDeltaX=0,this.viewportDeltaY=0,this.startX=0,this.startY=0,this.startHeight=0,this.startWidth=0,this.newX=0,this.newY=0,this.newHeight=0,this.newWidth=0,this.startContainerClassName="",this.startDisplay="",this.newContainerClassName="",this.newDisplay="",this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.Operation),E.Operation.prototype=Object.create(E.Base.prototype),E.Operation.prototype.constructor=E.Operation,E.State=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.id="",this.activeFilter=null,this.activeSort=null,this.activeContainerClassName="",this.container=null,this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this.activeDataset=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.State),E.State.prototype=Object.create(E.Base.prototype),E.State.prototype.constructor=E.State,E.UserInstruction=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.command={},this.animate=!1,this.callback=null,this.callActions("afterConstruct"),C.seal(this)},E.BaseStatic.call(E.UserInstruction),E.UserInstruction.prototype=Object.create(E.Base.prototype),E.UserInstruction.prototype.constructor=E.UserInstruction,E.Messages=function(){E.Base.call(this),this.callActions("beforeConstruct"),this.ERROR_FACTORY_INVALID_CONTAINER="[MixItUp] An invalid selector or element reference was passed to the mixitup factory function",this.ERROR_FACTORY_CONTAINER_NOT_FOUND="[MixItUp] The provided selector yielded no container element",this.ERROR_CONFIG_INVALID_ANIMATION_EFFECTS="[MixItUp] Invalid value for `animation.effects`",this.ERROR_CONFIG_INVALID_CONTROLS_SCOPE="[MixItUp] Invalid value for `controls.scope`",this.ERROR_CONFIG_INVALID_PROPERTY='[MixitUp] Invalid configuration object property "${erroneous}"${suggestion}',this.ERROR_CONFIG_INVALID_PROPERTY_SUGGESTION='. Did you mean "${probableMatch}"?',this.ERROR_CONFIG_DATA_UID_KEY_NOT_SET="[MixItUp] To use the dataset API, a UID key must be specified using `data.uidKey`",this.ERROR_DATASET_INVALID_UID_KEY='[MixItUp] The specified UID key "${uidKey}" is not present on one or more dataset items',this.ERROR_DATASET_DUPLICATE_UID='[MixItUp] The UID "${uid}" was found on two or more dataset items. UIDs must be unique.',this.ERROR_INSERT_INVALID_ARGUMENTS="[MixItUp] Please provider either an index or a sibling and position to insert, not both",this.ERROR_INSERT_PREEXISTING_ELEMENT="[MixItUp] An element to be inserted already exists in the container",this.ERROR_FILTER_INVALID_ARGUMENTS="[MixItUp] Please provide either a selector or collection `.filter()`, not both",this.ERROR_DATASET_NOT_SET="[MixItUp] To use the dataset API with pre-rendered targets, a starting dataset must be set using `load.dataset`",this.ERROR_DATASET_PRERENDERED_MISMATCH="[MixItUp] `load.dataset` does not match pre-rendered targets",this.ERROR_DATASET_RENDERER_NOT_SET="[MixItUp] To insert an element via the dataset API, a target renderer function must be provided to `render.target`",this.ERROR_SORT_NON_EXISTENT_ELEMENT="[MixItUp] An element to be sorted does not already exist in the container",this.WARNING_FACTORY_PREEXISTING_INSTANCE="[MixItUp] WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this.WARNING_INSERT_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.insert()`",this.WARNING_REMOVE_NO_ELEMENTS="[MixItUp] WARNING: No valid elements were passed to `.remove()`",this.WARNING_MULTIMIX_INSTANCE_QUEUE_FULL="[MixItUp] WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because the queue is full or queuing is disabled.",this.WARNING_GET_OPERATION_INSTANCE_BUSY="[MixItUp] WARNING: Operations can be be created while the MixItUp instance is busy.",this.WARNING_NO_PROMISE_IMPLEMENTATION="[MixItUp] WARNING: No Promise implementations could be found. If you wish to use promises with MixItUp please install an ES6 Promise polyfill.",this.WARNING_INCONSISTENT_SORTING_ATTRIBUTES='[MixItUp] WARNING: The requested sorting data attribute "${attribute}" was not present on one or more target elements which may product unexpected sort output',this.callActions("afterConstruct"),this.compileTemplates(),C.seal(this)},E.BaseStatic.call(E.Messages),E.Messages.prototype=Object.create(E.Base.prototype),E.Messages.prototype.constructor=E.Messages,E.Messages.prototype.compileTemplates=function(){var g="",d="";for(g in this)"string"==typeof(d=this[g])&&(this[C.camelCase(g)]=C.template(d))},E.messages=new E.Messages,E.Facade=function(d){E.Base.call(this),this.callActions("beforeConstruct",arguments),this.configure=d.configure.bind(d),this.show=d.show.bind(d),this.hide=d.hide.bind(d),this.filter=d.filter.bind(d),this.toggleOn=d.toggleOn.bind(d),this.toggleOff=d.toggleOff.bind(d),this.sort=d.sort.bind(d),this.changeLayout=d.changeLayout.bind(d),this.multimix=d.multimix.bind(d),this.dataset=d.dataset.bind(d),this.tween=d.tween.bind(d),this.insert=d.insert.bind(d),this.insertBefore=d.insertBefore.bind(d),this.insertAfter=d.insertAfter.bind(d),this.prepend=d.prepend.bind(d),this.append=d.append.bind(d),this.remove=d.remove.bind(d),this.destroy=d.destroy.bind(d),this.forceRefresh=d.forceRefresh.bind(d),this.forceRender=d.forceRender.bind(d),this.isMixing=d.isMixing.bind(d),this.getOperation=d.getOperation.bind(d),this.getConfig=d.getConfig.bind(d),this.getState=d.getState.bind(d),this.callActions("afterConstruct",arguments),C.freeze(this),C.seal(this)},E.BaseStatic.call(E.Facade),E.Facade.prototype=Object.create(E.Base.prototype),E.Facade.prototype.constructor=E.Facade,yr.exports=E,E.BaseStatic.call(E.constructor),E.NAME="mixitup",E.CORE_VERSION="3.3.2"}(window)},106:(yr,Ge,E)=>{"use strict";E.d(Ge,{Z:()=>_n});var C=E(58),g=E(537),d=E(534),y=E(879);class I{constructor(mt,yt){this._delegate=mt,this.firebase=yt,(0,d._addComponent)(mt,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=mt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this._delegate.automaticDataCollectionEnabled=mt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(mt=>{this._delegate.checkDestroyed(),mt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,d.deleteApp)(this._delegate)))}_getService(mt,yt=d._DEFAULT_ENTRY_NAME){var un;this._delegate.checkDestroyed();const fn=this._delegate.container.getProvider(mt);return!fn.isInitialized()&&"EXPLICIT"===(null===(un=fn.getComponent())||void 0===un?void 0:un.instantiationMode)&&fn.initialize(),fn.getImmediate({identifier:yt})}_removeServiceInstance(mt,yt=d._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(mt).clearInstance(yt)}_addComponent(mt){(0,d._addComponent)(this._delegate,mt)}_addOrOverwriteComponent(mt){(0,d._addOrOverwriteComponent)(this._delegate,mt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const k=new C.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Z(){const Nt=function B(Nt){const mt={},yt={__esModule:!0,initializeApp:function ot(Ne,vt={}){const ce=d.initializeApp(Ne,vt);if((0,C.r3)(mt,ce.name))return mt[ce.name];const Ft=new Nt(ce,yt);return mt[ce.name]=Ft,Ft},app:fn,registerVersion:d.registerVersion,setLogLevel:d.setLogLevel,onLog:d.onLog,apps:null,SDK_VERSION:d.SDK_VERSION,INTERNAL:{registerComponent:function Jn(Ne){const vt=Ne.name,ce=vt.replace("-compat","");if(d._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Ft=(Ut=fn())=>{if("function"!=typeof Ut[ce])throw k.create("invalid-app-argument",{appName:vt});return Ut[ce]()};void 0!==Ne.serviceProps&&(0,C.ZB)(Ft,Ne.serviceProps),yt[ce]=Ft,Nt.prototype[ce]=function(...Ut){return this._getService.bind(this,vt).apply(this,Ne.multipleInstances?Ut:[])}}return"PUBLIC"===Ne.type?yt[ce]:null},removeApp:function un(Ne){delete mt[Ne]},useAsService:function He(Ne,vt){return"serverAuth"===vt?null:vt},modularAPIs:d}};function fn(Ne){if(!(0,C.r3)(mt,Ne=Ne||d._DEFAULT_ENTRY_NAME))throw k.create("no-app",{appName:Ne});return mt[Ne]}return yt.default=yt,Object.defineProperty(yt,"apps",{get:function kt(){return Object.keys(mt).map(Ne=>mt[Ne])}}),fn.App=Nt,yt}(I);return Nt.INTERNAL=Object.assign(Object.assign({},Nt.INTERNAL),{createFirebaseNamespace:Z,extendNamespace:function mt(yt){(0,C.ZB)(Nt,yt)},createSubscribe:C.ne,ErrorFactory:C.LL,deepExtend:C.ZB}),Nt}(),te=new y.Yd("@firebase/app-compat");try{const Nt=(0,C.Rd)();if(void 0!==Nt.firebase){te.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const mt=Nt.firebase.SDK_VERSION;mt&&mt.indexOf("LITE")>=0&&te.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const _n=K;!function ft(Nt){(0,d.registerVersion)("@firebase/app-compat","0.2.43",Nt)}()},534:(yr,Ge,E)=>{"use strict";E.r(Ge),E.d(Ge,{FirebaseError:()=>y.ZR,SDK_VERSION:()=>Ao,_DEFAULT_ENTRY_NAME:()=>Ki,_addComponent:()=>An,_addOrOverwriteComponent:()=>br,_apps:()=>Zi,_clearComponents:()=>oo,_components:()=>Ni,_getProvider:()=>so,_isFirebaseApp:()=>yn,_isFirebaseServerApp:()=>Xr,_registerComponent:()=>Xn,_removeServiceInstance:()=>fs,_serverApps:()=>$n,deleteApp:()=>Fs,getApp:()=>la,getApps:()=>ca,initializeApp:()=>ks,initializeServerApp:()=>ao,onLog:()=>x,registerVersion:()=>O,setLogLevel:()=>R});var C=E(861),g=E(537),d=E(879),y=E(58);const I=(fe,Q)=>Q.some(he=>fe instanceof he);let S,k;const K=new WeakMap,te=new WeakMap,be=new WeakMap,Ke=new WeakMap,ft=new WeakMap;let mt={get(fe,Q,he){if(fe instanceof IDBTransaction){if("done"===Q)return te.get(fe);if("objectStoreNames"===Q)return fe.objectStoreNames||be.get(fe);if("store"===Q)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return ot(fe[Q])},set:(fe,Q,he)=>(fe[Q]=he,!0),has:(fe,Q)=>fe instanceof IDBTransaction&&("done"===Q||"store"===Q)||Q in fe};function fn(fe){return"function"==typeof fe?function un(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z(){return k||(k=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(...Q){return fe.apply(kt(this),Q),ot(K.get(this))}:function(...Q){return ot(fe.apply(kt(this),Q))}:function(Q,...he){const Ze=fe.call(kt(this),Q,...he);return be.set(Ze,Q.sort?Q.sort():[Q]),ot(Ze)}}(fe):(fe instanceof IDBTransaction&&function Nt(fe){if(te.has(fe))return;const Q=new Promise((he,Ze)=>{const xt=()=>{fe.removeEventListener("complete",Rt),fe.removeEventListener("error",Vt),fe.removeEventListener("abort",Vt)},Rt=()=>{he(),xt()},Vt=()=>{Ze(fe.error||new DOMException("AbortError","AbortError")),xt()};fe.addEventListener("complete",Rt),fe.addEventListener("error",Vt),fe.addEventListener("abort",Vt)});te.set(fe,Q)}(fe),I(fe,function B(){return S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,mt):fe)}function ot(fe){if(fe instanceof IDBRequest)return function _n(fe){const Q=new Promise((he,Ze)=>{const xt=()=>{fe.removeEventListener("success",Rt),fe.removeEventListener("error",Vt)},Rt=()=>{he(ot(fe.result)),xt()},Vt=()=>{Ze(fe.error),xt()};fe.addEventListener("success",Rt),fe.addEventListener("error",Vt)});return Q.then(he=>{he instanceof IDBCursor&&K.set(he,fe)}).catch(()=>{}),ft.set(Q,fe),Q}(fe);if(Ke.has(fe))return Ke.get(fe);const Q=fn(fe);return Q!==fe&&(Ke.set(fe,Q),ft.set(Q,fe)),Q}const kt=fe=>ft.get(fe),Ne=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],ce=new Map;function Ft(fe,Q){if(!(fe instanceof IDBDatabase)||Q in fe||"string"!=typeof Q)return;if(ce.get(Q))return ce.get(Q);const he=Q.replace(/FromIndex$/,""),Ze=Q!==he,xt=vt.includes(he);if(!(he in(Ze?IDBIndex:IDBObjectStore).prototype)||!xt&&!Ne.includes(he))return;const Rt=function(){var Vt=(0,C.Z)(function*(Qt,...ei){const nn=this.transaction(Qt,xt?"readwrite":"readonly");let da=nn.store;return Ze&&(da=da.index(ei.shift())),(yield Promise.all([da[he](...ei),xt&&nn.done]))[0]});return function(ei){return Vt.apply(this,arguments)}}();return ce.set(Q,Rt),Rt}!function yt(fe){mt=fe(mt)}(fe=>({...fe,get:(Q,he,Ze)=>Ft(Q,he)||fe.get(Q,he,Ze),has:(Q,he)=>!!Ft(Q,he)||fe.has(Q,he)}));class Ut{constructor(Q){this.container=Q}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function dn(fe){const Q=fe.getComponent();return"VERSION"===Q?.type}(he)){const Ze=he.getImmediate();return`${Ze.library}/${Ze.version}`}return null}).filter(he=>he).join(" ")}}const ci="@firebase/app",mi="0.10.13",bt=new d.Yd("@firebase/app"),Ki="[DEFAULT]",Do={[ci]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Zi=new Map,$n=new Map,Ni=new Map;function An(fe,Q){try{fe.container.addComponent(Q)}catch(he){bt.debug(`Component ${Q.name} failed to register with FirebaseApp ${fe.name}`,he)}}function br(fe,Q){fe.container.addOrOverwriteComponent(Q)}function Xn(fe){const Q=fe.name;if(Ni.has(Q))return bt.debug(`There were multiple attempts to register component ${Q}.`),!1;Ni.set(Q,fe);for(const he of Zi.values())An(he,fe);for(const he of $n.values())An(he,fe);return!0}function so(fe,Q){const he=fe.container.getProvider("heartbeat").getImmediate({optional:!0});return he&&he.triggerHeartbeat(),fe.container.getProvider(Q)}function fs(fe,Q,he=Ki){so(fe,Q).clearInstance(he)}function yn(fe){return void 0!==fe.options}function Xr(fe){return void 0!==fe.settings}function oo(){Ni.clear()}const xn=new y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ui{constructor(Q,he,Ze){this._isDeleted=!1,this._options=Object.assign({},Q),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=Ze,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Q){this.checkDestroyed(),this._automaticDataCollectionEnabled=Q}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Q){this._isDeleted=Q}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}class Qi extends ui{constructor(Q,he,Ze,xt){const Rt=void 0!==he.automaticDataCollectionEnabled&&he.automaticDataCollectionEnabled,Vt={name:Ze,automaticDataCollectionEnabled:Rt};super(void 0!==Q.apiKey?Q:Q.options,Vt,xt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Rt},he),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,he.releaseOnDeref=void 0,O(ci,mi,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(Q){this.isDeleted||(this._refCount++,void 0!==Q&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(Q,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Fs(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xn.create("server-app-deleted")}}const Ao="10.14.1";function ks(fe,Q={}){let he=fe;"object"!=typeof Q&&(Q={name:Q});const Ze=Object.assign({name:Ki,automaticDataCollectionEnabled:!1},Q),xt=Ze.name;if("string"!=typeof xt||!xt)throw xn.create("bad-app-name",{appName:String(xt)});if(he||(he=(0,y.aH)()),!he)throw xn.create("no-options");const Rt=Zi.get(xt);if(Rt){if((0,y.vZ)(he,Rt.options)&&(0,y.vZ)(Ze,Rt.config))return Rt;throw xn.create("duplicate-app",{appName:xt})}const Vt=new g.H0(xt);for(const ei of Ni.values())Vt.addComponent(ei);const Qt=new ui(he,Ze,Vt);return Zi.set(xt,Qt),Qt}function ao(fe,Q){if((0,y.jU)()&&!(0,y.n2)())throw xn.create("invalid-server-app-environment");let he;void 0===Q.automaticDataCollectionEnabled&&(Q.automaticDataCollectionEnabled=!1),he=yn(fe)?fe.options:fe;const Ze=Object.assign(Object.assign({},Q),he);if(void 0!==Ze.releaseOnDeref&&delete Ze.releaseOnDeref,void 0!==Q.releaseOnDeref&&typeof FinalizationRegistry>"u")throw xn.create("finalization-registry-not-supported",{});const Rt=""+(nn=JSON.stringify(Ze),[...nn].reduce((da,Lr)=>Math.imul(31,da)+Lr.charCodeAt(0)|0,0)),Vt=$n.get(Rt);var nn;if(Vt)return Vt.incRefCount(Q.releaseOnDeref),Vt;const Qt=new g.H0(Rt);for(const nn of Ni.values())Qt.addComponent(nn);const ei=new Qi(he,Q,Rt,Qt);return $n.set(Rt,ei),ei}function la(fe=Ki){const Q=Zi.get(fe);if(!Q&&fe===Ki&&(0,y.aH)())return ks();if(!Q)throw xn.create("no-app",{appName:fe});return Q}function ca(){return Array.from(Zi.values())}function Fs(fe){return lo.apply(this,arguments)}function lo(){return(lo=(0,C.Z)(function*(fe){let Q=!1;const he=fe.name;Zi.has(he)?(Q=!0,Zi.delete(he)):$n.has(he)&&fe.decRefCount()<=0&&($n.delete(he),Q=!0),Q&&(yield Promise.all(fe.container.getProviders().map(Ze=>Ze.delete())),fe.isDeleted=!0)})).apply(this,arguments)}function O(fe,Q,he){var Ze;let xt=null!==(Ze=Do[fe])&&void 0!==Ze?Ze:fe;he&&(xt+=`-${he}`);const Rt=xt.match(/\s|\//),Vt=Q.match(/\s|\//);if(Rt||Vt){const Qt=[`Unable to register library "${xt}" with version "${Q}":`];return Rt&&Qt.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Rt&&Vt&&Qt.push("and"),Vt&&Qt.push(`version name "${Q}" contains illegal characters (whitespace or "/")`),void bt.warn(Qt.join(" "))}Xn(new g.wA(`${xt}-version`,()=>({library:xt,version:Q}),"VERSION"))}function x(fe,Q){if(null!==fe&&"function"!=typeof fe)throw xn.create("invalid-log-argument");(0,d.Am)(fe,Q)}function R(fe){(0,d.Ub)(fe)}const V="firebase-heartbeat-database",G=1,Se="firebase-heartbeat-store";let Fe=null;function gt(){return Fe||(Fe=function Jn(fe,Q,{blocked:he,upgrade:Ze,blocking:xt,terminated:Rt}={}){const Vt=indexedDB.open(fe,Q),Qt=ot(Vt);return Ze&&Vt.addEventListener("upgradeneeded",ei=>{Ze(ot(Vt.result),ei.oldVersion,ei.newVersion,ot(Vt.transaction),ei)}),he&&Vt.addEventListener("blocked",ei=>he(ei.oldVersion,ei.newVersion,ei)),Qt.then(ei=>{Rt&&ei.addEventListener("close",()=>Rt()),xt&&ei.addEventListener("versionchange",nn=>xt(nn.oldVersion,nn.newVersion,nn))}).catch(()=>{}),Qt}(V,G,{upgrade:(fe,Q)=>{if(0===Q)try{fe.createObjectStore(Se)}catch(he){console.warn(he)}}}).catch(fe=>{throw xn.create("idb-open",{originalErrorMessage:fe.message})})),Fe}function it(){return(it=(0,C.Z)(function*(fe){try{const he=(yield gt()).transaction(Se),Ze=yield he.objectStore(Se).get(Nn(fe));return yield he.done,Ze}catch(Q){if(Q instanceof y.ZR)bt.warn(Q.message);else{const he=xn.create("idb-get",{originalErrorMessage:Q?.message});bt.warn(he.message)}}})).apply(this,arguments)}function Tn(fe,Q){return Be.apply(this,arguments)}function Be(){return(Be=(0,C.Z)(function*(fe,Q){try{const Ze=(yield gt()).transaction(Se,"readwrite");yield Ze.objectStore(Se).put(Q,Nn(fe)),yield Ze.done}catch(he){if(he instanceof y.ZR)bt.warn(he.message);else{const Ze=xn.create("idb-set",{originalErrorMessage:he?.message});bt.warn(Ze.message)}}})).apply(this,arguments)}function Nn(fe){return`${fe.name}!${fe.options.appId}`}class wt{constructor(Q){this.container=Q,this._heartbeatsCache=null;const he=this.container.getProvider("app").getImmediate();this._storage=new tc(he),this._heartbeatsCachePromise=this._storage.read().then(Ze=>(this._heartbeatsCache=Ze,Ze))}triggerHeartbeat(){var Q=this;return(0,C.Z)(function*(){var he,Ze;try{const Rt=Q.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=ua();return null==(null===(he=Q._heartbeatsCache)||void 0===he?void 0:he.heartbeats)&&(Q._heartbeatsCache=yield Q._heartbeatsCachePromise,null==(null===(Ze=Q._heartbeatsCache)||void 0===Ze?void 0:Ze.heartbeats))||Q._heartbeatsCache.lastSentHeartbeatDate===Vt||Q._heartbeatsCache.heartbeats.some(Qt=>Qt.date===Vt)?void 0:(Q._heartbeatsCache.heartbeats.push({date:Vt,agent:Rt}),Q._heartbeatsCache.heartbeats=Q._heartbeatsCache.heartbeats.filter(Qt=>{const ei=new Date(Qt.date).valueOf();return Date.now()-ei<=2592e6}),Q._storage.overwrite(Q._heartbeatsCache))}catch(xt){bt.warn(xt)}})()}getHeartbeatsHeader(){var Q=this;return(0,C.Z)(function*(){var he;try{if(null===Q._heartbeatsCache&&(yield Q._heartbeatsCachePromise),null==(null===(he=Q._heartbeatsCache)||void 0===he?void 0:he.heartbeats)||0===Q._heartbeatsCache.heartbeats.length)return"";const Ze=ua(),{heartbeatsToSend:xt,unsentEntries:Rt}=function Xa(fe,Q=1024){const he=[];let Ze=fe.slice();for(const xt of fe){const Rt=he.find(Vt=>Vt.agent===xt.agent);if(Rt){if(Rt.dates.push(xt.date),nc(he)>Q){Rt.dates.pop();break}}else if(he.push({agent:xt.agent,dates:[xt.date]}),nc(he)>Q){he.pop();break}Ze=Ze.slice(1)}return{heartbeatsToSend:he,unsentEntries:Ze}}(Q._heartbeatsCache.heartbeats),Vt=(0,y.L)(JSON.stringify({version:2,heartbeats:xt}));return Q._heartbeatsCache.lastSentHeartbeatDate=Ze,Rt.length>0?(Q._heartbeatsCache.heartbeats=Rt,yield Q._storage.overwrite(Q._heartbeatsCache)):(Q._heartbeatsCache.heartbeats=[],Q._storage.overwrite(Q._heartbeatsCache)),Vt}catch(Ze){return bt.warn(Ze),""}})()}}function ua(){return(new Date).toISOString().substring(0,10)}class tc{constructor(Q){this.app=Q,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,y.hl)()&&(0,y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Q=this;return(0,C.Z)(function*(){if(yield Q._canUseIndexedDBPromise){const Ze=yield function Zt(fe){return it.apply(this,arguments)}(Q.app);return Ze?.heartbeats?Ze:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(Q){var he=this;return(0,C.Z)(function*(){var Ze;if(yield he._canUseIndexedDBPromise){const Rt=yield he.read();return Tn(he.app,{lastSentHeartbeatDate:null!==(Ze=Q.lastSentHeartbeatDate)&&void 0!==Ze?Ze:Rt.lastSentHeartbeatDate,heartbeats:Q.heartbeats})}})()}add(Q){var he=this;return(0,C.Z)(function*(){var Ze;if(yield he._canUseIndexedDBPromise){const Rt=yield he.read();return Tn(he.app,{lastSentHeartbeatDate:null!==(Ze=Q.lastSentHeartbeatDate)&&void 0!==Ze?Ze:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...Q.heartbeats]})}})()}}function nc(fe){return(0,y.L)(JSON.stringify({version:2,heartbeats:fe})).length}!function ve(fe){Xn(new g.wA("platform-logger",Q=>new Ut(Q),"PRIVATE")),Xn(new g.wA("heartbeat",Q=>new wt(Q),"PRIVATE")),O(ci,mi,fe),O(ci,mi,"esm2017"),O("fire-js","")}("")},537:(yr,Ge,E)=>{"use strict";E.d(Ge,{H0:()=>B,wA:()=>d});var C=E(861),g=E(58);class d{constructor(K,te,be){this.name=K,this.instanceFactory=te,this.type=be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const y="[DEFAULT]";class I{constructor(K,te){this.name=K,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const te=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(te)){const be=new g.BH;if(this.instancesDeferred.set(te,be),this.isInitialized(te)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:te});Ke&&be.resolve(Ke)}catch{}}return this.instancesDeferred.get(te).promise}getImmediate(K){var te;const be=this.normalizeInstanceIdentifier(K?.identifier),Ke=null!==(te=K?.optional)&&void 0!==te&&te;if(!this.isInitialized(be)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:be})}catch(ft){if(Ke)return null;throw ft}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function k(Z){return"EAGER"===Z.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:y})}catch{}for(const[te,be]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(te);try{const ft=this.getOrInitializeService({instanceIdentifier:Ke});be.resolve(ft)}catch{}}}}clearInstance(K=y){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,C.Z)(function*(){const te=Array.from(K.instances.values());yield Promise.all([...te.filter(be=>"INTERNAL"in be).map(be=>be.INTERNAL.delete()),...te.filter(be=>"_delete"in be).map(be=>be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=y){return this.instances.has(K)}getOptions(K=y){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:te={}}=K,be=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(be))throw Error(`${this.name}(${be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:be,options:te});for(const[ft,_n]of this.instancesDeferred.entries())be===this.normalizeInstanceIdentifier(ft)&&_n.resolve(Ke);return Ke}onInit(K,te){var be;const Ke=this.normalizeInstanceIdentifier(te),ft=null!==(be=this.onInitCallbacks.get(Ke))&&void 0!==be?be:new Set;ft.add(K),this.onInitCallbacks.set(Ke,ft);const _n=this.instances.get(Ke);return _n&&K(_n,Ke),()=>{ft.delete(K)}}invokeOnInitCallbacks(K,te){const be=this.onInitCallbacks.get(te);if(be)for(const Ke of be)try{Ke(K,te)}catch{}}getOrInitializeService({instanceIdentifier:K,options:te={}}){let be=this.instances.get(K);if(!be&&this.component&&(be=this.component.instanceFactory(this.container,{instanceIdentifier:(Z=K,Z===y?void 0:Z),options:te}),this.instances.set(K,be),this.instancesOptions.set(K,te),this.invokeOnInitCallbacks(be,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,be)}catch{}var Z;return be||null}normalizeInstanceIdentifier(K=y){return this.component?this.component.multipleInstances?K:y:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class B{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const te=this.getProvider(K.name);if(te.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);te.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const te=new I(K,this);return this.providers.set(K,te),te}getProviders(){return Array.from(this.providers.values())}}},879:(yr,Ge,E)=>{"use strict";E.d(Ge,{Am:()=>Z,Ub:()=>B,Yd:()=>k,in:()=>g});const C=[];var g=function(K){return K[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K}(g||{});const d={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},y=g.INFO,I={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},S=(K,te,...be)=>{if(te<K.logLevel)return;const Ke=(new Date).toISOString(),ft=I[te];if(!ft)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[ft](`[${Ke}]  ${K.name}:`,...be)};class k{constructor(te){this.name=te,this._logLevel=y,this._logHandler=S,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in g))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?d[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...te),this._logHandler(this,g.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...te),this._logHandler(this,g.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,g.INFO,...te),this._logHandler(this,g.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,g.WARN,...te),this._logHandler(this,g.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...te),this._logHandler(this,g.ERROR,...te)}}function B(K){C.forEach(te=>{te.setLogLevel(K)})}function Z(K,te){for(const be of C){let Ke=null;te&&te.level&&(Ke=d[te.level]),be.userLogHandler=null===K?null:(ft,_n,...Nt)=>{const mt=Nt.map(yt=>{if(null==yt)return null;if("string"==typeof yt)return yt;if("number"==typeof yt||"boolean"==typeof yt)return yt.toString();if(yt instanceof Error)return yt.message;try{return JSON.stringify(yt)}catch{return null}}).filter(yt=>yt).join(" ");_n>=(Ke??ft.logLevel)&&K({level:g[_n].toLowerCase(),message:mt,args:Nt,type:ft.name})}}}},365:(yr,Ge,E)=>{"use strict";E.r(Ge);var C=E(861),g=E(106),d=E(200),y=E(58),k=(E(534),E(879),E(537));function B(){return window}function te(){return te=(0,C.Z)(function*(O,x,R){var V;const{BuildInfo:G}=B();(0,d.au)(x.sessionId,"AuthEvent did not contain a session ID");const Se=yield function yt(O){return un.apply(this,arguments)}(x.sessionId),Fe={};return(0,d.av)()?Fe.ibi=G.packageName:(0,d.aw)()?Fe.apn=G.packageName:(0,d.ax)(O,"operation-not-supported-in-this-environment"),G.displayName&&(Fe.appDisplayName=G.displayName),Fe.sessionId=Se,(0,d.ay)(O,R,x.type,void 0,null!==(V=x.eventId)&&void 0!==V?V:void 0,Fe)}),te.apply(this,arguments)}function Ke(){return(Ke=(0,C.Z)(function*(O){const{BuildInfo:x}=B(),R={};(0,d.av)()?R.iosBundleId=x.packageName:(0,d.aw)()?R.androidPackageName=x.packageName:(0,d.ax)(O,"operation-not-supported-in-this-environment"),yield(0,d.az)(O,R)})).apply(this,arguments)}function Nt(){return(Nt=(0,C.Z)(function*(O,x,R){const{cordova:V}=B();let G=()=>{};try{yield new Promise((Se,Fe)=>{let gt=null;function Zt(){var Be;Se();const Nn=null===(Be=V.plugins.browsertab)||void 0===Be?void 0:Be.close;"function"==typeof Nn&&Nn(),"function"==typeof R?.close&&R.close()}function it(){gt||(gt=window.setTimeout(()=>{Fe((0,d.aB)(O,"redirect-cancelled-by-user"))},2e3))}function Tn(){"visible"===document?.visibilityState&&it()}x.addPassiveListener(Zt),document.addEventListener("resume",it,!1),(0,d.aw)()&&document.addEventListener("visibilitychange",Tn,!1),G=()=>{x.removePassiveListener(Zt),document.removeEventListener("resume",it,!1),document.removeEventListener("visibilitychange",Tn,!1),gt&&window.clearTimeout(gt)}})}finally{G()}})).apply(this,arguments)}function un(){return(un=(0,C.Z)(function*(O){const x=function fn(O){if((0,d.au)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(O);const x=new ArrayBuffer(O.length),R=new Uint8Array(x);for(let V=0;V<O.length;V++)R[V]=O.charCodeAt(V);return R}(O),R=yield crypto.subtle.digest("SHA-256",x);return Array.from(new Uint8Array(R)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class kt extends d.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(x=>{this.resolveInitialized=x})}addPassiveListener(x){this.passiveListeners.add(x)}removePassiveListener(x){this.passiveListeners.delete(x)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(x){return this.resolveInitialized(),this.passiveListeners.forEach(R=>R(x)),super.onEvent(x)}initialized(){var x=this;return(0,C.Z)(function*(){yield x.initPromise})()}}function Ne(O){return vt.apply(this,arguments)}function vt(){return(vt=(0,C.Z)(function*(O){const x=yield Ut()._get(dn(O));return x&&(yield Ut()._remove(dn(O))),x})).apply(this,arguments)}function Ft(){const O=[];for(let R=0;R<20;R++){const V=Math.floor(62*Math.random());O.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(V))}return O.join("")}function Ut(){return(0,d.aE)(d.b)}function dn(O){return(0,d.aF)("authEvent",O.config.apiKey,O.name)}function bt(O){if(!O?.includes("?"))return{};const[x,...R]=O.split("?");return(0,y.zd)(R.join("?"))}const le=class Ui{constructor(){this._redirectPersistence=d.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=d.aG,this._overrideRedirectResult=d.aH}_initialize(x){var R=this;return(0,C.Z)(function*(){const V=x._key();let G=R.eventManagers.get(V);return G||(G=new kt(x),R.eventManagers.set(V,G),R.attachCallbackListeners(x,G)),G})()}_openPopup(x){(0,d.ax)(x,"operation-not-supported-in-this-environment")}_openRedirect(x,R,V,G){var Se=this;return(0,C.Z)(function*(){!function mt(O){var x,R,V,G,Se,Fe,gt,Zt,it,Tn;const Be=B();(0,d.aC)("function"==typeof(null===(x=Be?.universalLinks)||void 0===x?void 0:x.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,d.aC)(typeof(null===(R=Be?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,d.aC)("function"==typeof(null===(Se=null===(G=null===(V=Be?.cordova)||void 0===V?void 0:V.plugins)||void 0===G?void 0:G.browsertab)||void 0===Se?void 0:Se.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,d.aC)("function"==typeof(null===(Zt=null===(gt=null===(Fe=Be?.cordova)||void 0===Fe?void 0:Fe.plugins)||void 0===gt?void 0:gt.browsertab)||void 0===Zt?void 0:Zt.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,d.aC)("function"==typeof(null===(Tn=null===(it=Be?.cordova)||void 0===it?void 0:it.InAppBrowser)||void 0===Tn?void 0:Tn.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(x);const Fe=yield Se._initialize(x);yield Fe.initialized(),Fe.resetRedirect(),(0,d.aI)(),yield Se._originValidation(x);const gt=function Jn(O,x,R=null){return{type:x,eventId:R,urlResponse:null,sessionId:Ft(),postBody:null,tenantId:O.tenantId,error:(0,d.aB)(O,"no-auth-event")}}(x,V,G);yield function He(O,x){return Ut()._set(dn(O),x)}(x,gt);const Zt=yield function K(O,x,R){return te.apply(this,arguments)}(x,gt,R),it=yield function ft(O){const{cordova:x}=B();return new Promise(R=>{x.plugins.browsertab.isAvailable(V=>{let G=null;V?x.plugins.browsertab.openUrl(O):G=x.InAppBrowser.open(O,(0,d.aA)()?"_blank":"_system","location=yes"),R(G)})})}(Zt);return function _n(O,x,R){return Nt.apply(this,arguments)}(x,Fe,it)})()}_isIframeWebStorageSupported(x,R){throw new Error("Method not implemented.")}_originValidation(x){const R=x._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function be(O){return Ke.apply(this,arguments)}(x)),this.originValidationPromises[R]}attachCallbackListeners(x,R){const{universalLinks:V,handleOpenURL:G,BuildInfo:Se}=B(),Fe=setTimeout((0,C.Z)(function*(){yield Ne(x),R.onEvent(ue())}),500),gt=function(){var Tn=(0,C.Z)(function*(Be){clearTimeout(Fe);const Nn=yield Ne(x);let es=null;Nn&&Be?.url&&(es=function ce(O,x){var R,V;const G=function mi(O){const x=bt(O),R=x.link?decodeURIComponent(x.link):void 0,V=bt(R).link,G=x.deep_link_id?decodeURIComponent(x.deep_link_id):void 0;return bt(G).link||G||V||R||O}(x);if(G.includes("/__/auth/callback")){const Se=bt(G),Fe=Se.firebaseError?function ci(O){try{return JSON.parse(O)}catch{return null}}(decodeURIComponent(Se.firebaseError)):null,gt=null===(V=null===(R=Fe?.code)||void 0===R?void 0:R.split("auth/"))||void 0===V?void 0:V[1],Zt=gt?(0,d.aB)(gt):null;return Zt?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:Zt,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:G,postBody:null}}return null}(Nn,Be.url)),R.onEvent(es||ue())});return function(Nn){return Tn.apply(this,arguments)}}();typeof V<"u"&&"function"==typeof V.subscribe&&V.subscribe(null,gt);const Zt=G,it=`${Se.packageName.toLowerCase()}://`;B().handleOpenURL=function(){var Tn=(0,C.Z)(function*(Be){if(Be.toLowerCase().startsWith(it)&&gt({url:Be}),"function"==typeof Zt)try{Zt(Be)}catch(Nn){console.error(Nn)}});return function(Be){return Tn.apply(this,arguments)}}()}};function ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,d.aB)("no-auth-event")}}function Le(){var O;return(null===(O=self?.location)||void 0===O?void 0:O.protocol)||null}function $e(O=(0,y.z$)()){return!("file:"!==Le()&&"ionic:"!==Le()&&"capacitor:"!==Le()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cn(){try{const O=self.localStorage,x=d.aN();if(O)return O.setItem(x,"1"),O.removeItem(x),!function At(O=(0,y.z$)()){return function ut(){return(0,y.w1)()&&11===document?.documentMode}()||function _t(O=(0,y.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,y.hl)()}catch{return Vn()&&(0,y.hl)()}return!1}function Vn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Mi(){return(function Tt(){return"http:"===Le()||"https:"===Le()}()||(0,y.ru)()||$e())&&!function Je(){return(0,y.b$)()||(0,y.UG)()}()&&Cn()&&!Vn()}function Hi(){return $e()&&typeof document<"u"}function no(){return(no=(0,C.Z)(function*(){return!!Hi()&&new Promise(O=>{const x=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(x),O(!0)})})})).apply(this,arguments)}const ln={LOCAL:"local",NONE:"none",SESSION:"session"},Ir=d.aC,io="persistence";function ro(O){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,C.Z)(function*(O){yield O._initializationPromise;const x=Zi(),R=d.aF(io,O.config.apiKey,O.name);x&&x.setItem(R,O._getPersistence())})).apply(this,arguments)}function Zi(){var O;try{return(null===(O=function Ms(){return typeof window<"u"?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch{return null}}const $n=d.aC;class Ni{constructor(){this.browserResolver=d.aE(d.k),this.cordovaResolver=d.aE(le),this.underlyingResolver=null,this._redirectPersistence=d.a,this._completeRedirectFn=d.aG,this._overrideRedirectResult=d.aH}_initialize(x){var R=this;return(0,C.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(x)})()}_openPopup(x,R,V,G){var Se=this;return(0,C.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openPopup(x,R,V,G)})()}_openRedirect(x,R,V,G){var Se=this;return(0,C.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openRedirect(x,R,V,G)})()}_isIframeWebStorageSupported(x,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(x,R)}_originValidation(x){return this.assertedUnderlyingResolver._originValidation(x)}get _shouldInitProactively(){return Hi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $n(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var x=this;return(0,C.Z)(function*(){if(x.underlyingResolver)return;const R=yield function or(){return no.apply(this,arguments)}();x.underlyingResolver=R?x.cordovaResolver:x.browserResolver})()}}function An(O){return O.unwrap()}function Xn(O){return fs(O)}function fs(O){const{_tokenResponse:x}=O instanceof y.ZR?O.customData:O;if(!x)return null;if(!(O instanceof y.ZR)&&"temporaryProof"in x&&"phoneNumber"in x)return d.P.credentialFromResult(O);const R=x.providerId;if(!R||R===d.p.PASSWORD)return null;let V;switch(R){case d.p.GOOGLE:V=d.X;break;case d.p.FACEBOOK:V=d.W;break;case d.p.GITHUB:V=d.Y;break;case d.p.TWITTER:V=d.$;break;default:const{oauthIdToken:G,oauthAccessToken:Se,oauthTokenSecret:Fe,pendingToken:gt,nonce:Zt}=x;return Se||Fe||G||gt?gt?R.startsWith("saml.")?d.aQ._create(R,gt):d.N._fromParams({providerId:R,signInMethod:R,pendingToken:gt,idToken:G,accessToken:Se}):new d.Z(R).credential({idToken:G,accessToken:Se,rawNonce:Zt}):null}return O instanceof y.ZR?V.credentialFromError(O):V.credentialFromResult(O)}function yn(O,x){return x.catch(R=>{throw R instanceof y.ZR&&function so(O,x){var R;const V=null===(R=x.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===x?.code)x.resolver=new Ns(O,d.as(O,x));else if(V){const G=fs(x),Se=x;G&&(Se.credential=G,Se.tenantId=V.tenantId||void 0,Se.email=V.email||void 0,Se.phoneNumber=V.phoneNumber||void 0)}}(O,R),R}).then(R=>{const G=R.user;return{operationType:R.operationType,credential:Xn(R),additionalUserInfo:d.aq(R),user:xn.getOrCreate(G)}})}function Xr(O,x){return oo.apply(this,arguments)}function oo(){return(oo=(0,C.Z)(function*(O,x){const R=yield x;return{verificationId:R.verificationId,confirm:V=>yn(O,R.confirm(V))}})).apply(this,arguments)}class Ns{constructor(x,R){this.resolver=R,this.auth=function br(O){return O.wrapped()}(x)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(x){return yn(An(this.auth),this.resolver.resolveSignIn(x))}}class xn{constructor(x){this._delegate=x,this.multiFactor=d.at(x)}static getOrCreate(x){return xn.USER_MAP.has(x)||xn.USER_MAP.set(x,new xn(x)),xn.USER_MAP.get(x)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(x){return this._delegate.getIdTokenResult(x)}getIdToken(x){return this._delegate.getIdToken(x)}linkAndRetrieveDataWithCredential(x){return this.linkWithCredential(x)}linkWithCredential(x){var R=this;return(0,C.Z)(function*(){return yn(R.auth,d.a2(R._delegate,x))})()}linkWithPhoneNumber(x,R){var V=this;return(0,C.Z)(function*(){return Xr(V.auth,d.l(V._delegate,x,R))})()}linkWithPopup(x){var R=this;return(0,C.Z)(function*(){return yn(R.auth,d.d(R._delegate,x,Ni))})()}linkWithRedirect(x){var R=this;return(0,C.Z)(function*(){return yield ro(d.aJ(R.auth)),d.g(R._delegate,x,Ni)})()}reauthenticateAndRetrieveDataWithCredential(x){return this.reauthenticateWithCredential(x)}reauthenticateWithCredential(x){var R=this;return(0,C.Z)(function*(){return yn(R.auth,d.a3(R._delegate,x))})()}reauthenticateWithPhoneNumber(x,R){return Xr(this.auth,d.r(this._delegate,x,R))}reauthenticateWithPopup(x){return yn(this.auth,d.e(this._delegate,x,Ni))}reauthenticateWithRedirect(x){var R=this;return(0,C.Z)(function*(){return yield ro(d.aJ(R.auth)),d.h(R._delegate,x,Ni)})()}sendEmailVerification(x){return d.ag(this._delegate,x)}unlink(x){var R=this;return(0,C.Z)(function*(){return yield d.ap(R._delegate,x),R})()}updateEmail(x){return d.al(this._delegate,x)}updatePassword(x){return d.am(this._delegate,x)}updatePhoneNumber(x){return d.u(this._delegate,x)}updateProfile(x){return d.ak(this._delegate,x)}verifyBeforeUpdateEmail(x,R){return d.ah(this._delegate,x,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xn.USER_MAP=new WeakMap;const ui=d.aC;let Qi=(()=>{class O{constructor(R,V){if(this.app=R,V.isInitialized())return this._delegate=V.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=R.options;ui(G,"invalid-api-key",{appName:R.name}),ui(G,"invalid-api-key",{appName:R.name});const Se=typeof window<"u"?Ni:void 0;this._delegate=V.initialize({options:{persistence:ks(G,R.name),popupRedirectResolver:Se}}),this._delegate._updateErrorMap(d.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,V){d.K(this._delegate,R,V)}applyActionCode(R){return d.a7(this._delegate,R)}checkActionCode(R){return d.a8(this._delegate,R)}confirmPasswordReset(R,V){return d.a6(this._delegate,R,V)}createUserWithEmailAndPassword(R,V){var G=this;return(0,C.Z)(function*(){return yn(G._delegate,d.aa(G._delegate,R,V))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return d.af(this._delegate,R)}isSignInWithEmailLink(R){return d.ad(this._delegate,R)}getRedirectResult(){var R=this;return(0,C.Z)(function*(){ui(Mi(),R._delegate,"operation-not-supported-in-this-environment");const V=yield d.j(R._delegate,Ni);return V?yn(R._delegate,Promise.resolve(V)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function oe(O,x){(0,d.aJ)(O)._logFramework(x)}(this._delegate,R)}onAuthStateChanged(R,V,G){const{next:Se,error:Fe,complete:gt}=Ao(R,V,G);return this._delegate.onAuthStateChanged(Se,Fe,gt)}onIdTokenChanged(R,V,G){const{next:Se,error:Fe,complete:gt}=Ao(R,V,G);return this._delegate.onIdTokenChanged(Se,Fe,gt)}sendSignInLinkToEmail(R,V){return d.ac(this._delegate,R,V)}sendPasswordResetEmail(R,V){return d.a5(this._delegate,R,V||void 0)}setPersistence(R){var V=this;return(0,C.Z)(function*(){let G;switch(function So(O,x){Ir(Object.values(ln).includes(x),O,"invalid-persistence-type"),(0,y.b$)()?Ir(x!==ln.SESSION,O,"unsupported-persistence-type"):(0,y.UG)()?Ir(x===ln.NONE,O,"unsupported-persistence-type"):Vn()?Ir(x===ln.NONE||x===ln.LOCAL&&(0,y.hl)(),O,"unsupported-persistence-type"):Ir(x===ln.NONE||Cn(),O,"unsupported-persistence-type")}(V._delegate,R),R){case ln.SESSION:G=d.a;break;case ln.LOCAL:G=(yield d.aE(d.i)._isAvailable())?d.i:d.b;break;case ln.NONE:G=d.U;break;default:return d.ax("argument-error",{appName:V._delegate.name})}return V._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return yn(this._delegate,d.a0(this._delegate))}signInWithCredential(R){return yn(this._delegate,d.a1(this._delegate,R))}signInWithCustomToken(R){return yn(this._delegate,d.a4(this._delegate,R))}signInWithEmailAndPassword(R,V){return yn(this._delegate,d.ab(this._delegate,R,V))}signInWithEmailLink(R,V){return yn(this._delegate,d.ae(this._delegate,R,V))}signInWithPhoneNumber(R,V){return Xr(this._delegate,d.s(this._delegate,R,V))}signInWithPopup(R){var V=this;return(0,C.Z)(function*(){return ui(Mi(),V._delegate,"operation-not-supported-in-this-environment"),yn(V._delegate,d.c(V._delegate,R,Ni))})()}signInWithRedirect(R){var V=this;return(0,C.Z)(function*(){return ui(Mi(),V._delegate,"operation-not-supported-in-this-environment"),yield ro(V._delegate),d.f(V._delegate,R,Ni)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return d.a9(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=ln,O})();function Ao(O,x,R){let V=O;"function"!=typeof O&&({next:V,error:x,complete:R}=O);const G=V;return{next:Fe=>G(Fe&&xn.getOrCreate(Fe)),error:x,complete:R}}function ks(O,x){const R=function Do(O,x){const R=Zi();if(!R)return[];const V=d.aF(io,O,x);switch(R.getItem(V)){case ln.NONE:return[d.U];case ln.LOCAL:return[d.i,d.a];case ln.SESSION:return[d.a];default:return[]}}(O,x);if(typeof self<"u"&&!R.includes(d.i)&&R.push(d.i),typeof window<"u")for(const V of[d.b,d.a])R.includes(V)||R.push(V);return R.includes(d.U)||R.push(d.U),R}class ao{constructor(){this.providerId="phone",this._delegate=new d.P(An(g.Z.auth()))}static credential(x,R){return d.P.credential(x,R)}verifyPhoneNumber(x,R){return this._delegate.verifyPhoneNumber(x,R)}unwrap(){return this._delegate}}ao.PHONE_SIGN_IN_METHOD=d.P.PHONE_SIGN_IN_METHOD,ao.PROVIDER_ID=d.P.PROVIDER_ID;const la=d.aC;class ca{constructor(x,R,V=g.Z.app()){var G;la(null===(G=V.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:V.name}),this._delegate=new d.R(V.auth(),x,R),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function lo(O){O.INTERNAL.registerComponent(new k.wA("auth-compat",x=>{const R=x.getProvider("app-compat").getImmediate(),V=x.getProvider("auth");return new Qi(R,V)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:d.A.EMAIL_SIGNIN,PASSWORD_RESET:d.A.PASSWORD_RESET,RECOVER_EMAIL:d.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:d.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:d.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:d.A.VERIFY_EMAIL}},EmailAuthProvider:d.V,FacebookAuthProvider:d.W,GithubAuthProvider:d.Y,GoogleAuthProvider:d.X,OAuthProvider:d.Z,SAMLAuthProvider:d._,PhoneAuthProvider:ao,PhoneMultiFactorGenerator:d.m,RecaptchaVerifier:ca,TwitterAuthProvider:d.$,Auth:Qi,AuthCredential:d.L,Error:y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.5.14")}(g.Z)},861:(yr,Ge,E)=>{"use strict";function C(d,y,I,S,k,B,Z){try{var K=d[B](Z),te=K.value}catch(be){return void I(be)}K.done?y(te):Promise.resolve(te).then(S,k)}function g(d){return function(){var y=this,I=arguments;return new Promise(function(S,k){var B=d.apply(y,I);function Z(te){C(B,S,k,Z,K,"next",te)}function K(te){C(B,S,k,Z,K,"throw",te)}Z(void 0)})}}E.d(Ge,{Z:()=>g})},582:(yr,Ge,E)=>{"use strict";function y(le,ue){var oe={};for(var Ie in le)Object.prototype.hasOwnProperty.call(le,Ie)&&ue.indexOf(Ie)<0&&(oe[Ie]=le[Ie]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var we=0;for(Ie=Object.getOwnPropertySymbols(le);we<Ie.length;we++)ue.indexOf(Ie[we])<0&&Object.prototype.propertyIsEnumerable.call(le,Ie[we])&&(oe[Ie[we]]=le[Ie[we]])}return oe}function be(le,ue,oe,Ie){return new(oe||(oe=Promise))(function(ae,Le){function Tt(ut){try{Je(Ie.next(ut))}catch(_t){Le(_t)}}function $e(ut){try{Je(Ie.throw(ut))}catch(_t){Le(_t)}}function Je(ut){ut.done?ae(ut.value):function we(ae){return ae instanceof oe?ae:new oe(function(Le){Le(ae)})}(ut.value).then(Tt,$e)}Je((Ie=Ie.apply(le,ue||[])).next())})}function ot(le){return this instanceof ot?(this.v=le,this):new ot(le)}function kt(le,ue,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,Ie=oe.apply(le,ue||[]),ae=[];return we={},Le("next"),Le("throw"),Le("return"),we[Symbol.asyncIterator]=function(){return this},we;function Le(At){Ie[At]&&(we[At]=function(Cn){return new Promise(function(Vn,Mi){ae.push([At,Cn,Vn,Mi])>1||Tt(At,Cn)})})}function Tt(At,Cn){try{!function $e(At){At.value instanceof ot?Promise.resolve(At.value.v).then(Je,ut):_t(ae[0][2],At)}(Ie[At](Cn))}catch(Vn){_t(ae[0][3],Vn)}}function Je(At){Tt("next",At)}function ut(At){Tt("throw",At)}function _t(At,Cn){At(Cn),ae.shift(),ae.length&&Tt(ae[0][0],ae[0][1])}}function He(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ue=le[Symbol.asyncIterator];return ue?ue.call(le):(le=function Nt(le){var ue="function"==typeof Symbol&&Symbol.iterator,oe=ue&&le[ue],Ie=0;if(oe)return oe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Ie>=le.length&&(le=void 0),{value:le&&le[Ie++],done:!le}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),oe={},Ie("next"),Ie("throw"),Ie("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function Ie(ae){oe[ae]=le[ae]&&function(Le){return new Promise(function(Tt,$e){!function we(ae,Le,Tt,$e){Promise.resolve($e).then(function(Je){ae({value:Je,done:Tt})},Le)}(Tt,$e,(Le=le[ae](Le)).done,Le.value)})}}}E.d(Ge,{FC:()=>kt,KL:()=>He,_T:()=>y,mG:()=>be,qq:()=>ot}),"function"==typeof SuppressedError&&SuppressedError}},yr=>{yr(yr.s=299)}]);